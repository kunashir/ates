  [1m[35m (247.7ms)[0m  [1m[35mCREATE DATABASE "auth_development" ENCODING = 'unicode'[0m
  [1m[35m (84.3ms)[0m  [1m[35mCREATE DATABASE "auth_test" ENCODING = 'unicode'[0m
  [1m[35m (15.6ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (6.7ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (2.7ms)[0m  [1m[34mSELECT pg_try_advisory_lock(439837519115335530)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to DeviseCreateAccounts (20220509071944)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (5.7ms)[0m  [1m[35mCREATE TABLE "accounts" ("id" bigserial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "public_id" uuid DEFAULT gen_random_uuid() NOT NULL, "full_name" character varying, "position" character varying, "active" boolean DEFAULT TRUE, "reset_password_token" character varying, "reset_password_sent_at" timestamp(6), "remember_created_at" timestamp(6), "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_accounts_on_email" ON "accounts" ("email")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_accounts_on_reset_password_token" ON "accounts" ("reset_password_token")[0m
  [1m[36mActiveRecord::SchemaMigration Create (2.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20220509071944"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2022-05-09 07:34:01.538020"], ["updated_at", "2022-05-09 07:34:01.538020"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(439837519115335530)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/admin/surveys/" for ::1 at 2022-05-09 09:34:12 +0200
  [1m[36mActiveRecord::SchemaMigration Pluck (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActionController::RoutingError (No route matches [GET] "/admin/surveys"):
  
Started GET "/" for ::1 at 2022-05-09 09:34:20 +0200
Processing by Rails::WelcomeController#index as HTML
  Rendering /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/railties-7.0.2.4/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/railties-7.0.2.4/lib/rails/templates/rails/welcome/index.html.erb (Duration: 1.1ms | Allocations: 379)
Completed 200 OK in 4ms (Views: 2.4ms | ActiveRecord: 0.0ms | Allocations: 1413)


Started GET "/accounts/sign_up" for ::1 at 2022-05-09 09:34:40 +0200
Processing by Devise::RegistrationsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/devise-4.8.1/app/views/devise/registrations/new.html.erb within layouts/application
  Rendered /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/devise-4.8.1/app/views/devise/shared/_error_messages.html.erb (Duration: 1.1ms | Allocations: 242)
  Rendered /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/devise-4.8.1/app/views/devise/shared/_links.html.erb (Duration: 1.5ms | Allocations: 668)
  Rendered /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/devise-4.8.1/app/views/devise/registrations/new.html.erb within layouts/application (Duration: 35.5ms | Allocations: 10733)
  Rendered layout layouts/application.html.erb (Duration: 548.7ms | Allocations: 102852)
Completed 200 OK in 570ms (Views: 551.7ms | ActiveRecord: 4.0ms | Allocations: 112713)


Started POST "/accounts" for ::1 at 2022-05-09 09:34:52 +0200
Processing by Devise::RegistrationsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "account"=>{"email"=>"kunash123@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Exists? (3.0ms)[0m  [1m[34mSELECT 1 AS one FROM "accounts" WHERE "accounts"."email" = $1 LIMIT $2[0m  [["email", "kunash123@gmail.com"], ["LIMIT", 1]]
  [1m[36mAccount Create (1.8ms)[0m  [1m[32mINSERT INTO "accounts" ("email", "encrypted_password", "full_name", "position", "active", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["email", "kunash123@gmail.com"], ["encrypted_password", "[FILTERED]"], ["full_name", nil], ["position", nil], ["active", true], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2022-05-09 07:34:53.277101"], ["updated_at", "2022-05-09 07:34:53.277101"]]
  [1m[36mTRANSACTION (4.2ms)[0m  [1m[35mCOMMIT[0m
Redirected to 
Completed 500 Internal Server Error in 390ms (ActiveRecord: 9.1ms | Allocations: 13241)


  
NoMethodError (undefined method `account_url' for #<Devise::RegistrationsController:0x0000000000a528>
Did you mean?  account_session_url):
  
actionpack (7.0.2.4) lib/action_dispatch/routing/polymorphic_routes.rb:231:in `public_send'
actionpack (7.0.2.4) lib/action_dispatch/routing/polymorphic_routes.rb:231:in `polymorphic_method'
actionpack (7.0.2.4) lib/action_dispatch/routing/polymorphic_routes.rb:116:in `polymorphic_url'
actionpack (7.0.2.4) lib/action_dispatch/routing/url_for.rb:187:in `full_url_for'
actionpack (7.0.2.4) lib/action_dispatch/routing/url_for.rb:170:in `url_for'
actionpack (7.0.2.4) lib/action_controller/metal/redirecting.rb:144:in `_compute_redirect_to_location'
actionpack (7.0.2.4) lib/action_controller/metal/redirecting.rb:89:in `redirect_to'
actionpack (7.0.2.4) lib/action_controller/metal/flash.rb:62:in `redirect_to'
actionpack (7.0.2.4) lib/action_controller/metal/instrumentation.rb:42:in `block in redirect_to'
activesupport (7.0.2.4) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.0.2.4) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (7.0.2.4) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.0.2.4) lib/action_controller/metal/instrumentation.rb:41:in `redirect_to'
responders (3.0.1) lib/action_controller/responder.rb:147:in `redirect_to'
responders (3.0.1) lib/action_controller/responder.rb:207:in `navigation_behavior'
responders (3.0.1) lib/action_controller/responder.rb:174:in `rescue in to_html'
responders (3.0.1) lib/action_controller/responder.rb:171:in `to_html'
responders (3.0.1) lib/action_controller/responder.rb:165:in `respond'
responders (3.0.1) lib/action_controller/responder.rb:158:in `call'
responders (3.0.1) lib/action_controller/respond_with.rb:213:in `respond_with'
devise (4.8.1) app/controllers/devise/registrations_controller.rb:25:in `create'
actionpack (7.0.2.4) lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
actionpack (7.0.2.4) lib/abstract_controller/base.rb:214:in `process_action'
actionpack (7.0.2.4) lib/action_controller/metal/rendering.rb:53:in `process_action'
actionpack (7.0.2.4) lib/abstract_controller/callbacks.rb:234:in `block in process_action'
activesupport (7.0.2.4) lib/active_support/callbacks.rb:107:in `run_callbacks'
actionpack (7.0.2.4) lib/abstract_controller/callbacks.rb:233:in `process_action'
actionpack (7.0.2.4) lib/action_controller/metal/rescue.rb:22:in `process_action'
actionpack (7.0.2.4) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'
activesupport (7.0.2.4) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.0.2.4) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (7.0.2.4) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.0.2.4) lib/action_controller/metal/instrumentation.rb:66:in `process_action'
actionpack (7.0.2.4) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.2.4) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.2.4) lib/abstract_controller/base.rb:151:in `process'
actionview (7.0.2.4) lib/action_view/rendering.rb:39:in `process'
actionpack (7.0.2.4) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.2.4) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.2.4) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.2.4) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.2.4) lib/action_dispatch/routing/mapper.rb:18:in `block in <class:Constraints>'
actionpack (7.0.2.4) lib/action_dispatch/routing/mapper.rb:48:in `serve'
actionpack (7.0.2.4) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.2.4) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.2.4) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.2.4) lib/action_dispatch/routing/route_set.rb:850:in `call'
warden (1.2.9) lib/warden/manager.rb:36:in `block in call'
warden (1.2.9) lib/warden/manager.rb:34:in `catch'
warden (1.2.9) lib/warden/manager.rb:34:in `call'
rack (2.2.3) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.2.3) lib/rack/etag.rb:27:in `call'
rack (2.2.3) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.3) lib/rack/head.rb:12:in `call'
actionpack (7.0.2.4) lib/action_dispatch/http/permissions_policy.rb:22:in `call'
actionpack (7.0.2.4) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.2.3) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.3) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.2.4) lib/action_dispatch/middleware/cookies.rb:693:in `call'
activerecord (7.0.2.4) lib/active_record/migration.rb:603:in `call'
actionpack (7.0.2.4) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.2.4) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.2.4) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.2.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.2.4) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.2.4) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
web-console (4.2.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `call'
actionpack (7.0.2.4) lib/action_dispatch/middleware/show_exceptions.rb:26:in `call'
railties (7.0.2.4) lib/rails/rack/logger.rb:36:in `call_app'
railties (7.0.2.4) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.2.4) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.2.4) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.2.4) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.2.4) lib/rails/rack/logger.rb:25:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (7.0.2.4) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.2.4) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.2.4) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.2.4) lib/action_dispatch/middleware/server_timing.rb:20:in `call'
actionpack (7.0.2.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.2.4) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.2.4) lib/action_dispatch/middleware/host_authorization.rb:137:in `call'
railties (7.0.2.4) lib/rails/engine.rb:530:in `call'
puma (5.6.4) lib/puma/configuration.rb:252:in `call'
puma (5.6.4) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.4) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.4) lib/puma/request.rb:76:in `handle_request'
puma (5.6.4) lib/puma/server.rb:441:in `process_client'
puma (5.6.4) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started GET "/accounts/sign_up" for ::1 at 2022-05-09 09:45:07 +0200
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Devise::RegistrationsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/devise-4.8.1/app/views/devise/registrations/new.html.erb within layouts/application
  Rendered /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/devise-4.8.1/app/views/devise/shared/_error_messages.html.erb (Duration: 0.7ms | Allocations: 249)
  Rendered /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/devise-4.8.1/app/views/devise/shared/_links.html.erb (Duration: 1.1ms | Allocations: 673)
  Rendered /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/devise-4.8.1/app/views/devise/registrations/new.html.erb within layouts/application (Duration: 17.6ms | Allocations: 8541)
  Rendered layout layouts/application.html.erb (Duration: 60.0ms | Allocations: 44778)
Completed 200 OK in 84ms (Views: 67.0ms | ActiveRecord: 3.8ms | Allocations: 56671)


Started POST "/accounts" for ::1 at 2022-05-09 09:45:20 +0200
Processing by Devise::RegistrationsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "account"=>{"email"=>"kunash123@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "accounts" WHERE "accounts"."email" = $1 LIMIT $2[0m  [["email", "kunash123@gmail.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  Rendering layout layouts/application.html.erb
  Rendering /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/devise-4.8.1/app/views/devise/registrations/new.html.erb within layouts/application
  Rendered /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/devise-4.8.1/app/views/devise/shared/_error_messages.html.erb (Duration: 1.1ms | Allocations: 570)
  Rendered /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/devise-4.8.1/app/views/devise/shared/_links.html.erb (Duration: 0.1ms | Allocations: 99)
  Rendered /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/devise-4.8.1/app/views/devise/registrations/new.html.erb within layouts/application (Duration: 3.3ms | Allocations: 2450)
  Rendered layout layouts/application.html.erb (Duration: 5.9ms | Allocations: 4891)
Completed 200 OK in 220ms (Views: 6.4ms | ActiveRecord: 0.9ms | Allocations: 13963)


Started GET "/accounts/sign_in" for ::1 at 2022-05-09 09:45:33 +0200
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/devise-4.8.1/app/views/devise/shared/_links.html.erb (Duration: 5.2ms | Allocations: 406)
  Rendered /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application (Duration: 20.1ms | Allocations: 2629)
  Rendered layout layouts/application.html.erb (Duration: 24.2ms | Allocations: 5088)
Completed 200 OK in 31ms (Views: 28.1ms | ActiveRecord: 0.0ms | Allocations: 6844)


Started POST "/accounts/sign_in" for ::1 at 2022-05-09 09:45:42 +0200
Processing by Devise::SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "account"=>{"email"=>"kunash123@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mAccount Load (4.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."email" = $1 ORDER BY "accounts"."id" ASC LIMIT $2[0m  [["email", "kunash123@gmail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 231ms (ActiveRecord: 4.2ms | Allocations: 3534)


Started GET "/" for ::1 at 2022-05-09 09:45:43 +0200
Processing by AccountsController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering accounts/index.html.erb within layouts/application
  Rendered accounts/index.html.erb within layouts/application (Duration: 0.7ms | Allocations: 123)
  Rendered layout layouts/application.html.erb (Duration: 3.7ms | Allocations: 3154)
Completed 200 OK in 5ms (Views: 4.8ms | ActiveRecord: 0.0ms | Allocations: 4111)


Started GET "/" for ::1 at 2022-05-09 09:47:41 +0200
Processing by AccountsController#index as HTML
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 ORDER BY "accounts"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering accounts/index.html.erb within layouts/application
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/views/accounts/index.html.erb:20
  Rendered accounts/index.html.erb within layouts/application (Duration: 1.9ms | Allocations: 1198)
  Rendered layout layouts/application.html.erb (Duration: 15.9ms | Allocations: 16223)
Completed 200 OK in 30ms (Views: 17.1ms | ActiveRecord: 3.1ms | Allocations: 25225)


Started GET "/" for ::1 at 2022-05-09 09:50:35 +0200
Processing by AccountsController#index as HTML
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 ORDER BY "accounts"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering accounts/index.html.erb within layouts/application
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/views/accounts/index.html.erb:20
  Rendered accounts/index.html.erb within layouts/application (Duration: 2.4ms | Allocations: 1125)
  Rendered layout layouts/application.html.erb (Duration: 6.4ms | Allocations: 3826)
Completed 200 OK in 12ms (Views: 7.8ms | ActiveRecord: 0.5ms | Allocations: 6399)


Started GET "/" for ::1 at 2022-05-09 09:51:23 +0200
Processing by AccountsController#index as HTML
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 ORDER BY "accounts"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering accounts/index.html.erb within layouts/application
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/views/accounts/index.html.erb:20
  Rendered accounts/index.html.erb within layouts/application (Duration: 1.6ms | Allocations: 738)
  Rendered layout layouts/application.html.erb (Duration: 5.7ms | Allocations: 3153)
Completed 200 OK in 9ms (Views: 6.2ms | ActiveRecord: 0.4ms | Allocations: 4992)


Started GET "/accounts/1/edit" for ::1 at 2022-05-09 09:51:25 +0200
Processing by AccountsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:93:in `set_account'
  Rendering layout layouts/application.html.erb
  Rendering accounts/edit.html.erb within layouts/application
  Rendered accounts/_form.html.erb (Duration: 22.2ms | Allocations: 6693)
  Rendered accounts/edit.html.erb within layouts/application (Duration: 24.0ms | Allocations: 7055)
  Rendered layout layouts/application.html.erb (Duration: 28.4ms | Allocations: 9449)
Completed 200 OK in 65ms (Views: 29.3ms | ActiveRecord: 0.5ms | Allocations: 10900)


Started PATCH "/accounts/1" for ::1 at 2022-05-09 09:51:32 +0200
Processing by AccountsController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "account"=>{"full_name"=>"ME", "role"=>"admin"}, "commit"=>"Update Account", "id"=>"1"}
  [1m[36mAccount Load (2.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:93:in `set_account'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:29:in `block in update'
  [1m[36mAccount Update (4.7ms)[0m  [1m[33mUPDATE "accounts" SET "full_name" = $1, "updated_at" = $2 WHERE "accounts"."id" = $3[0m  [["full_name", "ME"], ["updated_at", "2022-05-09 07:51:32.243168"], ["id", 1]]
  ↳ app/controllers/accounts_controller.rb:29:in `block in update'
  [1m[36mTRANSACTION (4.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:29:in `block in update'
Completed 500 Internal Server Error in 25ms (ActiveRecord: 11.8ms | Allocations: 6255)


  
NameError (uninitialized constant AccountsController::Producer
Did you mean?  Process):
  
app/controllers/accounts_controller.rb:40:in `block in update'
app/controllers/accounts_controller.rb:26:in `update'
Started GET "/accounts/1/edit" for ::1 at 2022-05-09 09:52:53 +0200
Processing by AccountsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:93:in `set_account'
  Rendering layout layouts/application.html.erb
  Rendering accounts/edit.html.erb within layouts/application
  Rendered accounts/_form.html.erb (Duration: 1.5ms | Allocations: 1253)
  Rendered accounts/edit.html.erb within layouts/application (Duration: 1.8ms | Allocations: 1388)
  Rendered layout layouts/application.html.erb (Duration: 9.1ms | Allocations: 3802)
Completed 200 OK in 12ms (Views: 9.6ms | ActiveRecord: 0.2ms | Allocations: 4609)


Started PATCH "/accounts/1" for ::1 at 2022-05-09 09:52:55 +0200
Processing by AccountsController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "account"=>{"full_name"=>"ME", "role"=>"admin"}, "commit"=>"Update Account", "id"=>"1"}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:93:in `set_account'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:29:in `block in update'
  [1m[36mAccount Update (5.7ms)[0m  [1m[33mUPDATE "accounts" SET "updated_at" = $1 WHERE "accounts"."id" = $2[0m  [["updated_at", "2022-05-09 07:52:55.260294"], ["id", 1]]
  ↳ app/controllers/accounts_controller.rb:29:in `block in update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:29:in `block in update'
Completed 500 Internal Server Error in 14ms (ActiveRecord: 6.3ms | Allocations: 5169)


  
NameError (uninitialized constant AccountsController::Producer
Did you mean?  Process):
  
app/controllers/accounts_controller.rb:40:in `block in update'
app/controllers/accounts_controller.rb:26:in `update'
Started GET "/accounts/1/edit" for ::1 at 2022-05-09 09:53:11 +0200
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by AccountsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:93:in `set_account'
  Rendering layout layouts/application.html.erb
  Rendering accounts/edit.html.erb within layouts/application
  Rendered accounts/_form.html.erb (Duration: 13.4ms | Allocations: 6138)
  Rendered accounts/edit.html.erb within layouts/application (Duration: 14.8ms | Allocations: 6788)
  Rendered layout layouts/application.html.erb (Duration: 59.9ms | Allocations: 43051)
Completed 200 OK in 80ms (Views: 62.8ms | ActiveRecord: 3.5ms | Allocations: 56407)


Started PATCH "/accounts/1" for ::1 at 2022-05-09 09:53:12 +0200
Processing by AccountsController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "account"=>{"full_name"=>"ME", "role"=>"admin"}, "commit"=>"Update Account", "id"=>"1"}
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:93:in `set_account'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:29:in `block in update'
  [1m[36mAccount Update (0.4ms)[0m  [1m[33mUPDATE "accounts" SET "updated_at" = $1 WHERE "accounts"."id" = $2[0m  [["updated_at", "2022-05-09 07:53:12.902857"], ["id", 1]]
  ↳ app/controllers/accounts_controller.rb:29:in `block in update'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:29:in `block in update'
Completed 500 Internal Server Error in 8ms (ActiveRecord: 1.1ms | Allocations: 5462)


  
NoMethodError (undefined method `call' for Producer:Class):
  
app/controllers/accounts_controller.rb:40:in `block in update'
app/controllers/accounts_controller.rb:26:in `update'
Started GET "/accounts/1/edit" for ::1 at 2022-05-09 09:55:19 +0200
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by AccountsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:93:in `set_account'
  Rendering layout layouts/application.html.erb
  Rendering accounts/edit.html.erb within layouts/application
  Rendered accounts/_form.html.erb (Duration: 9.3ms | Allocations: 6128)
  Rendered accounts/edit.html.erb within layouts/application (Duration: 10.5ms | Allocations: 6778)
  Rendered layout layouts/application.html.erb (Duration: 65.3ms | Allocations: 42835)
Completed 200 OK in 84ms (Views: 67.7ms | ActiveRecord: 3.9ms | Allocations: 56191)


Started PATCH "/accounts/1" for ::1 at 2022-05-09 09:55:24 +0200
Processing by AccountsController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "account"=>{"full_name"=>"ME", "role"=>"admin"}, "commit"=>"Update Account", "id"=>"1"}
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:93:in `set_account'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:29:in `block in update'
  [1m[36mAccount Update (0.4ms)[0m  [1m[33mUPDATE "accounts" SET "updated_at" = $1 WHERE "accounts"."id" = $2[0m  [["updated_at", "2022-05-09 07:55:24.481319"], ["id", 1]]
  ↳ app/controllers/accounts_controller.rb:29:in `block in update'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:29:in `block in update'
Completed 500 Internal Server Error in 9ms (ActiveRecord: 1.5ms | Allocations: 5489)


  
NoMethodError (undefined method `call' for Producer:Class):
  
app/controllers/accounts_controller.rb:40:in `block in update'
app/controllers/accounts_controller.rb:26:in `update'
Started PUT "/__web_console/repl_sessions/c02f1df8685f5133f0a09b6c8889ac6a" for ::1 at 2022-05-09 09:55:32 +0200
Started PUT "/__web_console/repl_sessions/c02f1df8685f5133f0a09b6c8889ac6a" for ::1 at 2022-05-09 09:55:37 +0200
Started PUT "/__web_console/repl_sessions/c02f1df8685f5133f0a09b6c8889ac6a" for ::1 at 2022-05-09 09:55:43 +0200
Started PUT "/__web_console/repl_sessions/c02f1df8685f5133f0a09b6c8889ac6a" for ::1 at 2022-05-09 09:55:47 +0200
Started PUT "/__web_console/repl_sessions/c02f1df8685f5133f0a09b6c8889ac6a" for ::1 at 2022-05-09 09:55:59 +0200
Started PUT "/__web_console/repl_sessions/c02f1df8685f5133f0a09b6c8889ac6a" for ::1 at 2022-05-09 09:56:01 +0200
Started PUT "/__web_console/repl_sessions/c02f1df8685f5133f0a09b6c8889ac6a" for ::1 at 2022-05-09 09:56:04 +0200
Started GET "/accounts/1/edit" for ::1 at 2022-05-09 09:58:52 +0200
Processing by AccountsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:93:in `set_account'
  Rendering layout layouts/application.html.erb
  Rendering accounts/edit.html.erb within layouts/application
  Rendered accounts/_form.html.erb (Duration: 1.7ms | Allocations: 1257)
  Rendered accounts/edit.html.erb within layouts/application (Duration: 2.0ms | Allocations: 1392)
  Rendered layout layouts/application.html.erb (Duration: 5.1ms | Allocations: 3806)
Completed 200 OK in 8ms (Views: 5.6ms | ActiveRecord: 0.2ms | Allocations: 4612)


Started PATCH "/accounts/1" for ::1 at 2022-05-09 09:58:54 +0200
Processing by AccountsController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "account"=>{"full_name"=>"ME", "role"=>"admin"}, "commit"=>"Update Account", "id"=>"1"}
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:93:in `set_account'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:29:in `block in update'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "updated_at" = $1 WHERE "accounts"."id" = $2[0m  [["updated_at", "2022-05-09 07:58:54.229207"], ["id", 1]]
  ↳ app/controllers/accounts_controller.rb:29:in `block in update'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:29:in `block in update'
Completed 500 Internal Server Error in 8ms (ActiveRecord: 1.0ms | Allocations: 4206)


  
NoMethodError (undefined method `call' for Producer:Class):
  
app/controllers/accounts_controller.rb:40:in `block in update'
app/controllers/accounts_controller.rb:26:in `update'
Started GET "/accounts/1/edit" for ::1 at 2022-05-09 09:59:05 +0200
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by AccountsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:93:in `set_account'
  Rendering layout layouts/application.html.erb
  Rendering accounts/edit.html.erb within layouts/application
  Rendered accounts/_form.html.erb (Duration: 8.8ms | Allocations: 6139)
  Rendered accounts/edit.html.erb within layouts/application (Duration: 9.9ms | Allocations: 6789)
  Rendered layout layouts/application.html.erb (Duration: 65.9ms | Allocations: 43119)
Completed 200 OK in 84ms (Views: 68.1ms | ActiveRecord: 3.7ms | Allocations: 56479)


Started PATCH "/accounts/1" for ::1 at 2022-05-09 09:59:07 +0200
Processing by AccountsController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "account"=>{"full_name"=>"ME", "role"=>"admin"}, "commit"=>"Update Account", "id"=>"1"}
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:93:in `set_account'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:29:in `block in update'
  [1m[36mAccount Update (0.4ms)[0m  [1m[33mUPDATE "accounts" SET "updated_at" = $1 WHERE "accounts"."id" = $2[0m  [["updated_at", "2022-05-09 07:59:07.215773"], ["id", 1]]
  ↳ app/controllers/accounts_controller.rb:29:in `block in update'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:29:in `block in update'
Completed 500 Internal Server Error in 8ms (ActiveRecord: 1.4ms | Allocations: 4705)


  
ArgumentError (wrong number of arguments (given 2, expected 1)):
  
config/initializers/producer.rb:2:in `call'
app/controllers/accounts_controller.rb:40:in `block in update'
app/controllers/accounts_controller.rb:26:in `update'
Started GET "/accounts/1/edit" for ::1 at 2022-05-09 09:59:25 +0200
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by AccountsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:93:in `set_account'
  Rendering layout layouts/application.html.erb
  Rendering accounts/edit.html.erb within layouts/application
  Rendered accounts/_form.html.erb (Duration: 10.4ms | Allocations: 6149)
  Rendered accounts/edit.html.erb within layouts/application (Duration: 11.6ms | Allocations: 6799)
  Rendered layout layouts/application.html.erb (Duration: 61.9ms | Allocations: 43002)
Completed 200 OK in 80ms (Views: 64.1ms | ActiveRecord: 3.8ms | Allocations: 56358)


Started PATCH "/accounts/1" for ::1 at 2022-05-09 09:59:27 +0200
Processing by AccountsController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "account"=>{"full_name"=>"ME", "role"=>"admin"}, "commit"=>"Update Account", "id"=>"1"}
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:93:in `set_account'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:29:in `block in update'
  [1m[36mAccount Update (0.5ms)[0m  [1m[33mUPDATE "accounts" SET "updated_at" = $1 WHERE "accounts"."id" = $2[0m  [["updated_at", "2022-05-09 07:59:27.824112"], ["id", 1]]
  ↳ app/controllers/accounts_controller.rb:29:in `block in update'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:29:in `block in update'
Completed 500 Internal Server Error in 8ms (ActiveRecord: 1.4ms | Allocations: 4698)


  
ArgumentError (wrong number of arguments (given 1, expected 0)):
  
config/initializers/producer.rb:2:in `call'
app/controllers/accounts_controller.rb:40:in `block in update'
app/controllers/accounts_controller.rb:26:in `update'
Started GET "/accounts/1/edit" for ::1 at 2022-05-09 10:00:25 +0200
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by AccountsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:93:in `set_account'
  Rendering layout layouts/application.html.erb
  Rendering accounts/edit.html.erb within layouts/application
  Rendered accounts/_form.html.erb (Duration: 9.6ms | Allocations: 6142)
  Rendered accounts/edit.html.erb within layouts/application (Duration: 11.0ms | Allocations: 6792)
  Rendered layout layouts/application.html.erb (Duration: 67.9ms | Allocations: 42911)
Completed 200 OK in 86ms (Views: 70.2ms | ActiveRecord: 3.6ms | Allocations: 56267)


Started PATCH "/accounts/1" for ::1 at 2022-05-09 10:00:26 +0200
Processing by AccountsController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "account"=>{"full_name"=>"ME", "role"=>"admin"}, "commit"=>"Update Account", "id"=>"1"}
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:93:in `set_account'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:29:in `block in update'
  [1m[36mAccount Update (0.7ms)[0m  [1m[33mUPDATE "accounts" SET "updated_at" = $1 WHERE "accounts"."id" = $2[0m  [["updated_at", "2022-05-09 08:00:26.642113"], ["id", 1]]
  ↳ app/controllers/accounts_controller.rb:29:in `block in update'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:29:in `block in update'
Completed 500 Internal Server Error in 9ms (ActiveRecord: 1.6ms | Allocations: 4707)


  
ArgumentError (wrong number of arguments (given 1, expected 0)):
  
config/initializers/producer.rb:6:in `call'
config/initializers/producer.rb:3:in `call'
app/controllers/accounts_controller.rb:40:in `block in update'
app/controllers/accounts_controller.rb:26:in `update'
Started GET "/accounts/1/edit" for ::1 at 2022-05-09 10:00:50 +0200
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by AccountsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:93:in `set_account'
  Rendering layout layouts/application.html.erb
  Rendering accounts/edit.html.erb within layouts/application
  Rendered accounts/_form.html.erb (Duration: 10.2ms | Allocations: 6140)
  Rendered accounts/edit.html.erb within layouts/application (Duration: 11.3ms | Allocations: 6790)
  Rendered layout layouts/application.html.erb (Duration: 63.0ms | Allocations: 42979)
Completed 200 OK in 81ms (Views: 65.5ms | ActiveRecord: 4.1ms | Allocations: 56335)


Started PATCH "/accounts/1" for ::1 at 2022-05-09 10:00:51 +0200
Processing by AccountsController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "account"=>{"full_name"=>"ME", "role"=>"admin"}, "commit"=>"Update Account", "id"=>"1"}
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:93:in `set_account'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:29:in `block in update'
  [1m[36mAccount Update (0.4ms)[0m  [1m[33mUPDATE "accounts" SET "updated_at" = $1 WHERE "accounts"."id" = $2[0m  [["updated_at", "2022-05-09 08:00:51.860557"], ["id", 1]]
  ↳ app/controllers/accounts_controller.rb:29:in `block in update'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:29:in `block in update'
Completed 500 Internal Server Error in 8ms (ActiveRecord: 1.4ms | Allocations: 4713)


  
ArgumentError (wrong number of arguments (given 1, expected 0)):
  
config/initializers/producer.rb:6:in `call'
config/initializers/producer.rb:3:in `call'
app/controllers/accounts_controller.rb:40:in `block in update'
app/controllers/accounts_controller.rb:26:in `update'
Started GET "/accounts/1/edit" for ::1 at 2022-05-09 10:01:13 +0200
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by AccountsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:93:in `set_account'
  Rendering layout layouts/application.html.erb
  Rendering accounts/edit.html.erb within layouts/application
  Rendered accounts/_form.html.erb (Duration: 9.1ms | Allocations: 6147)
  Rendered accounts/edit.html.erb within layouts/application (Duration: 10.4ms | Allocations: 6797)
  Rendered layout layouts/application.html.erb (Duration: 62.2ms | Allocations: 43028)
Completed 200 OK in 80ms (Views: 64.6ms | ActiveRecord: 3.7ms | Allocations: 56385)


Started PATCH "/accounts/1" for ::1 at 2022-05-09 10:01:15 +0200
Processing by AccountsController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "account"=>{"full_name"=>"ME", "role"=>"admin"}, "commit"=>"Update Account", "id"=>"1"}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:93:in `set_account'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:29:in `block in update'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "updated_at" = $1 WHERE "accounts"."id" = $2[0m  [["updated_at", "2022-05-09 08:01:15.255974"], ["id", 1]]
  ↳ app/controllers/accounts_controller.rb:29:in `block in update'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:29:in `block in update'
Completed 500 Internal Server Error in 7ms (ActiveRecord: 1.3ms | Allocations: 4695)


  
ArgumentError (wrong number of arguments (given 2, expected 1)):
  
config/initializers/producer.rb:2:in `call'
app/controllers/accounts_controller.rb:40:in `block in update'
app/controllers/accounts_controller.rb:26:in `update'
Started GET "/accounts/1/edit" for ::1 at 2022-05-09 10:03:39 +0200
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by AccountsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:93:in `set_account'
  Rendering layout layouts/application.html.erb
  Rendering accounts/edit.html.erb within layouts/application
  Rendered accounts/_form.html.erb (Duration: 10.8ms | Allocations: 6139)
  Rendered accounts/edit.html.erb within layouts/application (Duration: 12.0ms | Allocations: 6789)
  Rendered layout layouts/application.html.erb (Duration: 70.5ms | Allocations: 42776)
Completed 200 OK in 88ms (Views: 72.9ms | ActiveRecord: 3.4ms | Allocations: 56132)


Started PATCH "/accounts/1" for ::1 at 2022-05-09 10:03:40 +0200
Processing by AccountsController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "account"=>{"full_name"=>"ME", "role"=>"admin"}, "commit"=>"Update Account", "id"=>"1"}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:93:in `set_account'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:29:in `block in update'
  [1m[36mAccount Update (0.4ms)[0m  [1m[33mUPDATE "accounts" SET "updated_at" = $1 WHERE "accounts"."id" = $2[0m  [["updated_at", "2022-05-09 08:03:40.939279"], ["id", 1]]
  ↳ app/controllers/accounts_controller.rb:29:in `block in update'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:29:in `block in update'
Completed 500 Internal Server Error in 8ms (ActiveRecord: 1.5ms | Allocations: 4701)


  
ArgumentError (wrong number of arguments (given 1, expected 0)):
  
config/initializers/producer.rb:2:in `call'
app/controllers/accounts_controller.rb:40:in `block in update'
app/controllers/accounts_controller.rb:26:in `update'
Started GET "/accounts/1/edit" for ::1 at 2022-05-09 10:04:37 +0200
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by AccountsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:93:in `set_account'
  Rendering layout layouts/application.html.erb
  Rendering accounts/edit.html.erb within layouts/application
  Rendered accounts/_form.html.erb (Duration: 9.6ms | Allocations: 6146)
  Rendered accounts/edit.html.erb within layouts/application (Duration: 11.0ms | Allocations: 6796)
  Rendered layout layouts/application.html.erb (Duration: 69.5ms | Allocations: 43152)
Completed 200 OK in 88ms (Views: 71.9ms | ActiveRecord: 4.2ms | Allocations: 56508)


Started PATCH "/accounts/1" for ::1 at 2022-05-09 10:04:38 +0200
Processing by AccountsController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "account"=>{"full_name"=>"ME", "role"=>"admin"}, "commit"=>"Update Account", "id"=>"1"}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:93:in `set_account'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:29:in `block in update'
  [1m[36mAccount Update (1.5ms)[0m  [1m[33mUPDATE "accounts" SET "updated_at" = $1 WHERE "accounts"."id" = $2[0m  [["updated_at", "2022-05-09 08:04:38.813037"], ["id", 1]]
  ↳ app/controllers/accounts_controller.rb:29:in `block in update'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:29:in `block in update'
Completed 500 Internal Server Error in 9ms (ActiveRecord: 2.4ms | Allocations: 4697)


  
ArgumentError (wrong number of arguments (given 2, expected 1)):
  
config/initializers/producer.rb:6:in `call'
config/initializers/producer.rb:3:in `call'
app/controllers/accounts_controller.rb:40:in `block in update'
app/controllers/accounts_controller.rb:26:in `update'
Started GET "/accounts/1/edit" for ::1 at 2022-05-09 10:05:21 +0200
  [1m[36mActiveRecord::SchemaMigration Pluck (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by AccountsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:93:in `set_account'
  Rendering layout layouts/application.html.erb
  Rendering accounts/edit.html.erb within layouts/application
  Rendered accounts/_form.html.erb (Duration: 10.3ms | Allocations: 6134)
  Rendered accounts/edit.html.erb within layouts/application (Duration: 12.0ms | Allocations: 6784)
  Rendered layout layouts/application.html.erb (Duration: 69.2ms | Allocations: 42944)
Completed 200 OK in 89ms (Views: 72.2ms | ActiveRecord: 3.9ms | Allocations: 56300)


Started PATCH "/accounts/1" for ::1 at 2022-05-09 10:05:23 +0200
Processing by AccountsController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "account"=>{"full_name"=>"ME", "role"=>"admin"}, "commit"=>"Update Account", "id"=>"1"}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:93:in `set_account'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:29:in `block in update'
  [1m[36mAccount Update (0.4ms)[0m  [1m[33mUPDATE "accounts" SET "updated_at" = $1 WHERE "accounts"."id" = $2[0m  [["updated_at", "2022-05-09 08:05:23.545166"], ["id", 1]]
  ↳ app/controllers/accounts_controller.rb:29:in `block in update'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:29:in `block in update'
Completed 500 Internal Server Error in 14ms (ActiveRecord: 1.3ms | Allocations: 7575)


  
NameError (undefined local variable or method `public_id' for #<AccountsController:0x0000000000a4b0>
Did you mean?  public_send):
  
app/controllers/accounts_controller.rb:45:in `block in update'
app/controllers/accounts_controller.rb:26:in `update'
Started GET "/accounts/1/edit" for ::1 at 2022-05-09 10:05:49 +0200
Processing by AccountsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:93:in `set_account'
  Rendering layout layouts/application.html.erb
  Rendering accounts/edit.html.erb within layouts/application
  Rendered accounts/_form.html.erb (Duration: 1.5ms | Allocations: 1320)
  Rendered accounts/edit.html.erb within layouts/application (Duration: 2.0ms | Allocations: 1470)
  Rendered layout layouts/application.html.erb (Duration: 14.5ms | Allocations: 16266)
Completed 200 OK in 28ms (Views: 16.5ms | ActiveRecord: 3.8ms | Allocations: 21330)


Started PATCH "/accounts/1" for ::1 at 2022-05-09 10:05:50 +0200
Processing by AccountsController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "account"=>{"full_name"=>"ME", "role"=>"admin"}, "commit"=>"Update Account", "id"=>"1"}
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:93:in `set_account'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:29:in `block in update'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "updated_at" = $1 WHERE "accounts"."id" = $2[0m  [["updated_at", "2022-05-09 08:05:50.930253"], ["id", 1]]
  ↳ app/controllers/accounts_controller.rb:29:in `block in update'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:29:in `block in update'
Completed 500 Internal Server Error in 11ms (ActiveRecord: 1.2ms | Allocations: 6539)


  
NameError (undefined local variable or method `role' for #<AccountsController:0x0000000000d390>):
  
app/controllers/accounts_controller.rb:45:in `block in update'
app/controllers/accounts_controller.rb:26:in `update'
Started GET "/accounts/1/edit" for ::1 at 2022-05-09 10:06:01 +0200
Processing by AccountsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:93:in `set_account'
  Rendering layout layouts/application.html.erb
  Rendering accounts/edit.html.erb within layouts/application
  Rendered accounts/_form.html.erb (Duration: 1.9ms | Allocations: 1320)
  Rendered accounts/edit.html.erb within layouts/application (Duration: 2.2ms | Allocations: 1470)
  Rendered layout layouts/application.html.erb (Duration: 14.2ms | Allocations: 16259)
Completed 200 OK in 24ms (Views: 15.3ms | ActiveRecord: 2.5ms | Allocations: 21267)


Started PATCH "/accounts/1" for ::1 at 2022-05-09 10:06:02 +0200
Processing by AccountsController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "account"=>{"full_name"=>"ME", "role"=>"admin"}, "commit"=>"Update Account", "id"=>"1"}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:93:in `set_account'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:29:in `block in update'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "updated_at" = $1 WHERE "accounts"."id" = $2[0m  [["updated_at", "2022-05-09 08:06:02.676792"], ["id", 1]]
  ↳ app/controllers/accounts_controller.rb:29:in `block in update'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:29:in `block in update'
Redirected to http://localhost:3000/
Completed 302 Found in 7ms (ActiveRecord: 1.1ms | Allocations: 3642)


Started GET "/" for ::1 at 2022-05-09 10:06:02 +0200
Processing by AccountsController#index as TURBO_STREAM
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 ORDER BY "accounts"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering accounts/index.html.erb within layouts/application
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/views/accounts/index.html.erb:20
  Rendered accounts/index.html.erb within layouts/application (Duration: 3.3ms | Allocations: 1137)
  Rendered layout layouts/application.html.erb (Duration: 6.3ms | Allocations: 3564)
Completed 200 OK in 15ms (Views: 6.4ms | ActiveRecord: 0.5ms | Allocations: 8898)


Started GET "/accounts/1/edit" for ::1 at 2022-05-09 10:06:10 +0200
Processing by AccountsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mAccount Load (1.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:93:in `set_account'
  Rendering layout layouts/application.html.erb
  Rendering accounts/edit.html.erb within layouts/application
  Rendered accounts/_form.html.erb (Duration: 1.7ms | Allocations: 1241)
  Rendered accounts/edit.html.erb within layouts/application (Duration: 2.2ms | Allocations: 1376)
  Rendered layout layouts/application.html.erb (Duration: 5.6ms | Allocations: 3784)
Completed 200 OK in 16ms (Views: 6.4ms | ActiveRecord: 1.5ms | Allocations: 4608)


Started PATCH "/accounts/1" for ::1 at 2022-05-09 10:06:18 +0200
Processing by AccountsController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "account"=>{"full_name"=>"ME", "role"=>"admin"}, "commit"=>"Update Account", "id"=>"1"}
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:93:in `set_account'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:29:in `block in update'
  [1m[36mAccount Update (0.4ms)[0m  [1m[33mUPDATE "accounts" SET "updated_at" = $1 WHERE "accounts"."id" = $2[0m  [["updated_at", "2022-05-09 08:06:18.008125"], ["id", 1]]
  ↳ app/controllers/accounts_controller.rb:29:in `block in update'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:29:in `block in update'
Redirected to http://localhost:3000/
Completed 302 Found in 7ms (ActiveRecord: 1.1ms | Allocations: 3282)


Started GET "/" for ::1 at 2022-05-09 10:06:18 +0200
Processing by AccountsController#index as TURBO_STREAM
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 ORDER BY "accounts"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering accounts/index.html.erb within layouts/application
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/views/accounts/index.html.erb:20
  Rendered accounts/index.html.erb within layouts/application (Duration: 1.7ms | Allocations: 743)
  Rendered layout layouts/application.html.erb (Duration: 5.1ms | Allocations: 3158)
Completed 200 OK in 9ms (Views: 5.4ms | ActiveRecord: 0.5ms | Allocations: 5024)


Started GET "/accounts/1/edit" for ::1 at 2022-05-09 10:06:45 +0200
Processing by AccountsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mAccount Load (4.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:93:in `set_account'
  Rendering layout layouts/application.html.erb
  Rendering accounts/edit.html.erb within layouts/application
  Rendered accounts/_form.html.erb (Duration: 1.7ms | Allocations: 1237)
  Rendered accounts/edit.html.erb within layouts/application (Duration: 2.2ms | Allocations: 1372)
  Rendered layout layouts/application.html.erb (Duration: 18.9ms | Allocations: 3766)
Completed 200 OK in 27ms (Views: 19.5ms | ActiveRecord: 4.3ms | Allocations: 4574)


Started PATCH "/accounts/1" for ::1 at 2022-05-09 10:06:48 +0200
Processing by AccountsController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "account"=>{"full_name"=>"ME", "role"=>"accounting_clerk"}, "commit"=>"Update Account", "id"=>"1"}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:93:in `set_account'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:29:in `block in update'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "updated_at" = $1 WHERE "accounts"."id" = $2[0m  [["updated_at", "2022-05-09 08:06:48.535604"], ["id", 1]]
  ↳ app/controllers/accounts_controller.rb:29:in `block in update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:29:in `block in update'
Redirected to http://localhost:3000/
Completed 302 Found in 6ms (ActiveRecord: 0.9ms | Allocations: 3288)


Started GET "/" for ::1 at 2022-05-09 10:06:48 +0200
Processing by AccountsController#index as TURBO_STREAM
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 ORDER BY "accounts"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering accounts/index.html.erb within layouts/application
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/views/accounts/index.html.erb:20
  Rendered accounts/index.html.erb within layouts/application (Duration: 1.3ms | Allocations: 743)
  Rendered layout layouts/application.html.erb (Duration: 4.5ms | Allocations: 3158)
Completed 200 OK in 8ms (Views: 4.7ms | ActiveRecord: 0.4ms | Allocations: 5016)


  [1m[35m (0.9ms)[0m  [1m[34mSELECT pg_try_advisory_lock(439837519115335530)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddRoleToAccount (20220509154557)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (14.4ms)[0m  [1m[35mALTER TABLE "accounts" ADD "role" character varying[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20220509154557"]]
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(439837519115335530)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/accounts/1/edit" for ::1 at 2022-05-09 17:46:22 +0200
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by AccountsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mAccount Load (4.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:93:in `set_account'
  Rendering layout layouts/application.html.erb
  Rendering accounts/edit.html.erb within layouts/application
  Rendered accounts/_form.html.erb (Duration: 10.9ms | Allocations: 1329)
  Rendered accounts/edit.html.erb within layouts/application (Duration: 11.7ms | Allocations: 1479)
  Rendered layout layouts/application.html.erb (Duration: 48.6ms | Allocations: 16276)
Completed 200 OK in 75ms (Views: 54.0ms | ActiveRecord: 4.3ms | Allocations: 21004)


Started PATCH "/accounts/1" for ::1 at 2022-05-09 17:46:25 +0200
Processing by AccountsController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "account"=>{"full_name"=>"ME", "role"=>"admin"}, "commit"=>"Update Account", "id"=>"1"}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:93:in `set_account'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:29:in `block in update'
  [1m[36mAccount Update (0.6ms)[0m  [1m[33mUPDATE "accounts" SET "updated_at" = $1 WHERE "accounts"."id" = $2[0m  [["updated_at", "2022-05-09 15:46:25.197696"], ["id", 1]]
  ↳ app/controllers/accounts_controller.rb:29:in `block in update'
  [1m[36mTRANSACTION (4.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:29:in `block in update'
Redirected to http://localhost:3000/
Completed 302 Found in 19ms (ActiveRecord: 4.9ms | Allocations: 3574)


Started GET "/" for ::1 at 2022-05-09 17:46:25 +0200
Processing by AccountsController#index as TURBO_STREAM
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 ORDER BY "accounts"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering accounts/index.html.erb within layouts/application
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/views/accounts/index.html.erb:20
  Rendered accounts/index.html.erb within layouts/application (Duration: 1.6ms | Allocations: 763)
  Rendered layout layouts/application.html.erb (Duration: 7.8ms | Allocations: 3181)
Completed 200 OK in 22ms (Views: 8.2ms | ActiveRecord: 0.5ms | Allocations: 8179)


Started GET "/accounts/1/edit" for ::1 at 2022-05-09 17:48:01 +0200
Processing by AccountsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:93:in `set_account'
  Rendering layout layouts/application.html.erb
  Rendering accounts/edit.html.erb within layouts/application
  Rendered accounts/_form.html.erb (Duration: 9.2ms | Allocations: 1242)
  Rendered accounts/edit.html.erb within layouts/application (Duration: 10.6ms | Allocations: 1377)
  Rendered layout layouts/application.html.erb (Duration: 19.1ms | Allocations: 3771)
Completed 200 OK in 25ms (Views: 19.7ms | ActiveRecord: 0.3ms | Allocations: 4581)


Started GET "/accounts/1/edit" for ::1 at 2022-05-09 17:48:06 +0200
Processing by AccountsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:93:in `set_account'
  Rendering layout layouts/application.html.erb
  Rendering accounts/edit.html.erb within layouts/application
  Rendered accounts/_form.html.erb (Duration: 2.1ms | Allocations: 1256)
  Rendered accounts/edit.html.erb within layouts/application (Duration: 2.5ms | Allocations: 1391)
  Rendered layout layouts/application.html.erb (Duration: 15.7ms | Allocations: 3785)
Completed 200 OK in 25ms (Views: 16.2ms | ActiveRecord: 0.2ms | Allocations: 4592)


Started PATCH "/accounts/1" for ::1 at 2022-05-09 17:48:09 +0200
Processing by AccountsController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "account"=>{"full_name"=>"ME", "role"=>"employee"}, "commit"=>"Update Account", "id"=>"1"}
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:93:in `set_account'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:29:in `block in update'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "updated_at" = $1 WHERE "accounts"."id" = $2[0m  [["updated_at", "2022-05-09 15:48:09.752363"], ["id", 1]]
  ↳ app/controllers/accounts_controller.rb:29:in `block in update'
  [1m[36mTRANSACTION (4.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:29:in `block in update'
Redirected to http://localhost:3000/
Completed 302 Found in 34ms (ActiveRecord: 5.5ms | Allocations: 3286)


Started GET "/" for ::1 at 2022-05-09 17:48:09 +0200
Processing by AccountsController#index as TURBO_STREAM
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 ORDER BY "accounts"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering accounts/index.html.erb within layouts/application
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/views/accounts/index.html.erb:20
  Rendered accounts/index.html.erb within layouts/application (Duration: 1.4ms | Allocations: 744)
  Rendered layout layouts/application.html.erb (Duration: 17.7ms | Allocations: 3159)
Completed 200 OK in 30ms (Views: 18.6ms | ActiveRecord: 0.5ms | Allocations: 5019)


Started GET "/accounts/1/edit" for ::1 at 2022-05-09 17:49:01 +0200
Processing by AccountsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:94:in `set_account'
  Rendering layout layouts/application.html.erb
  Rendering accounts/edit.html.erb within layouts/application
  Rendered accounts/_form.html.erb (Duration: 2.0ms | Allocations: 1316)
  Rendered accounts/edit.html.erb within layouts/application (Duration: 2.4ms | Allocations: 1466)
  Rendered layout layouts/application.html.erb (Duration: 104.8ms | Allocations: 16238)
Completed 200 OK in 138ms (Views: 115.3ms | ActiveRecord: 4.3ms | Allocations: 21307)


Started GET "/" for ::1 at 2022-05-09 17:49:05 +0200
Processing by AccountsController#index as HTML
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 ORDER BY "accounts"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering accounts/index.html.erb within layouts/application
  [1m[36mAccount Load (2.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/views/accounts/index.html.erb:20
  Rendered accounts/index.html.erb within layouts/application (Duration: 4.8ms | Allocations: 764)
  Rendered layout layouts/application.html.erb (Duration: 14.3ms | Allocations: 3181)
Completed 200 OK in 71ms (Views: 12.5ms | ActiveRecord: 2.7ms | Allocations: 8151)


Started GET "/accounts/1/edit" for ::1 at 2022-05-09 17:49:27 +0200
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by AccountsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:94:in `set_account'
  Rendering layout layouts/application.html.erb
  Rendering accounts/edit.html.erb within layouts/application
  Rendered accounts/_form.html.erb (Duration: 15.5ms | Allocations: 6144)
  Rendered accounts/edit.html.erb within layouts/application (Duration: 17.7ms | Allocations: 6793)
  Rendered layout layouts/application.html.erb (Duration: 65.2ms | Allocations: 43226)
Completed 200 OK in 88ms (Views: 69.3ms | ActiveRecord: 3.9ms | Allocations: 56630)


Started PATCH "/accounts/1" for ::1 at 2022-05-09 17:49:31 +0200
Processing by AccountsController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "account"=>{"full_name"=>"ME", "role"=>"employee"}, "commit"=>"Update Account", "id"=>"1"}
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:94:in `set_account'
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.3ms | Allocations: 4416)


  
NameError (undefined local variable or method `byebug' for #<AccountsController:0x0000000000a1b8>):
  
app/controllers/accounts_controller.rb:27:in `block in update'
app/controllers/accounts_controller.rb:26:in `update'
Started PUT "/__web_console/repl_sessions/78d67e2853f7fc04bf9f2cf21c2b04d1" for ::1 at 2022-05-09 17:49:37 +0200
Started PUT "/__web_console/repl_sessions/78d67e2853f7fc04bf9f2cf21c2b04d1" for ::1 at 2022-05-09 17:49:44 +0200
Started GET "/accounts/1/edit" for ::1 at 2022-05-09 17:49:59 +0200
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by AccountsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:93:in `set_account'
  Rendering layout layouts/application.html.erb
  Rendering accounts/edit.html.erb within layouts/application
  Rendered accounts/_form.html.erb (Duration: 9.3ms | Allocations: 6151)
  Rendered accounts/edit.html.erb within layouts/application (Duration: 10.5ms | Allocations: 6801)
  Rendered layout layouts/application.html.erb (Duration: 64.7ms | Allocations: 42648)
Completed 200 OK in 82ms (Views: 67.1ms | ActiveRecord: 3.7ms | Allocations: 56053)


Started PATCH "/accounts/1" for ::1 at 2022-05-09 17:50:03 +0200
Processing by AccountsController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "account"=>{"full_name"=>"ME", "role"=>"employee"}, "commit"=>"Update Account", "id"=>"1"}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:93:in `set_account'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:29:in `block in update'
  [1m[36mAccount Update (0.5ms)[0m  [1m[33mUPDATE "accounts" SET "updated_at" = $1, "role" = $2 WHERE "accounts"."id" = $3[0m  [["updated_at", "2022-05-09 15:50:03.072667"], ["role", "employee"], ["id", 1]]
  ↳ app/controllers/accounts_controller.rb:29:in `block in update'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:29:in `block in update'
Redirected to http://localhost:3000/
Completed 302 Found in 9ms (ActiveRecord: 1.4ms | Allocations: 4683)


Started GET "/" for ::1 at 2022-05-09 17:50:03 +0200
Processing by AccountsController#index as TURBO_STREAM
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 ORDER BY "accounts"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering accounts/index.html.erb within layouts/application
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/views/accounts/index.html.erb:20
  Rendered accounts/index.html.erb within layouts/application (Duration: 2.6ms | Allocations: 1139)
  Rendered layout layouts/application.html.erb (Duration: 6.3ms | Allocations: 3555)
Completed 200 OK in 14ms (Views: 6.7ms | ActiveRecord: 0.4ms | Allocations: 8886)


Started GET "/accounts/1/edit" for ::1 at 2022-05-09 17:50:07 +0200
Processing by AccountsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:93:in `set_account'
  Rendering layout layouts/application.html.erb
  Rendering accounts/edit.html.erb within layouts/application
  Rendered accounts/_form.html.erb (Duration: 1.6ms | Allocations: 1251)
  Rendered accounts/edit.html.erb within layouts/application (Duration: 2.0ms | Allocations: 1386)
  Rendered layout layouts/application.html.erb (Duration: 8.4ms | Allocations: 3781)
Completed 200 OK in 111ms (Views: 8.9ms | ActiveRecord: 0.3ms | Allocations: 4609)


Started PATCH "/accounts/1" for ::1 at 2022-05-09 17:50:10 +0200
Processing by AccountsController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "account"=>{"full_name"=>"ME", "role"=>"admin"}, "commit"=>"Update Account", "id"=>"1"}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:93:in `set_account'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:29:in `block in update'
  [1m[36mAccount Update (0.4ms)[0m  [1m[33mUPDATE "accounts" SET "updated_at" = $1, "role" = $2 WHERE "accounts"."id" = $3[0m  [["updated_at", "2022-05-09 15:50:10.444274"], ["role", "admin"], ["id", 1]]
  ↳ app/controllers/accounts_controller.rb:29:in `block in update'
  [1m[36mTRANSACTION (5.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:29:in `block in update'
Redirected to http://localhost:3000/
Completed 302 Found in 13ms (ActiveRecord: 6.2ms | Allocations: 3307)


Started GET "/" for ::1 at 2022-05-09 17:50:10 +0200
Processing by AccountsController#index as TURBO_STREAM
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 ORDER BY "accounts"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering accounts/index.html.erb within layouts/application
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/views/accounts/index.html.erb:20
  Rendered accounts/index.html.erb within layouts/application (Duration: 1.5ms | Allocations: 747)
  Rendered layout layouts/application.html.erb (Duration: 5.0ms | Allocations: 3163)
Completed 200 OK in 8ms (Views: 5.2ms | ActiveRecord: 0.5ms | Allocations: 5027)


  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(439837519115335530)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddRoleToAccount (20220509154557)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (7.2ms)[0m  [1m[35mALTER TABLE "accounts" DROP COLUMN "role"[0m
  [1m[36mActiveRecord::SchemaMigration Delete All (4.9ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20220509154557"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(439837519115335530)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(439837519115335530)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddRoleToAccount (20220509154557)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (10.1ms)[0m  [1m[35m      CREATE TYPE account_roles AS ENUM ('admin', 'accounting_clerk', 'repairman', 'employee');
[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "accounts" ADD "role" account_roles DEFAULT 'employee' NOT NULL[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20220509154557"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateDoorkeeperTables (20220509160251)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (15.1ms)[0m  [1m[35mCREATE TABLE "oauth_applications" ("id" bigserial primary key, "name" character varying NOT NULL, "uid" character varying NOT NULL, "secret" character varying NOT NULL, "redirect_uri" text NOT NULL, "scopes" character varying DEFAULT '' NOT NULL, "confidential" boolean DEFAULT TRUE NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_oauth_applications_on_uid" ON "oauth_applications" ("uid")[0m
  [1m[35m (2.6ms)[0m  [1m[35mCREATE TABLE "oauth_access_grants" ("id" bigserial primary key, "resource_owner_id" bigint NOT NULL, "application_id" bigint NOT NULL, "token" character varying NOT NULL, "expires_in" integer NOT NULL, "redirect_uri" text NOT NULL, "created_at" timestamp(6) NOT NULL, "revoked_at" timestamp(6), "scopes" character varying DEFAULT '' NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE INDEX "index_oauth_access_grants_on_resource_owner_id" ON "oauth_access_grants" ("resource_owner_id")[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE INDEX "index_oauth_access_grants_on_application_id" ON "oauth_access_grants" ("application_id")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_oauth_access_grants_on_token" ON "oauth_access_grants" ("token")[0m
  [1m[35m (6.9ms)[0m  [1m[35mALTER TABLE "oauth_access_grants" ADD CONSTRAINT "fk_rails_b4b53e07b8"
FOREIGN KEY ("application_id")
  REFERENCES "oauth_applications" ("id")
[0m
  [1m[35m (2.9ms)[0m  [1m[35mCREATE TABLE "oauth_access_tokens" ("id" bigserial primary key, "resource_owner_id" bigint, "application_id" bigint NOT NULL, "token" character varying NOT NULL, "refresh_token" character varying, "expires_in" integer, "revoked_at" timestamp(6), "created_at" timestamp(6) NOT NULL, "scopes" character varying, "previous_refresh_token" character varying DEFAULT '' NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE INDEX "index_oauth_access_tokens_on_resource_owner_id" ON "oauth_access_tokens" ("resource_owner_id")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE INDEX "index_oauth_access_tokens_on_application_id" ON "oauth_access_tokens" ("application_id")[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_oauth_access_tokens_on_token" ON "oauth_access_tokens" ("token")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_oauth_access_tokens_on_refresh_token" ON "oauth_access_tokens" ("refresh_token")[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "oauth_access_tokens" ADD CONSTRAINT "fk_rails_732cb83ab7"
FOREIGN KEY ("application_id")
  REFERENCES "oauth_applications" ("id")
[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20220509160251"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT pg_advisory_unlock(439837519115335530)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(439837519115335530)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateDoorkeeperTables (20220509160251)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.2ms)[0m  [1m[35mALTER TABLE "oauth_access_tokens" DROP CONSTRAINT "fk_rails_732cb83ab7"[0m
  [1m[35m (1.3ms)[0m  [1m[35mDROP INDEX  "index_oauth_access_tokens_on_refresh_token"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP INDEX  "index_oauth_access_tokens_on_token"[0m
  [1m[35m (1.4ms)[0m  [1m[35mDROP TABLE "oauth_access_tokens"[0m
  [1m[35m (1.3ms)[0m  [1m[35mALTER TABLE "oauth_access_grants" DROP CONSTRAINT "fk_rails_b4b53e07b8"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP INDEX  "index_oauth_access_grants_on_token"[0m
  [1m[35m (1.8ms)[0m  [1m[35mDROP TABLE "oauth_access_grants"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP INDEX  "index_oauth_applications_on_uid"[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE "oauth_applications"[0m
  [1m[36mActiveRecord::SchemaMigration Delete All (0.3ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20220509160251"]]
  [1m[36mTRANSACTION (8.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(439837519115335530)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(439837519115335530)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateDoorkeeperTables (20220509160251)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.8ms)[0m  [1m[35mCREATE TABLE "oauth_applications" ("id" bigserial primary key, "name" character varying NOT NULL, "uid" character varying NOT NULL, "secret" character varying NOT NULL, "redirect_uri" text NOT NULL, "scopes" character varying DEFAULT '' NOT NULL, "confidential" boolean DEFAULT TRUE NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_oauth_applications_on_uid" ON "oauth_applications" ("uid")[0m
  [1m[35m (2.8ms)[0m  [1m[35mCREATE TABLE "oauth_access_grants" ("id" bigserial primary key, "resource_owner_id" bigint NOT NULL, "application_id" bigint NOT NULL, "token" character varying NOT NULL, "expires_in" integer NOT NULL, "redirect_uri" text NOT NULL, "created_at" timestamp(6) NOT NULL, "revoked_at" timestamp(6), "scopes" character varying DEFAULT '' NOT NULL)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE INDEX "index_oauth_access_grants_on_resource_owner_id" ON "oauth_access_grants" ("resource_owner_id")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE INDEX "index_oauth_access_grants_on_application_id" ON "oauth_access_grants" ("application_id")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_oauth_access_grants_on_token" ON "oauth_access_grants" ("token")[0m
  [1m[35m (1.5ms)[0m  [1m[35mALTER TABLE "oauth_access_grants" ADD CONSTRAINT "fk_rails_b4b53e07b8"
FOREIGN KEY ("application_id")
  REFERENCES "oauth_applications" ("id")
[0m
  [1m[35m (2.9ms)[0m  [1m[35mCREATE TABLE "oauth_access_tokens" ("id" bigserial primary key, "resource_owner_id" bigint, "application_id" bigint NOT NULL, "token" character varying NOT NULL, "refresh_token" character varying, "expires_in" integer, "revoked_at" timestamp(6), "created_at" timestamp(6) NOT NULL, "scopes" character varying, "previous_refresh_token" character varying DEFAULT '' NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE INDEX "index_oauth_access_tokens_on_resource_owner_id" ON "oauth_access_tokens" ("resource_owner_id")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE INDEX "index_oauth_access_tokens_on_application_id" ON "oauth_access_tokens" ("application_id")[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_oauth_access_tokens_on_token" ON "oauth_access_tokens" ("token")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_oauth_access_tokens_on_refresh_token" ON "oauth_access_tokens" ("refresh_token")[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "oauth_access_tokens" ADD CONSTRAINT "fk_rails_732cb83ab7"
FOREIGN KEY ("application_id")
  REFERENCES "oauth_applications" ("id")
[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20220509160251"]]
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(439837519115335530)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for ::1 at 2022-05-10 16:37:02 +0200
  [1m[36mActiveRecord::SchemaMigration Pluck (1.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by AccountsController#index as HTML
  [1m[36mAccount Load (5.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 ORDER BY "accounts"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering accounts/index.html.erb within layouts/application
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/views/accounts/index.html.erb:20
  Rendered accounts/index.html.erb within layouts/application (Duration: 3.9ms | Allocations: 1534)
  Rendered layout layouts/application.html.erb (Duration: 61.3ms | Allocations: 37480)
Completed 200 OK in 108ms (Views: 65.5ms | ActiveRecord: 21.2ms | Allocations: 55058)


Started GET "/oauth/applications" for ::1 at 2022-05-11 08:52:44 +0200
Processing by Doorkeeper::ApplicationsController#index as HTML
Access to admin panel is forbidden due to Doorkeeper.configure.admin_authenticator being unconfigured.
Filter chain halted as :authenticate_admin! rendered or redirected
Completed 403 Forbidden in 23ms (Allocations: 3728)


Started GET "/oauth/applications" for ::1 at 2022-05-11 08:52:48 +0200
Processing by Doorkeeper::ApplicationsController#index as HTML
Access to admin panel is forbidden due to Doorkeeper.configure.admin_authenticator being unconfigured.
Filter chain halted as :authenticate_admin! rendered or redirected
Completed 403 Forbidden in 1ms (Allocations: 147)


Started GET "/" for ::1 at 2022-05-11 08:52:51 +0200
Processing by AccountsController#index as HTML
  [1m[36mAccount Load (4.9ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 ORDER BY "accounts"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering accounts/index.html.erb within layouts/application
  [1m[36mAccount Load (4.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/views/accounts/index.html.erb:20
  Rendered accounts/index.html.erb within layouts/application (Duration: 10.2ms | Allocations: 744)
  Rendered layout layouts/application.html.erb (Duration: 25.4ms | Allocations: 3180)
Completed 200 OK in 102ms (Views: 22.8ms | ActiveRecord: 31.6ms | Allocations: 7403)


Started GET "/auth" for ::1 at 2022-05-11 08:55:21 +0200
  
ActionController::RoutingError (No route matches [GET] "/auth"):
  
Started GET "//oauth/applications" for ::1 at 2022-05-11 08:55:34 +0200
Processing by Doorkeeper::ApplicationsController#index as HTML
Access to admin panel is forbidden due to Doorkeeper.configure.admin_authenticator being unconfigured.
Filter chain halted as :authenticate_admin! rendered or redirected
Completed 403 Forbidden in 1ms (ActiveRecord: 0.0ms | Allocations: 147)


Started GET "/oauth/applications" for ::1 at 2022-05-11 08:55:39 +0200
Processing by Doorkeeper::ApplicationsController#index as HTML
Access to admin panel is forbidden due to Doorkeeper.configure.admin_authenticator being unconfigured.
Filter chain halted as :authenticate_admin! rendered or redirected
Completed 403 Forbidden in 1ms (ActiveRecord: 0.0ms | Allocations: 148)


Started GET "/accounts/1/edit" for ::1 at 2022-05-11 08:55:46 +0200
Processing by AccountsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:93:in `set_account'
  Rendering layout layouts/application.html.erb
  Rendering accounts/edit.html.erb within layouts/application
  Rendered accounts/_form.html.erb (Duration: 8.6ms | Allocations: 2030)
  Rendered accounts/edit.html.erb within layouts/application (Duration: 10.7ms | Allocations: 2394)
  Rendered layout layouts/application.html.erb (Duration: 17.1ms | Allocations: 4808)
Completed 200 OK in 48ms (Views: 17.6ms | ActiveRecord: 0.5ms | Allocations: 6272)


Started PATCH "/accounts/1" for ::1 at 2022-05-11 08:55:49 +0200
Processing by AccountsController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "account"=>{"full_name"=>"ME", "role"=>"admin"}, "commit"=>"Update Account", "id"=>"1"}
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:93:in `set_account'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:29:in `block in update'
  [1m[36mAccount Update (0.8ms)[0m  [1m[33mUPDATE "accounts" SET "updated_at" = $1, "role" = $2 WHERE "accounts"."id" = $3[0m  [["updated_at", "2022-05-11 06:55:49.306476"], ["role", "admin"], ["id", 1]]
  ↳ app/controllers/accounts_controller.rb:29:in `block in update'
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:29:in `block in update'
Redirected to http://localhost:3000/
Completed 302 Found in 18ms (ActiveRecord: 3.8ms | Allocations: 4808)


Started GET "/" for ::1 at 2022-05-11 08:55:49 +0200
Processing by AccountsController#index as TURBO_STREAM
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 ORDER BY "accounts"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering accounts/index.html.erb within layouts/application
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/views/accounts/index.html.erb:20
  Rendered accounts/index.html.erb within layouts/application (Duration: 1.9ms | Allocations: 747)
  Rendered layout layouts/application.html.erb (Duration: 7.2ms | Allocations: 3163)
Completed 200 OK in 13ms (Views: 7.4ms | ActiveRecord: 0.8ms | Allocations: 5075)


Started GET "/oauth/applications" for ::1 at 2022-05-11 08:55:52 +0200
Processing by Doorkeeper::ApplicationsController#index as HTML
Access to admin panel is forbidden due to Doorkeeper.configure.admin_authenticator being unconfigured.
Filter chain halted as :authenticate_admin! rendered or redirected
Completed 403 Forbidden in 1ms (ActiveRecord: 0.0ms | Allocations: 148)


Started GET "/oauth/applications" for ::1 at 2022-05-11 08:57:15 +0200
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Doorkeeper::ApplicationsController#index as HTML
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.0ms | Allocations: 3553)


  
NameError (undefined local variable or method `current_user' for #<Doorkeeper::ApplicationsController:0x0000000000b1f8>
Did you mean?  current_resource_owner):
  
config/initializers/doorkeeper.rb:26:in `block (2 levels) in <main>'
Started GET "/oauth/applications" for ::1 at 2022-05-11 08:57:50 +0200
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Doorkeeper::ApplicationsController#index as HTML
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 ORDER BY "accounts"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ config/initializers/doorkeeper.rb:26:in `block (2 levels) in <main>'
Completed 500 Internal Server Error in 29ms (ActiveRecord: 6.0ms | Allocations: 14762)


  
NameError (undefined local variable or method `current_user' for #<Doorkeeper::ApplicationsController:0x0000000000b310>
Did you mean?  current_resource_owner):
  
config/initializers/doorkeeper.rb:27:in `block (2 levels) in <main>'
Started GET "/oauth/applications" for ::1 at 2022-05-11 08:58:13 +0200
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Doorkeeper::ApplicationsController#index as HTML
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 ORDER BY "accounts"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ config/initializers/doorkeeper.rb:26:in `block (2 levels) in <main>'
  Rendering layout /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/doorkeeper-5.5.4/app/views/layouts/doorkeeper/admin.html.erb
  Rendering /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/doorkeeper-5.5.4/app/views/doorkeeper/applications/index.html.erb within layouts/doorkeeper/admin
  [1m[36mDoorkeeper::Application Load (6.5ms)[0m  [1m[34mSELECT "oauth_applications".* FROM "oauth_applications" ORDER BY "oauth_applications"."created_at" ASC[0m
  Rendered /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/doorkeeper-5.5.4/app/views/doorkeeper/applications/index.html.erb within layouts/doorkeeper/admin (Duration: 15.2ms | Allocations: 4450)
  Rendered layout /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/doorkeeper-5.5.4/app/views/layouts/doorkeeper/admin.html.erb (Duration: 57.3ms | Allocations: 27493)
Completed 200 OK in 85ms (Views: 54.0ms | ActiveRecord: 12.5ms | Allocations: 42382)


Started GET "/oauth/applications/new" for ::1 at 2022-05-11 08:58:17 +0200
Processing by Doorkeeper::ApplicationsController#new as HTML
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 ORDER BY "accounts"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ config/initializers/doorkeeper.rb:26:in `block (2 levels) in <main>'
  Rendering layout /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/doorkeeper-5.5.4/app/views/layouts/doorkeeper/admin.html.erb
  Rendering /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/doorkeeper-5.5.4/app/views/doorkeeper/applications/new.html.erb within layouts/doorkeeper/admin
  Rendered /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/doorkeeper-5.5.4/app/views/doorkeeper/applications/_form.html.erb (Duration: 16.3ms | Allocations: 5916)
  Rendered /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/doorkeeper-5.5.4/app/views/doorkeeper/applications/new.html.erb within layouts/doorkeeper/admin (Duration: 17.8ms | Allocations: 6260)
  Rendered layout /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/doorkeeper-5.5.4/app/views/layouts/doorkeeper/admin.html.erb (Duration: 20.0ms | Allocations: 7759)
Completed 200 OK in 31ms (Views: 20.7ms | ActiveRecord: 1.7ms | Allocations: 13582)


Started POST "/oauth/applications" for ::1 at 2022-05-11 08:59:32 +0200
Processing by Doorkeeper::ApplicationsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "doorkeeper_application"=>{"name"=>"TT", "redirect_uri"=>"http://localhost:3001/auth/keepa/callback", "confidential"=>"1", "scopes"=>""}, "commit"=>"Submit"}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 ORDER BY "accounts"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ config/initializers/doorkeeper.rb:26:in `block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDoorkeeper::Application Exists? (4.3ms)[0m  [1m[34mSELECT 1 AS one FROM "oauth_applications" WHERE "oauth_applications"."uid" = $1 LIMIT $2[0m  [["uid", "RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc"], ["LIMIT", 1]]
  [1m[36mDoorkeeper::Application Create (4.6ms)[0m  [1m[32mINSERT INTO "oauth_applications" ("name", "uid", "secret", "redirect_uri", "scopes", "confidential", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "TT"], ["uid", "RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc"], ["secret", "[FILTERED]"], ["redirect_uri", "http://localhost:3001/auth/keepa/callback"], ["scopes", ""], ["confidential", true], ["created_at", "2022-05-11 06:59:32.140119"], ["updated_at", "2022-05-11 06:59:32.140119"]]
  [1m[36mTRANSACTION (5.1ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/oauth/applications/1
Completed 302 Found in 30ms (ActiveRecord: 14.4ms | Allocations: 7315)


Started GET "/oauth/applications/1" for ::1 at 2022-05-11 08:59:32 +0200
Processing by Doorkeeper::ApplicationsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mAccount Load (0.9ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 ORDER BY "accounts"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ config/initializers/doorkeeper.rb:26:in `block (2 levels) in <main>'
  [1m[36mDoorkeeper::Application Load (0.3ms)[0m  [1m[34mSELECT "oauth_applications".* FROM "oauth_applications" WHERE "oauth_applications"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/doorkeeper-5.5.4/app/views/layouts/doorkeeper/admin.html.erb
  Rendering /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/doorkeeper-5.5.4/app/views/doorkeeper/applications/show.html.erb within layouts/doorkeeper/admin
  Rendered /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/doorkeeper-5.5.4/app/views/doorkeeper/applications/_delete_form.html.erb (Duration: 1.8ms | Allocations: 523)
  Rendered /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/doorkeeper-5.5.4/app/views/doorkeeper/applications/show.html.erb within layouts/doorkeeper/admin (Duration: 4.8ms | Allocations: 1907)
  Rendered layout /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/doorkeeper-5.5.4/app/views/layouts/doorkeeper/admin.html.erb (Duration: 7.3ms | Allocations: 3390)
Completed 200 OK in 16ms (Views: 7.9ms | ActiveRecord: 1.2ms | Allocations: 6429)


Started GET "/oauth/applications" for ::1 at 2022-05-11 08:59:35 +0200
Processing by Doorkeeper::ApplicationsController#index as HTML
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 ORDER BY "accounts"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ config/initializers/doorkeeper.rb:26:in `block (2 levels) in <main>'
  Rendering layout /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/doorkeeper-5.5.4/app/views/layouts/doorkeeper/admin.html.erb
  Rendering /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/doorkeeper-5.5.4/app/views/doorkeeper/applications/index.html.erb within layouts/doorkeeper/admin
  [1m[36mDoorkeeper::Application Load (0.2ms)[0m  [1m[34mSELECT "oauth_applications".* FROM "oauth_applications" ORDER BY "oauth_applications"."created_at" ASC[0m
  Rendered /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/doorkeeper-5.5.4/app/views/doorkeeper/applications/_delete_form.html.erb (Duration: 1.3ms | Allocations: 505)
  Rendered /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/doorkeeper-5.5.4/app/views/doorkeeper/applications/index.html.erb within layouts/doorkeeper/admin (Duration: 3.8ms | Allocations: 2081)
  Rendered layout /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/doorkeeper-5.5.4/app/views/layouts/doorkeeper/admin.html.erb (Duration: 5.7ms | Allocations: 3580)
Completed 200 OK in 9ms (Views: 5.9ms | ActiveRecord: 0.6ms | Allocations: 5183)


Started GET "/oauth/applications/1" for ::1 at 2022-05-11 08:59:41 +0200
Processing by Doorkeeper::ApplicationsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 ORDER BY "accounts"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ config/initializers/doorkeeper.rb:26:in `block (2 levels) in <main>'
  [1m[36mDoorkeeper::Application Load (0.3ms)[0m  [1m[34mSELECT "oauth_applications".* FROM "oauth_applications" WHERE "oauth_applications"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/doorkeeper-5.5.4/app/views/layouts/doorkeeper/admin.html.erb
  Rendering /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/doorkeeper-5.5.4/app/views/doorkeeper/applications/show.html.erb within layouts/doorkeeper/admin
  Rendered /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/doorkeeper-5.5.4/app/views/doorkeeper/applications/_delete_form.html.erb (Duration: 0.5ms | Allocations: 329)
  Rendered /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/doorkeeper-5.5.4/app/views/doorkeeper/applications/show.html.erb within layouts/doorkeeper/admin (Duration: 1.4ms | Allocations: 774)
  Rendered layout /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/doorkeeper-5.5.4/app/views/layouts/doorkeeper/admin.html.erb (Duration: 3.8ms | Allocations: 2252)
Completed 200 OK in 10ms (Views: 4.4ms | ActiveRecord: 0.8ms | Allocations: 4601)


Started GET "/oauth/authorize?client_id=RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc&redirect_uri=http%3A%2F%2Flocalhost%3A3001%2Fauth%2Fkeepa%2Fcallback&response_type=code&state=1e73e08533d223ad9c49c589e48a3e301819b9235d84468e" for ::1 at 2022-05-11 09:10:12 +0200
Processing by Doorkeeper::AuthorizationsController#new as HTML
  Parameters: {"client_id"=>"RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc", "redirect_uri"=>"http://localhost:3001/auth/keepa/callback", "response_type"=>"code", "state"=>"1e73e08533d223ad9c49c589e48a3e301819b9235d84468e"}
  [1m[36mAccount Load (1.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ config/initializers/doorkeeper.rb:14:in `block (2 levels) in <main>'
  [1m[36mDoorkeeper::Application Load (3.6ms)[0m  [1m[34mSELECT "oauth_applications".* FROM "oauth_applications" WHERE "oauth_applications"."uid" = $1 LIMIT $2[0m  [["uid", "RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc"], ["LIMIT", 1]]
  Rendering layout /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/doorkeeper-5.5.4/app/views/layouts/doorkeeper/application.html.erb
  Rendering /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/doorkeeper-5.5.4/app/views/doorkeeper/authorizations/error.html.erb within layouts/doorkeeper/application
  Rendered /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/doorkeeper-5.5.4/app/views/doorkeeper/authorizations/error.html.erb within layouts/doorkeeper/application (Duration: 10.1ms | Allocations: 1469)
  Rendered layout /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/doorkeeper-5.5.4/app/views/layouts/doorkeeper/application.html.erb (Duration: 14.1ms | Allocations: 3209)
Completed 200 OK in 108ms (Views: 16.9ms | ActiveRecord: 17.6ms | Allocations: 11242)


Started GET "/oauth/authorize?client_id=RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc&redirect_uri=http%3A%2F%2Flocalhost%3A3001%2Fauth%2Fkeepa%2Fcallback&response_type=code&state=2d69dc38aade2c9dcdecde163cc9d2eb7f2fdfcd3bac1b3c" for ::1 at 2022-05-11 09:12:18 +0200
Processing by Doorkeeper::AuthorizationsController#new as HTML
  Parameters: {"client_id"=>"RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc", "redirect_uri"=>"http://localhost:3001/auth/keepa/callback", "response_type"=>"code", "state"=>"2d69dc38aade2c9dcdecde163cc9d2eb7f2fdfcd3bac1b3c"}
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ config/initializers/doorkeeper.rb:14:in `block (2 levels) in <main>'
  [1m[36mDoorkeeper::Application Load (0.3ms)[0m  [1m[34mSELECT "oauth_applications".* FROM "oauth_applications" WHERE "oauth_applications"."uid" = $1 LIMIT $2[0m  [["uid", "RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc"], ["LIMIT", 1]]
  Rendering layout /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/doorkeeper-5.5.4/app/views/layouts/doorkeeper/application.html.erb
  Rendering /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/doorkeeper-5.5.4/app/views/doorkeeper/authorizations/error.html.erb within layouts/doorkeeper/application
  Rendered /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/doorkeeper-5.5.4/app/views/doorkeeper/authorizations/error.html.erb within layouts/doorkeeper/application (Duration: 0.2ms | Allocations: 77)
  Rendered layout /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/doorkeeper-5.5.4/app/views/layouts/doorkeeper/application.html.erb (Duration: 2.8ms | Allocations: 1471)
Completed 200 OK in 9ms (Views: 3.4ms | ActiveRecord: 0.6ms | Allocations: 4451)


Started GET "/oauth/applications/1/edit" for ::1 at 2022-05-11 09:13:17 +0200
Processing by Doorkeeper::ApplicationsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 ORDER BY "accounts"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ config/initializers/doorkeeper.rb:26:in `block (2 levels) in <main>'
  [1m[36mDoorkeeper::Application Load (0.3ms)[0m  [1m[34mSELECT "oauth_applications".* FROM "oauth_applications" WHERE "oauth_applications"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/doorkeeper-5.5.4/app/views/layouts/doorkeeper/admin.html.erb
  Rendering /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/doorkeeper-5.5.4/app/views/doorkeeper/applications/edit.html.erb within layouts/doorkeeper/admin
  Rendered /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/doorkeeper-5.5.4/app/views/doorkeeper/applications/_form.html.erb (Duration: 3.9ms | Allocations: 1586)
  Rendered /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/doorkeeper-5.5.4/app/views/doorkeeper/applications/edit.html.erb within layouts/doorkeeper/admin (Duration: 5.1ms | Allocations: 1833)
  Rendered layout /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/doorkeeper-5.5.4/app/views/layouts/doorkeeper/admin.html.erb (Duration: 7.9ms | Allocations: 3329)
Completed 200 OK in 15ms (Views: 8.4ms | ActiveRecord: 0.6ms | Allocations: 5765)


Started PATCH "/oauth/applications/1" for ::1 at 2022-05-11 09:13:26 +0200
Processing by Doorkeeper::ApplicationsController#update as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "doorkeeper_application"=>{"name"=>"TT", "redirect_uri"=>"http://localhost:3001/auth/keepa/callback", "confidential"=>"1", "scopes"=>"public_writes"}, "commit"=>"Submit", "id"=>"1"}
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 ORDER BY "accounts"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ config/initializers/doorkeeper.rb:26:in `block (2 levels) in <main>'
  [1m[36mDoorkeeper::Application Load (0.3ms)[0m  [1m[34mSELECT "oauth_applications".* FROM "oauth_applications" WHERE "oauth_applications"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDoorkeeper::Application Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "oauth_applications" WHERE "oauth_applications"."uid" = $1 AND "oauth_applications"."id" != $2 LIMIT $3[0m  [["uid", "RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc"], ["id", 1], ["LIMIT", 1]]
  [1m[36mDoorkeeper::Application Update (6.6ms)[0m  [1m[33mUPDATE "oauth_applications" SET "scopes" = $1, "updated_at" = $2 WHERE "oauth_applications"."id" = $3[0m  [["scopes", "public_writes"], ["updated_at", "2022-05-11 07:13:26.177180"], ["id", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/oauth/applications/1
Completed 302 Found in 23ms (ActiveRecord: 8.7ms | Allocations: 6426)


Started GET "/oauth/applications/1" for ::1 at 2022-05-11 09:13:26 +0200
Processing by Doorkeeper::ApplicationsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 ORDER BY "accounts"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ config/initializers/doorkeeper.rb:26:in `block (2 levels) in <main>'
  [1m[36mDoorkeeper::Application Load (0.2ms)[0m  [1m[34mSELECT "oauth_applications".* FROM "oauth_applications" WHERE "oauth_applications"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/doorkeeper-5.5.4/app/views/layouts/doorkeeper/admin.html.erb
  Rendering /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/doorkeeper-5.5.4/app/views/doorkeeper/applications/show.html.erb within layouts/doorkeeper/admin
  Rendered /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/doorkeeper-5.5.4/app/views/doorkeeper/applications/_delete_form.html.erb (Duration: 0.7ms | Allocations: 329)
  Rendered /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/doorkeeper-5.5.4/app/views/doorkeeper/applications/show.html.erb within layouts/doorkeeper/admin (Duration: 1.9ms | Allocations: 768)
  Rendered layout /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/doorkeeper-5.5.4/app/views/layouts/doorkeeper/admin.html.erb (Duration: 4.5ms | Allocations: 2251)
Completed 200 OK in 9ms (Views: 5.0ms | ActiveRecord: 0.4ms | Allocations: 4658)


Started GET "/oauth/authorize?client_id=RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc&redirect_uri=http%3A%2F%2Flocalhost%3A3001%2Fauth%2Fkeepa%2Fcallback&response_type=code&state=2d69dc38aade2c9dcdecde163cc9d2eb7f2fdfcd3bac1b3c" for ::1 at 2022-05-11 09:13:32 +0200
Processing by Doorkeeper::AuthorizationsController#new as HTML
  Parameters: {"client_id"=>"RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc", "redirect_uri"=>"http://localhost:3001/auth/keepa/callback", "response_type"=>"code", "state"=>"2d69dc38aade2c9dcdecde163cc9d2eb7f2fdfcd3bac1b3c"}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ config/initializers/doorkeeper.rb:14:in `block (2 levels) in <main>'
  [1m[36mDoorkeeper::Application Load (0.2ms)[0m  [1m[34mSELECT "oauth_applications".* FROM "oauth_applications" WHERE "oauth_applications"."uid" = $1 LIMIT $2[0m  [["uid", "RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc"], ["LIMIT", 1]]
  Rendering layout /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/doorkeeper-5.5.4/app/views/layouts/doorkeeper/application.html.erb
  Rendering /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/doorkeeper-5.5.4/app/views/doorkeeper/authorizations/error.html.erb within layouts/doorkeeper/application
  Rendered /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/doorkeeper-5.5.4/app/views/doorkeeper/authorizations/error.html.erb within layouts/doorkeeper/application (Duration: 0.2ms | Allocations: 77)
  Rendered layout /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/doorkeeper-5.5.4/app/views/layouts/doorkeeper/application.html.erb (Duration: 2.9ms | Allocations: 1471)
Completed 200 OK in 8ms (Views: 3.4ms | ActiveRecord: 0.4ms | Allocations: 4449)


Started GET "/oauth/authorize?client_id=RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc&redirect_uri=http%3A%2F%2Flocalhost%3A3001%2Fauth%2Fkeepa%2Fcallback&response_type=code&state=a8709dcac5c1f4dbf19e54e9a86cff1c49aa236e9fd793d5" for ::1 at 2022-05-11 09:13:35 +0200
Processing by Doorkeeper::AuthorizationsController#new as HTML
  Parameters: {"client_id"=>"RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc", "redirect_uri"=>"http://localhost:3001/auth/keepa/callback", "response_type"=>"code", "state"=>"a8709dcac5c1f4dbf19e54e9a86cff1c49aa236e9fd793d5"}
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ config/initializers/doorkeeper.rb:14:in `block (2 levels) in <main>'
  [1m[36mDoorkeeper::Application Load (0.2ms)[0m  [1m[34mSELECT "oauth_applications".* FROM "oauth_applications" WHERE "oauth_applications"."uid" = $1 LIMIT $2[0m  [["uid", "RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc"], ["LIMIT", 1]]
  Rendering layout /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/doorkeeper-5.5.4/app/views/layouts/doorkeeper/application.html.erb
  Rendering /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/doorkeeper-5.5.4/app/views/doorkeeper/authorizations/error.html.erb within layouts/doorkeeper/application
  Rendered /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/doorkeeper-5.5.4/app/views/doorkeeper/authorizations/error.html.erb within layouts/doorkeeper/application (Duration: 0.2ms | Allocations: 77)
  Rendered layout /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/doorkeeper-5.5.4/app/views/layouts/doorkeeper/application.html.erb (Duration: 2.7ms | Allocations: 1471)
Completed 200 OK in 8ms (Views: 3.2ms | ActiveRecord: 0.6ms | Allocations: 4461)


Started GET "/oauth/authorize?client_id=RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc&redirect_uri=http%3A%2F%2Flocalhost%3A3001%2Fauth%2Fkeepa%2Fcallback&response_type=code&scope=public_writes&state=4ecf727c76740fb8cd815cdde226759589689700442534c9" for ::1 at 2022-05-11 09:14:20 +0200
Processing by Doorkeeper::AuthorizationsController#new as HTML
  Parameters: {"client_id"=>"RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc", "redirect_uri"=>"http://localhost:3001/auth/keepa/callback", "response_type"=>"code", "scope"=>"public_writes", "state"=>"4ecf727c76740fb8cd815cdde226759589689700442534c9"}
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ config/initializers/doorkeeper.rb:14:in `block (2 levels) in <main>'
  [1m[36mDoorkeeper::Application Load (0.3ms)[0m  [1m[34mSELECT "oauth_applications".* FROM "oauth_applications" WHERE "oauth_applications"."uid" = $1 LIMIT $2[0m  [["uid", "RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc"], ["LIMIT", 1]]
  [1m[36mDoorkeeper::AccessToken Load (9.3ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."resource_owner_id" = $1 AND "oauth_access_tokens"."application_id" = $2 AND "oauth_access_tokens"."revoked_at" IS NULL ORDER BY "oauth_access_tokens"."id" ASC LIMIT $3[0m  [["resource_owner_id", 1], ["application_id", 1], ["LIMIT", 10000]]
  Rendering layout /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/doorkeeper-5.5.4/app/views/layouts/doorkeeper/application.html.erb
  Rendering /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/doorkeeper-5.5.4/app/views/doorkeeper/authorizations/new.html.erb within layouts/doorkeeper/application
  Rendered /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/doorkeeper-5.5.4/app/views/doorkeeper/authorizations/new.html.erb within layouts/doorkeeper/application (Duration: 4.2ms | Allocations: 2526)
  Rendered layout /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/doorkeeper-5.5.4/app/views/layouts/doorkeeper/application.html.erb (Duration: 6.6ms | Allocations: 3907)
Completed 200 OK in 69ms (Views: 7.5ms | ActiveRecord: 16.1ms | Allocations: 16811)


Started POST "/oauth/authorize" for ::1 at 2022-05-11 09:14:26 +0200
Processing by Doorkeeper::AuthorizationsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "client_id"=>"RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc", "redirect_uri"=>"http://localhost:3001/auth/keepa/callback", "state"=>"4ecf727c76740fb8cd815cdde226759589689700442534c9", "response_type"=>"code", "response_mode"=>"query", "scope"=>"public_writes", "code_challenge"=>"", "code_challenge_method"=>"", "commit"=>"Authorize"}
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ config/initializers/doorkeeper.rb:14:in `block (2 levels) in <main>'
  [1m[36mDoorkeeper::Application Load (0.3ms)[0m  [1m[34mSELECT "oauth_applications".* FROM "oauth_applications" WHERE "oauth_applications"."uid" = $1 LIMIT $2[0m  [["uid", "RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDoorkeeper::AccessGrant Exists? (2.1ms)[0m  [1m[34mSELECT 1 AS one FROM "oauth_access_grants" WHERE "oauth_access_grants"."token" = $1 LIMIT $2[0m  [["token", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mDoorkeeper::AccessGrant Create (1.5ms)[0m  [1m[32mINSERT INTO "oauth_access_grants" ("resource_owner_id", "application_id", "token", "expires_in", "redirect_uri", "created_at", "revoked_at", "scopes") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["resource_owner_id", 1], ["application_id", 1], ["token", "[FILTERED]"], ["expires_in", 600], ["redirect_uri", "http://localhost:3001/auth/keepa/callback"], ["created_at", "2022-05-11 07:14:26.935084"], ["revoked_at", nil], ["scopes", "public_writes"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3001/auth/keepa/callback?code=Zf_w_i7NlTOnmxClYqwyDK9hmGHMQsACd6oIrYASSiA&state=4ecf727c76740fb8cd815cdde226759589689700442534c9
Completed 302 Found in 33ms (ActiveRecord: 5.8ms | Allocations: 12735)


Started POST "/oauth/token" for ::1 at 2022-05-11 09:14:26 +0200
Processing by Doorkeeper::TokensController#create as */*
  Parameters: {"client_id"=>"RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc", "client_secret"=>"[FILTERED]", "code"=>"[FILTERED]", "grant_type"=>"authorization_code", "redirect_uri"=>"http://localhost:3001/auth/keepa/callback?code=Zf_w_i7NlTOnmxClYqwyDK9hmGHMQsACd6oIrYASSiA&state=4ecf727c76740fb8cd815cdde226759589689700442534c9"}
  [1m[36mDoorkeeper::AccessGrant Load (0.2ms)[0m  [1m[34mSELECT "oauth_access_grants".* FROM "oauth_access_grants" WHERE "oauth_access_grants"."token" = $1 LIMIT $2[0m  [["token", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mDoorkeeper::Application Load (0.3ms)[0m  [1m[34mSELECT "oauth_applications".* FROM "oauth_applications" WHERE "oauth_applications"."uid" = $1 LIMIT $2[0m  [["uid", "RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDoorkeeper::AccessGrant Load (0.3ms)[0m  [1m[37mSELECT "oauth_access_grants".* FROM "oauth_access_grants" WHERE "oauth_access_grants"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDoorkeeper::AccessGrant Update (0.2ms)[0m  [1m[33mUPDATE "oauth_access_grants" SET "revoked_at" = $1 WHERE "oauth_access_grants"."id" = $2[0m  [["revoked_at", "2022-05-11 07:14:26.996578"], ["id", 1]]
  [1m[36mDoorkeeper::Application Load (0.3ms)[0m  [1m[34mSELECT "oauth_applications".* FROM "oauth_applications" WHERE "oauth_applications"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Doorkeeper::Application Load (0.0ms)[0m  [1m[34mSELECT "oauth_applications".* FROM "oauth_applications" WHERE "oauth_applications"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDoorkeeper::AccessToken Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mDoorkeeper::AccessToken Create (2.3ms)[0m  [1m[32mINSERT INTO "oauth_access_tokens" ("resource_owner_id", "application_id", "token", "refresh_token", "expires_in", "revoked_at", "created_at", "scopes", "previous_refresh_token") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["resource_owner_id", 1], ["application_id", 1], ["token", "[FILTERED]"], ["refresh_token", "[FILTERED]"], ["expires_in", 7200], ["revoked_at", nil], ["created_at", "2022-05-11 07:14:27.031770"], ["scopes", "public_writes"], ["previous_refresh_token", "[FILTERED]"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 65ms (Views: 0.3ms | ActiveRecord: 4.3ms | Allocations: 27791)


Started GET "/accounts/current" for ::1 at 2022-05-11 09:14:27 +0200
Processing by AccountsController#current as */*
  [1m[36mDoorkeeper::AccessToken Load (0.2ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "[FILTERED]"], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `current_account'
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:86:in `current_account'
Completed 200 OK in 7ms (Views: 0.5ms | ActiveRecord: 0.4ms | Allocations: 2465)


Started POST "/oauth/token" for ::1 at 2022-05-11 09:38:52 +0200
Processing by Doorkeeper::TokensController#create as */*
  Parameters: {"client_id"=>"RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc", "client_secret"=>"[FILTERED]", "code"=>"[FILTERED]", "grant_type"=>"authorization_code", "redirect_uri"=>"http://localhost:3001/auth/keepa/callback?code=Zf_w_i7NlTOnmxClYqwyDK9hmGHMQsACd6oIrYASSiA&state=4ecf727c76740fb8cd815cdde226759589689700442534c9"}
  [1m[36mDoorkeeper::AccessGrant Load (0.7ms)[0m  [1m[34mSELECT "oauth_access_grants".* FROM "oauth_access_grants" WHERE "oauth_access_grants"."token" = $1 LIMIT $2[0m  [["token", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mDoorkeeper::Application Load (0.4ms)[0m  [1m[34mSELECT "oauth_applications".* FROM "oauth_applications" WHERE "oauth_applications"."uid" = $1 LIMIT $2[0m  [["uid", "RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc"], ["LIMIT", 1]]
Completed 400 Bad Request in 43ms (Views: 1.0ms | ActiveRecord: 8.5ms | Allocations: 4187)


Started GET "/oauth/authorize?client_id=RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc&redirect_uri=http%3A%2F%2Flocalhost%3A3001%2Fauth%2Fkeepa%2Fcallback&response_type=code&scope=public_writes&state=c968f86029cfc75fde660aadb305ff5b974abd24b815d428" for ::1 at 2022-05-11 09:39:21 +0200
Processing by Doorkeeper::AuthorizationsController#new as HTML
  Parameters: {"client_id"=>"RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc", "redirect_uri"=>"http://localhost:3001/auth/keepa/callback", "response_type"=>"code", "scope"=>"public_writes", "state"=>"c968f86029cfc75fde660aadb305ff5b974abd24b815d428"}
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ config/initializers/doorkeeper.rb:14:in `block (2 levels) in <main>'
  [1m[36mDoorkeeper::Application Load (0.2ms)[0m  [1m[34mSELECT "oauth_applications".* FROM "oauth_applications" WHERE "oauth_applications"."uid" = $1 LIMIT $2[0m  [["uid", "RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc"], ["LIMIT", 1]]
  [1m[36mDoorkeeper::AccessToken Load (0.6ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."resource_owner_id" = $1 AND "oauth_access_tokens"."application_id" = $2 AND "oauth_access_tokens"."revoked_at" IS NULL ORDER BY "oauth_access_tokens"."id" ASC LIMIT $3[0m  [["resource_owner_id", 1], ["application_id", 1], ["LIMIT", 10000]]
  [1m[36mCACHE Doorkeeper::Application Load (0.0ms)[0m  [1m[34mSELECT "oauth_applications".* FROM "oauth_applications" WHERE "oauth_applications"."uid" = $1 LIMIT $2[0m  [["uid", "RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDoorkeeper::AccessGrant Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "oauth_access_grants" WHERE "oauth_access_grants"."token" = $1 LIMIT $2[0m  [["token", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mDoorkeeper::AccessGrant Create (0.9ms)[0m  [1m[32mINSERT INTO "oauth_access_grants" ("resource_owner_id", "application_id", "token", "expires_in", "redirect_uri", "created_at", "revoked_at", "scopes") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["resource_owner_id", 1], ["application_id", 1], ["token", "[FILTERED]"], ["expires_in", 600], ["redirect_uri", "http://localhost:3001/auth/keepa/callback"], ["created_at", "2022-05-11 07:39:21.402531"], ["revoked_at", nil], ["scopes", "public_writes"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3001/auth/keepa/callback?code=tvDN9ZGK1QNNgjU1YcxnLHdK-tR-UhjvSEZ3bgc239A&state=c968f86029cfc75fde660aadb305ff5b974abd24b815d428
Completed 302 Found in 35ms (ActiveRecord: 3.3ms | Allocations: 9202)


Started POST "/oauth/token" for ::1 at 2022-05-11 09:39:21 +0200
Processing by Doorkeeper::TokensController#create as */*
  Parameters: {"client_id"=>"RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc", "client_secret"=>"[FILTERED]", "code"=>"[FILTERED]", "grant_type"=>"authorization_code", "redirect_uri"=>"http://localhost:3001/auth/keepa/callback?code=tvDN9ZGK1QNNgjU1YcxnLHdK-tR-UhjvSEZ3bgc239A&state=c968f86029cfc75fde660aadb305ff5b974abd24b815d428"}
  [1m[36mDoorkeeper::AccessGrant Load (0.3ms)[0m  [1m[34mSELECT "oauth_access_grants".* FROM "oauth_access_grants" WHERE "oauth_access_grants"."token" = $1 LIMIT $2[0m  [["token", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mDoorkeeper::Application Load (0.2ms)[0m  [1m[34mSELECT "oauth_applications".* FROM "oauth_applications" WHERE "oauth_applications"."uid" = $1 LIMIT $2[0m  [["uid", "RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDoorkeeper::AccessGrant Load (0.4ms)[0m  [1m[37mSELECT "oauth_access_grants".* FROM "oauth_access_grants" WHERE "oauth_access_grants"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mDoorkeeper::AccessGrant Update (0.3ms)[0m  [1m[33mUPDATE "oauth_access_grants" SET "revoked_at" = $1 WHERE "oauth_access_grants"."id" = $2[0m  [["revoked_at", "2022-05-11 07:39:21.444904"], ["id", 2]]
  [1m[36mDoorkeeper::Application Load (0.2ms)[0m  [1m[34mSELECT "oauth_applications".* FROM "oauth_applications" WHERE "oauth_applications"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Doorkeeper::Application Load (0.0ms)[0m  [1m[34mSELECT "oauth_applications".* FROM "oauth_applications" WHERE "oauth_applications"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDoorkeeper::AccessToken Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mDoorkeeper::AccessToken Create (0.5ms)[0m  [1m[32mINSERT INTO "oauth_access_tokens" ("resource_owner_id", "application_id", "token", "refresh_token", "expires_in", "revoked_at", "created_at", "scopes", "previous_refresh_token") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["resource_owner_id", 1], ["application_id", 1], ["token", "[FILTERED]"], ["refresh_token", "[FILTERED]"], ["expires_in", 7200], ["revoked_at", nil], ["created_at", "2022-05-11 07:39:21.451429"], ["scopes", "public_writes"], ["previous_refresh_token", "[FILTERED]"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 23ms (Views: 0.2ms | ActiveRecord: 2.7ms | Allocations: 10328)


Started GET "/accounts/current" for ::1 at 2022-05-11 09:39:21 +0200
Processing by AccountsController#current as */*
  [1m[36mDoorkeeper::AccessToken Load (0.2ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "[FILTERED]"], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `current_account'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:86:in `current_account'
Completed 200 OK in 5ms (Views: 1.1ms | ActiveRecord: 0.5ms | Allocations: 1320)


Started GET "/oauth/authorize?client_id=RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc&redirect_uri=http%3A%2F%2Flocalhost%3A3001%2Fauth%2Fkeepa%2Fcallback&response_type=code&scope=public_writes&state=c00bb809ca035921489c29fafa72fb7f073eca5a05293c28" for ::1 at 2022-05-11 12:10:44 +0200
Processing by Doorkeeper::AuthorizationsController#new as HTML
  Parameters: {"client_id"=>"RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc", "redirect_uri"=>"http://localhost:3001/auth/keepa/callback", "response_type"=>"code", "scope"=>"public_writes", "state"=>"c00bb809ca035921489c29fafa72fb7f073eca5a05293c28"}
  [1m[36mAccount Load (4.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ config/initializers/doorkeeper.rb:14:in `block (2 levels) in <main>'
  [1m[36mDoorkeeper::Application Load (4.4ms)[0m  [1m[34mSELECT "oauth_applications".* FROM "oauth_applications" WHERE "oauth_applications"."uid" = $1 LIMIT $2[0m  [["uid", "RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc"], ["LIMIT", 1]]
  [1m[36mDoorkeeper::AccessToken Load (2.2ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."resource_owner_id" = $1 AND "oauth_access_tokens"."application_id" = $2 AND "oauth_access_tokens"."revoked_at" IS NULL ORDER BY "oauth_access_tokens"."id" ASC LIMIT $3[0m  [["resource_owner_id", 1], ["application_id", 1], ["LIMIT", 10000]]
  [1m[36mCACHE Doorkeeper::Application Load (0.0ms)[0m  [1m[34mSELECT "oauth_applications".* FROM "oauth_applications" WHERE "oauth_applications"."uid" = $1 LIMIT $2[0m  [["uid", "RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDoorkeeper::AccessGrant Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "oauth_access_grants" WHERE "oauth_access_grants"."token" = $1 LIMIT $2[0m  [["token", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mDoorkeeper::AccessGrant Create (2.9ms)[0m  [1m[32mINSERT INTO "oauth_access_grants" ("resource_owner_id", "application_id", "token", "expires_in", "redirect_uri", "created_at", "revoked_at", "scopes") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["resource_owner_id", 1], ["application_id", 1], ["token", "[FILTERED]"], ["expires_in", 600], ["redirect_uri", "http://localhost:3001/auth/keepa/callback"], ["created_at", "2022-05-11 10:10:44.598330"], ["revoked_at", nil], ["scopes", "public_writes"]]
  [1m[36mTRANSACTION (4.0ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3001/auth/keepa/callback?code=uLY4EI9au6vo4zI7OpfrZv27OgO4MhMsQg0e8RTC2hI&state=c00bb809ca035921489c29fafa72fb7f073eca5a05293c28
Completed 302 Found in 148ms (ActiveRecord: 38.7ms | Allocations: 11611)


Started POST "/oauth/token" for ::1 at 2022-05-11 12:10:44 +0200
Processing by Doorkeeper::TokensController#create as */*
  Parameters: {"client_id"=>"RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc", "client_secret"=>"[FILTERED]", "code"=>"[FILTERED]", "grant_type"=>"authorization_code", "redirect_uri"=>"http://localhost:3001/auth/keepa/callback?code=uLY4EI9au6vo4zI7OpfrZv27OgO4MhMsQg0e8RTC2hI&state=c00bb809ca035921489c29fafa72fb7f073eca5a05293c28"}
  [1m[36mDoorkeeper::AccessGrant Load (0.2ms)[0m  [1m[34mSELECT "oauth_access_grants".* FROM "oauth_access_grants" WHERE "oauth_access_grants"."token" = $1 LIMIT $2[0m  [["token", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mDoorkeeper::Application Load (0.2ms)[0m  [1m[34mSELECT "oauth_applications".* FROM "oauth_applications" WHERE "oauth_applications"."uid" = $1 LIMIT $2[0m  [["uid", "RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDoorkeeper::AccessGrant Load (0.3ms)[0m  [1m[37mSELECT "oauth_access_grants".* FROM "oauth_access_grants" WHERE "oauth_access_grants"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mDoorkeeper::AccessGrant Update (0.4ms)[0m  [1m[33mUPDATE "oauth_access_grants" SET "revoked_at" = $1 WHERE "oauth_access_grants"."id" = $2[0m  [["revoked_at", "2022-05-11 10:10:44.683497"], ["id", 3]]
  [1m[36mDoorkeeper::Application Load (0.2ms)[0m  [1m[34mSELECT "oauth_applications".* FROM "oauth_applications" WHERE "oauth_applications"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Doorkeeper::Application Load (0.0ms)[0m  [1m[34mSELECT "oauth_applications".* FROM "oauth_applications" WHERE "oauth_applications"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDoorkeeper::AccessToken Exists? (2.9ms)[0m  [1m[34mSELECT 1 AS one FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mDoorkeeper::AccessToken Create (3.6ms)[0m  [1m[32mINSERT INTO "oauth_access_tokens" ("resource_owner_id", "application_id", "token", "refresh_token", "expires_in", "revoked_at", "created_at", "scopes", "previous_refresh_token") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["resource_owner_id", 1], ["application_id", 1], ["token", "[FILTERED]"], ["refresh_token", "[FILTERED]"], ["expires_in", 7200], ["revoked_at", nil], ["created_at", "2022-05-11 10:10:44.694685"], ["scopes", "public_writes"], ["previous_refresh_token", "[FILTERED]"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 48ms (Views: 1.2ms | ActiveRecord: 8.5ms | Allocations: 10326)


Started GET "/accounts/current" for ::1 at 2022-05-11 12:10:44 +0200
Processing by AccountsController#current as */*
  [1m[36mDoorkeeper::AccessToken Load (0.2ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "[FILTERED]"], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `current_account'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:86:in `current_account'
Completed 200 OK in 7ms (Views: 1.0ms | ActiveRecord: 0.5ms | Allocations: 1319)


Started POST "/oauth/token" for ::1 at 2022-05-11 12:11:04 +0200
Processing by Doorkeeper::TokensController#create as */*
  Parameters: {"client_id"=>"RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc", "client_secret"=>"[FILTERED]", "code"=>"[FILTERED]", "grant_type"=>"authorization_code", "redirect_uri"=>"http://localhost:3001/auth/keepa/callback?code=uLY4EI9au6vo4zI7OpfrZv27OgO4MhMsQg0e8RTC2hI&state=c00bb809ca035921489c29fafa72fb7f073eca5a05293c28"}
  [1m[36mDoorkeeper::AccessGrant Load (0.2ms)[0m  [1m[34mSELECT "oauth_access_grants".* FROM "oauth_access_grants" WHERE "oauth_access_grants"."token" = $1 LIMIT $2[0m  [["token", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mDoorkeeper::Application Load (0.2ms)[0m  [1m[34mSELECT "oauth_applications".* FROM "oauth_applications" WHERE "oauth_applications"."uid" = $1 LIMIT $2[0m  [["uid", "RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc"], ["LIMIT", 1]]
Completed 400 Bad Request in 9ms (Views: 0.2ms | ActiveRecord: 0.5ms | Allocations: 1837)


Started GET "/oauth/authorize?client_id=RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc&redirect_uri=http%3A%2F%2Flocalhost%3A3001%2Fauth%2Fkeepa%2Fcallback&response_type=code&scope=public_writes&state=9534307e55d4c1dd4de1ab530882c89850d09a5838197c74" for ::1 at 2022-05-11 12:11:14 +0200
Processing by Doorkeeper::AuthorizationsController#new as HTML
  Parameters: {"client_id"=>"RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc", "redirect_uri"=>"http://localhost:3001/auth/keepa/callback", "response_type"=>"code", "scope"=>"public_writes", "state"=>"9534307e55d4c1dd4de1ab530882c89850d09a5838197c74"}
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ config/initializers/doorkeeper.rb:14:in `block (2 levels) in <main>'
  [1m[36mDoorkeeper::Application Load (0.5ms)[0m  [1m[34mSELECT "oauth_applications".* FROM "oauth_applications" WHERE "oauth_applications"."uid" = $1 LIMIT $2[0m  [["uid", "RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc"], ["LIMIT", 1]]
  [1m[36mDoorkeeper::AccessToken Load (0.4ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."resource_owner_id" = $1 AND "oauth_access_tokens"."application_id" = $2 AND "oauth_access_tokens"."revoked_at" IS NULL ORDER BY "oauth_access_tokens"."id" ASC LIMIT $3[0m  [["resource_owner_id", 1], ["application_id", 1], ["LIMIT", 10000]]
  [1m[36mCACHE Doorkeeper::Application Load (0.0ms)[0m  [1m[34mSELECT "oauth_applications".* FROM "oauth_applications" WHERE "oauth_applications"."uid" = $1 LIMIT $2[0m  [["uid", "RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDoorkeeper::AccessGrant Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "oauth_access_grants" WHERE "oauth_access_grants"."token" = $1 LIMIT $2[0m  [["token", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mDoorkeeper::AccessGrant Create (0.7ms)[0m  [1m[32mINSERT INTO "oauth_access_grants" ("resource_owner_id", "application_id", "token", "expires_in", "redirect_uri", "created_at", "revoked_at", "scopes") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["resource_owner_id", 1], ["application_id", 1], ["token", "[FILTERED]"], ["expires_in", 600], ["redirect_uri", "http://localhost:3001/auth/keepa/callback"], ["created_at", "2022-05-11 10:11:14.156090"], ["revoked_at", nil], ["scopes", "public_writes"]]
  [1m[36mTRANSACTION (4.4ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3001/auth/keepa/callback?code=6P7NG6gpR9SkXP6SIuvoCdZT_f9qlIMKJ4lgf2Rt2tU&state=9534307e55d4c1dd4de1ab530882c89850d09a5838197c74
Completed 302 Found in 66ms (ActiveRecord: 6.7ms | Allocations: 9244)


Started POST "/oauth/token" for ::1 at 2022-05-11 12:11:14 +0200
Processing by Doorkeeper::TokensController#create as */*
  Parameters: {"client_id"=>"RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc", "client_secret"=>"[FILTERED]", "code"=>"[FILTERED]", "grant_type"=>"authorization_code", "redirect_uri"=>"http://localhost:3001/auth/keepa/callback?code=6P7NG6gpR9SkXP6SIuvoCdZT_f9qlIMKJ4lgf2Rt2tU&state=9534307e55d4c1dd4de1ab530882c89850d09a5838197c74"}
  [1m[36mDoorkeeper::AccessGrant Load (0.2ms)[0m  [1m[34mSELECT "oauth_access_grants".* FROM "oauth_access_grants" WHERE "oauth_access_grants"."token" = $1 LIMIT $2[0m  [["token", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mDoorkeeper::Application Load (0.3ms)[0m  [1m[34mSELECT "oauth_applications".* FROM "oauth_applications" WHERE "oauth_applications"."uid" = $1 LIMIT $2[0m  [["uid", "RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDoorkeeper::AccessGrant Load (0.3ms)[0m  [1m[37mSELECT "oauth_access_grants".* FROM "oauth_access_grants" WHERE "oauth_access_grants"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mDoorkeeper::AccessGrant Update (0.3ms)[0m  [1m[33mUPDATE "oauth_access_grants" SET "revoked_at" = $1 WHERE "oauth_access_grants"."id" = $2[0m  [["revoked_at", "2022-05-11 10:11:14.239641"], ["id", 4]]
  [1m[36mDoorkeeper::Application Load (0.2ms)[0m  [1m[34mSELECT "oauth_applications".* FROM "oauth_applications" WHERE "oauth_applications"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Doorkeeper::Application Load (0.0ms)[0m  [1m[34mSELECT "oauth_applications".* FROM "oauth_applications" WHERE "oauth_applications"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDoorkeeper::AccessToken Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mDoorkeeper::AccessToken Create (0.4ms)[0m  [1m[32mINSERT INTO "oauth_access_tokens" ("resource_owner_id", "application_id", "token", "refresh_token", "expires_in", "revoked_at", "created_at", "scopes", "previous_refresh_token") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["resource_owner_id", 1], ["application_id", 1], ["token", "[FILTERED]"], ["refresh_token", "[FILTERED]"], ["expires_in", 7200], ["revoked_at", nil], ["created_at", "2022-05-11 10:11:14.243446"], ["scopes", "public_writes"], ["previous_refresh_token", "[FILTERED]"]]
  [1m[36mTRANSACTION (2.7ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 28ms (Views: 0.2ms | ActiveRecord: 4.9ms | Allocations: 10318)


Started GET "/accounts/current" for ::1 at 2022-05-11 12:11:14 +0200
Processing by AccountsController#current as */*
  [1m[36mDoorkeeper::AccessToken Load (0.2ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "[FILTERED]"], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `current_account'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:86:in `current_account'
Completed 200 OK in 5ms (Views: 1.7ms | ActiveRecord: 0.4ms | Allocations: 1315)


Started POST "/oauth/token" for ::1 at 2022-05-11 12:11:39 +0200
Processing by Doorkeeper::TokensController#create as */*
  Parameters: {"client_id"=>"RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc", "client_secret"=>"[FILTERED]", "code"=>"[FILTERED]", "grant_type"=>"authorization_code", "redirect_uri"=>"http://localhost:3001/auth/keepa/callback?code=6P7NG6gpR9SkXP6SIuvoCdZT_f9qlIMKJ4lgf2Rt2tU&state=9534307e55d4c1dd4de1ab530882c89850d09a5838197c74"}
  [1m[36mDoorkeeper::AccessGrant Load (0.3ms)[0m  [1m[34mSELECT "oauth_access_grants".* FROM "oauth_access_grants" WHERE "oauth_access_grants"."token" = $1 LIMIT $2[0m  [["token", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mDoorkeeper::Application Load (0.2ms)[0m  [1m[34mSELECT "oauth_applications".* FROM "oauth_applications" WHERE "oauth_applications"."uid" = $1 LIMIT $2[0m  [["uid", "RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc"], ["LIMIT", 1]]
Completed 400 Bad Request in 7ms (Views: 0.2ms | ActiveRecord: 0.5ms | Allocations: 1834)


Started GET "/oauth/authorize?client_id=RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc&redirect_uri=http%3A%2F%2Flocalhost%3A3001%2Fauth%2Fkeepa%2Fcallback&response_type=code&scope=public_writes&state=e956c6d756c44b9d5a2c7891de9b38e52cd742f211a12026" for ::1 at 2022-05-11 12:11:42 +0200
Processing by Doorkeeper::AuthorizationsController#new as HTML
  Parameters: {"client_id"=>"RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc", "redirect_uri"=>"http://localhost:3001/auth/keepa/callback", "response_type"=>"code", "scope"=>"public_writes", "state"=>"e956c6d756c44b9d5a2c7891de9b38e52cd742f211a12026"}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ config/initializers/doorkeeper.rb:14:in `block (2 levels) in <main>'
  [1m[36mDoorkeeper::Application Load (0.2ms)[0m  [1m[34mSELECT "oauth_applications".* FROM "oauth_applications" WHERE "oauth_applications"."uid" = $1 LIMIT $2[0m  [["uid", "RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc"], ["LIMIT", 1]]
  [1m[36mDoorkeeper::AccessToken Load (0.6ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."resource_owner_id" = $1 AND "oauth_access_tokens"."application_id" = $2 AND "oauth_access_tokens"."revoked_at" IS NULL ORDER BY "oauth_access_tokens"."id" ASC LIMIT $3[0m  [["resource_owner_id", 1], ["application_id", 1], ["LIMIT", 10000]]
  [1m[36mCACHE Doorkeeper::Application Load (0.0ms)[0m  [1m[34mSELECT "oauth_applications".* FROM "oauth_applications" WHERE "oauth_applications"."uid" = $1 LIMIT $2[0m  [["uid", "RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDoorkeeper::AccessGrant Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "oauth_access_grants" WHERE "oauth_access_grants"."token" = $1 LIMIT $2[0m  [["token", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mDoorkeeper::AccessGrant Create (0.4ms)[0m  [1m[32mINSERT INTO "oauth_access_grants" ("resource_owner_id", "application_id", "token", "expires_in", "redirect_uri", "created_at", "revoked_at", "scopes") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["resource_owner_id", 1], ["application_id", 1], ["token", "[FILTERED]"], ["expires_in", 600], ["redirect_uri", "http://localhost:3001/auth/keepa/callback"], ["created_at", "2022-05-11 10:11:42.966055"], ["revoked_at", nil], ["scopes", "public_writes"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3001/auth/keepa/callback?code=6_xP_cvCod5ux5V6YplHJlyH8WYmr6a1AIh3aMLbj74&state=e956c6d756c44b9d5a2c7891de9b38e52cd742f211a12026
Completed 302 Found in 20ms (ActiveRecord: 2.3ms | Allocations: 9280)


Started POST "/oauth/token" for ::1 at 2022-05-11 12:11:42 +0200
Processing by Doorkeeper::TokensController#create as */*
  Parameters: {"client_id"=>"RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc", "client_secret"=>"[FILTERED]", "code"=>"[FILTERED]", "grant_type"=>"authorization_code", "redirect_uri"=>"http://localhost:3001/auth/keepa/callback?code=6_xP_cvCod5ux5V6YplHJlyH8WYmr6a1AIh3aMLbj74&state=e956c6d756c44b9d5a2c7891de9b38e52cd742f211a12026"}
  [1m[36mDoorkeeper::AccessGrant Load (0.2ms)[0m  [1m[34mSELECT "oauth_access_grants".* FROM "oauth_access_grants" WHERE "oauth_access_grants"."token" = $1 LIMIT $2[0m  [["token", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mDoorkeeper::Application Load (0.2ms)[0m  [1m[34mSELECT "oauth_applications".* FROM "oauth_applications" WHERE "oauth_applications"."uid" = $1 LIMIT $2[0m  [["uid", "RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDoorkeeper::AccessGrant Load (0.3ms)[0m  [1m[37mSELECT "oauth_access_grants".* FROM "oauth_access_grants" WHERE "oauth_access_grants"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mDoorkeeper::AccessGrant Update (0.3ms)[0m  [1m[33mUPDATE "oauth_access_grants" SET "revoked_at" = $1 WHERE "oauth_access_grants"."id" = $2[0m  [["revoked_at", "2022-05-11 10:11:43.013511"], ["id", 5]]
  [1m[36mDoorkeeper::Application Load (0.2ms)[0m  [1m[34mSELECT "oauth_applications".* FROM "oauth_applications" WHERE "oauth_applications"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Doorkeeper::Application Load (0.0ms)[0m  [1m[34mSELECT "oauth_applications".* FROM "oauth_applications" WHERE "oauth_applications"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDoorkeeper::AccessToken Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mDoorkeeper::AccessToken Create (0.5ms)[0m  [1m[32mINSERT INTO "oauth_access_tokens" ("resource_owner_id", "application_id", "token", "refresh_token", "expires_in", "revoked_at", "created_at", "scopes", "previous_refresh_token") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["resource_owner_id", 1], ["application_id", 1], ["token", "[FILTERED]"], ["refresh_token", "[FILTERED]"], ["expires_in", 7200], ["revoked_at", nil], ["created_at", "2022-05-11 10:11:43.018959"], ["scopes", "public_writes"], ["previous_refresh_token", "[FILTERED]"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 28ms (Views: 0.2ms | ActiveRecord: 2.8ms | Allocations: 10316)


Started GET "/accounts/current" for ::1 at 2022-05-11 12:11:43 +0200
Processing by AccountsController#current as */*
  [1m[36mDoorkeeper::AccessToken Load (0.3ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "[FILTERED]"], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `current_account'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:86:in `current_account'
Completed 200 OK in 5ms (Views: 0.4ms | ActiveRecord: 0.5ms | Allocations: 1315)


Started GET "/oauth/authorize?client_id=RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc&redirect_uri=http%3A%2F%2Flocalhost%3A3001%2Fauth%2Fkeepa%2Fcallback&response_type=code&scope=public_writes&state=b1b415184272c35f3e15631741d3bf9251b17c4077e4950b" for ::1 at 2022-05-11 12:12:21 +0200
Processing by Doorkeeper::AuthorizationsController#new as HTML
  Parameters: {"client_id"=>"RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc", "redirect_uri"=>"http://localhost:3001/auth/keepa/callback", "response_type"=>"code", "scope"=>"public_writes", "state"=>"b1b415184272c35f3e15631741d3bf9251b17c4077e4950b"}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ config/initializers/doorkeeper.rb:14:in `block (2 levels) in <main>'
  [1m[36mDoorkeeper::Application Load (0.2ms)[0m  [1m[34mSELECT "oauth_applications".* FROM "oauth_applications" WHERE "oauth_applications"."uid" = $1 LIMIT $2[0m  [["uid", "RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc"], ["LIMIT", 1]]
  [1m[36mDoorkeeper::AccessToken Load (0.3ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."resource_owner_id" = $1 AND "oauth_access_tokens"."application_id" = $2 AND "oauth_access_tokens"."revoked_at" IS NULL ORDER BY "oauth_access_tokens"."id" ASC LIMIT $3[0m  [["resource_owner_id", 1], ["application_id", 1], ["LIMIT", 10000]]
  [1m[36mCACHE Doorkeeper::Application Load (0.0ms)[0m  [1m[34mSELECT "oauth_applications".* FROM "oauth_applications" WHERE "oauth_applications"."uid" = $1 LIMIT $2[0m  [["uid", "RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDoorkeeper::AccessGrant Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "oauth_access_grants" WHERE "oauth_access_grants"."token" = $1 LIMIT $2[0m  [["token", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mDoorkeeper::AccessGrant Create (0.6ms)[0m  [1m[32mINSERT INTO "oauth_access_grants" ("resource_owner_id", "application_id", "token", "expires_in", "redirect_uri", "created_at", "revoked_at", "scopes") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["resource_owner_id", 1], ["application_id", 1], ["token", "[FILTERED]"], ["expires_in", 600], ["redirect_uri", "http://localhost:3001/auth/keepa/callback"], ["created_at", "2022-05-11 10:12:21.724406"], ["revoked_at", nil], ["scopes", "public_writes"]]
  [1m[36mTRANSACTION (3.9ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3001/auth/keepa/callback?code=8Er8w83adlY1_LCo7SNKrJ3BRp8kVkmL9Z2KOqZcH_8&state=b1b415184272c35f3e15631741d3bf9251b17c4077e4950b
Completed 302 Found in 27ms (ActiveRecord: 5.8ms | Allocations: 9359)


Started POST "/oauth/token" for ::1 at 2022-05-11 12:12:21 +0200
Processing by Doorkeeper::TokensController#create as */*
  Parameters: {"client_id"=>"RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc", "client_secret"=>"[FILTERED]", "code"=>"[FILTERED]", "grant_type"=>"authorization_code", "redirect_uri"=>"http://localhost:3001/auth/keepa/callback?code=8Er8w83adlY1_LCo7SNKrJ3BRp8kVkmL9Z2KOqZcH_8&state=b1b415184272c35f3e15631741d3bf9251b17c4077e4950b"}
  [1m[36mDoorkeeper::AccessGrant Load (0.2ms)[0m  [1m[34mSELECT "oauth_access_grants".* FROM "oauth_access_grants" WHERE "oauth_access_grants"."token" = $1 LIMIT $2[0m  [["token", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mDoorkeeper::Application Load (0.1ms)[0m  [1m[34mSELECT "oauth_applications".* FROM "oauth_applications" WHERE "oauth_applications"."uid" = $1 LIMIT $2[0m  [["uid", "RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDoorkeeper::AccessGrant Load (0.3ms)[0m  [1m[37mSELECT "oauth_access_grants".* FROM "oauth_access_grants" WHERE "oauth_access_grants"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mDoorkeeper::AccessGrant Update (0.4ms)[0m  [1m[33mUPDATE "oauth_access_grants" SET "revoked_at" = $1 WHERE "oauth_access_grants"."id" = $2[0m  [["revoked_at", "2022-05-11 10:12:21.773841"], ["id", 6]]
  [1m[36mDoorkeeper::Application Load (0.3ms)[0m  [1m[34mSELECT "oauth_applications".* FROM "oauth_applications" WHERE "oauth_applications"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Doorkeeper::Application Load (0.0ms)[0m  [1m[34mSELECT "oauth_applications".* FROM "oauth_applications" WHERE "oauth_applications"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDoorkeeper::AccessToken Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mDoorkeeper::AccessToken Create (0.4ms)[0m  [1m[32mINSERT INTO "oauth_access_tokens" ("resource_owner_id", "application_id", "token", "refresh_token", "expires_in", "revoked_at", "created_at", "scopes", "previous_refresh_token") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["resource_owner_id", 1], ["application_id", 1], ["token", "[FILTERED]"], ["refresh_token", "[FILTERED]"], ["expires_in", 7200], ["revoked_at", nil], ["created_at", "2022-05-11 10:12:21.778802"], ["scopes", "public_writes"], ["previous_refresh_token", "[FILTERED]"]]
  [1m[36mTRANSACTION (4.3ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 27ms (Views: 0.2ms | ActiveRecord: 6.5ms | Allocations: 10314)


Started GET "/accounts/current" for ::1 at 2022-05-11 12:12:21 +0200
Processing by AccountsController#current as */*
  [1m[36mDoorkeeper::AccessToken Load (0.2ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "[FILTERED]"], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `current_account'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:86:in `current_account'
Completed 200 OK in 4ms (Views: 0.6ms | ActiveRecord: 0.6ms | Allocations: 1315)


Started GET "/oauth/authorize?client_id=RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc&redirect_uri=http%3A%2F%2Flocalhost%3A3001%2Fauth%2Fkeepa%2Fcallback&response_type=code&scope=public_writes&state=521728f9422f5113d4b798c6f8f5a014bd587bfc4d92aef8" for ::1 at 2022-05-11 12:13:10 +0200
Processing by Doorkeeper::AuthorizationsController#new as HTML
  Parameters: {"client_id"=>"RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc", "redirect_uri"=>"http://localhost:3001/auth/keepa/callback", "response_type"=>"code", "scope"=>"public_writes", "state"=>"521728f9422f5113d4b798c6f8f5a014bd587bfc4d92aef8"}
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ config/initializers/doorkeeper.rb:14:in `block (2 levels) in <main>'
  [1m[36mDoorkeeper::Application Load (0.1ms)[0m  [1m[34mSELECT "oauth_applications".* FROM "oauth_applications" WHERE "oauth_applications"."uid" = $1 LIMIT $2[0m  [["uid", "RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc"], ["LIMIT", 1]]
  [1m[36mDoorkeeper::AccessToken Load (0.3ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."resource_owner_id" = $1 AND "oauth_access_tokens"."application_id" = $2 AND "oauth_access_tokens"."revoked_at" IS NULL ORDER BY "oauth_access_tokens"."id" ASC LIMIT $3[0m  [["resource_owner_id", 1], ["application_id", 1], ["LIMIT", 10000]]
  [1m[36mCACHE Doorkeeper::Application Load (0.0ms)[0m  [1m[34mSELECT "oauth_applications".* FROM "oauth_applications" WHERE "oauth_applications"."uid" = $1 LIMIT $2[0m  [["uid", "RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDoorkeeper::AccessGrant Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "oauth_access_grants" WHERE "oauth_access_grants"."token" = $1 LIMIT $2[0m  [["token", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mDoorkeeper::AccessGrant Create (0.5ms)[0m  [1m[32mINSERT INTO "oauth_access_grants" ("resource_owner_id", "application_id", "token", "expires_in", "redirect_uri", "created_at", "revoked_at", "scopes") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["resource_owner_id", 1], ["application_id", 1], ["token", "[FILTERED]"], ["expires_in", 600], ["redirect_uri", "http://localhost:3001/auth/keepa/callback"], ["created_at", "2022-05-11 10:13:10.564597"], ["revoked_at", nil], ["scopes", "public_writes"]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3001/auth/keepa/callback?code=WfGg3rzxhRpsn5U4yu7-zcKX68D8ewh9m2psmmRwSxI&state=521728f9422f5113d4b798c6f8f5a014bd587bfc4d92aef8
Completed 302 Found in 19ms (ActiveRecord: 2.8ms | Allocations: 9409)


Started POST "/oauth/token" for ::1 at 2022-05-11 12:13:10 +0200
Processing by Doorkeeper::TokensController#create as */*
  Parameters: {"client_id"=>"RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc", "client_secret"=>"[FILTERED]", "code"=>"[FILTERED]", "grant_type"=>"authorization_code", "redirect_uri"=>"http://localhost:3001/auth/keepa/callback?code=WfGg3rzxhRpsn5U4yu7-zcKX68D8ewh9m2psmmRwSxI&state=521728f9422f5113d4b798c6f8f5a014bd587bfc4d92aef8"}
  [1m[36mDoorkeeper::AccessGrant Load (0.2ms)[0m  [1m[34mSELECT "oauth_access_grants".* FROM "oauth_access_grants" WHERE "oauth_access_grants"."token" = $1 LIMIT $2[0m  [["token", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mDoorkeeper::Application Load (0.2ms)[0m  [1m[34mSELECT "oauth_applications".* FROM "oauth_applications" WHERE "oauth_applications"."uid" = $1 LIMIT $2[0m  [["uid", "RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDoorkeeper::AccessGrant Load (0.4ms)[0m  [1m[37mSELECT "oauth_access_grants".* FROM "oauth_access_grants" WHERE "oauth_access_grants"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mDoorkeeper::AccessGrant Update (0.4ms)[0m  [1m[33mUPDATE "oauth_access_grants" SET "revoked_at" = $1 WHERE "oauth_access_grants"."id" = $2[0m  [["revoked_at", "2022-05-11 10:13:10.608467"], ["id", 7]]
  [1m[36mDoorkeeper::Application Load (0.3ms)[0m  [1m[34mSELECT "oauth_applications".* FROM "oauth_applications" WHERE "oauth_applications"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Doorkeeper::Application Load (0.0ms)[0m  [1m[34mSELECT "oauth_applications".* FROM "oauth_applications" WHERE "oauth_applications"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDoorkeeper::AccessToken Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mDoorkeeper::AccessToken Create (0.3ms)[0m  [1m[32mINSERT INTO "oauth_access_tokens" ("resource_owner_id", "application_id", "token", "refresh_token", "expires_in", "revoked_at", "created_at", "scopes", "previous_refresh_token") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["resource_owner_id", 1], ["application_id", 1], ["token", "[FILTERED]"], ["refresh_token", "[FILTERED]"], ["expires_in", 7200], ["revoked_at", nil], ["created_at", "2022-05-11 10:13:10.614628"], ["scopes", "public_writes"], ["previous_refresh_token", "[FILTERED]"]]
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 28ms (Views: 0.2ms | ActiveRecord: 3.7ms | Allocations: 10317)


Started GET "/accounts/current" for ::1 at 2022-05-11 12:13:10 +0200
Processing by AccountsController#current as */*
  [1m[36mDoorkeeper::AccessToken Load (0.2ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "[FILTERED]"], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `current_account'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:86:in `current_account'
Completed 200 OK in 4ms (Views: 0.4ms | ActiveRecord: 0.4ms | Allocations: 1315)


Started POST "/oauth/token" for ::1 at 2022-05-11 12:13:38 +0200
Processing by Doorkeeper::TokensController#create as */*
  Parameters: {"client_id"=>"RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc", "client_secret"=>"[FILTERED]", "code"=>"[FILTERED]", "grant_type"=>"authorization_code", "redirect_uri"=>"http://localhost:3001/auth/keepa/callback?code=WfGg3rzxhRpsn5U4yu7-zcKX68D8ewh9m2psmmRwSxI&state=521728f9422f5113d4b798c6f8f5a014bd587bfc4d92aef8"}
  [1m[36mDoorkeeper::AccessGrant Load (0.2ms)[0m  [1m[34mSELECT "oauth_access_grants".* FROM "oauth_access_grants" WHERE "oauth_access_grants"."token" = $1 LIMIT $2[0m  [["token", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mDoorkeeper::Application Load (0.1ms)[0m  [1m[34mSELECT "oauth_applications".* FROM "oauth_applications" WHERE "oauth_applications"."uid" = $1 LIMIT $2[0m  [["uid", "RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc"], ["LIMIT", 1]]
Completed 400 Bad Request in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 1836)


Started GET "/oauth/authorize?client_id=RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc&redirect_uri=http%3A%2F%2Flocalhost%3A3001%2Fauth%2Fkeepa%2Fcallback&response_type=code&scope=public_writes&state=21e77003c3d65545c962544114caa04f17b80571913c579a" for ::1 at 2022-05-11 12:13:40 +0200
Processing by Doorkeeper::AuthorizationsController#new as HTML
  Parameters: {"client_id"=>"RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc", "redirect_uri"=>"http://localhost:3001/auth/keepa/callback", "response_type"=>"code", "scope"=>"public_writes", "state"=>"21e77003c3d65545c962544114caa04f17b80571913c579a"}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ config/initializers/doorkeeper.rb:14:in `block (2 levels) in <main>'
  [1m[36mDoorkeeper::Application Load (0.1ms)[0m  [1m[34mSELECT "oauth_applications".* FROM "oauth_applications" WHERE "oauth_applications"."uid" = $1 LIMIT $2[0m  [["uid", "RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc"], ["LIMIT", 1]]
  [1m[36mDoorkeeper::AccessToken Load (0.3ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."resource_owner_id" = $1 AND "oauth_access_tokens"."application_id" = $2 AND "oauth_access_tokens"."revoked_at" IS NULL ORDER BY "oauth_access_tokens"."id" ASC LIMIT $3[0m  [["resource_owner_id", 1], ["application_id", 1], ["LIMIT", 10000]]
  [1m[36mCACHE Doorkeeper::Application Load (0.0ms)[0m  [1m[34mSELECT "oauth_applications".* FROM "oauth_applications" WHERE "oauth_applications"."uid" = $1 LIMIT $2[0m  [["uid", "RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDoorkeeper::AccessGrant Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "oauth_access_grants" WHERE "oauth_access_grants"."token" = $1 LIMIT $2[0m  [["token", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mDoorkeeper::AccessGrant Create (0.5ms)[0m  [1m[32mINSERT INTO "oauth_access_grants" ("resource_owner_id", "application_id", "token", "expires_in", "redirect_uri", "created_at", "revoked_at", "scopes") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["resource_owner_id", 1], ["application_id", 1], ["token", "[FILTERED]"], ["expires_in", 600], ["redirect_uri", "http://localhost:3001/auth/keepa/callback"], ["created_at", "2022-05-11 10:13:40.988003"], ["revoked_at", nil], ["scopes", "public_writes"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3001/auth/keepa/callback?code=YbinzGPMd8XowbX7BQ1ZrnTEWCX7vVbtzo41dz72efg&state=21e77003c3d65545c962544114caa04f17b80571913c579a
Completed 302 Found in 18ms (ActiveRecord: 1.9ms | Allocations: 9464)


Started POST "/oauth/token" for ::1 at 2022-05-11 12:13:41 +0200
Processing by Doorkeeper::TokensController#create as */*
  Parameters: {"client_id"=>"RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc", "client_secret"=>"[FILTERED]", "code"=>"[FILTERED]", "grant_type"=>"authorization_code", "redirect_uri"=>"http://localhost:3001/auth/keepa/callback?code=YbinzGPMd8XowbX7BQ1ZrnTEWCX7vVbtzo41dz72efg&state=21e77003c3d65545c962544114caa04f17b80571913c579a"}
  [1m[36mDoorkeeper::AccessGrant Load (0.1ms)[0m  [1m[34mSELECT "oauth_access_grants".* FROM "oauth_access_grants" WHERE "oauth_access_grants"."token" = $1 LIMIT $2[0m  [["token", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mDoorkeeper::Application Load (0.1ms)[0m  [1m[34mSELECT "oauth_applications".* FROM "oauth_applications" WHERE "oauth_applications"."uid" = $1 LIMIT $2[0m  [["uid", "RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDoorkeeper::AccessGrant Load (0.5ms)[0m  [1m[37mSELECT "oauth_access_grants".* FROM "oauth_access_grants" WHERE "oauth_access_grants"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mDoorkeeper::AccessGrant Update (0.3ms)[0m  [1m[33mUPDATE "oauth_access_grants" SET "revoked_at" = $1 WHERE "oauth_access_grants"."id" = $2[0m  [["revoked_at", "2022-05-11 10:13:41.030911"], ["id", 8]]
  [1m[36mDoorkeeper::Application Load (0.6ms)[0m  [1m[34mSELECT "oauth_applications".* FROM "oauth_applications" WHERE "oauth_applications"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Doorkeeper::Application Load (0.0ms)[0m  [1m[34mSELECT "oauth_applications".* FROM "oauth_applications" WHERE "oauth_applications"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDoorkeeper::AccessToken Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mDoorkeeper::AccessToken Create (0.3ms)[0m  [1m[32mINSERT INTO "oauth_access_tokens" ("resource_owner_id", "application_id", "token", "refresh_token", "expires_in", "revoked_at", "created_at", "scopes", "previous_refresh_token") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["resource_owner_id", 1], ["application_id", 1], ["token", "[FILTERED]"], ["refresh_token", "[FILTERED]"], ["expires_in", 7200], ["revoked_at", nil], ["created_at", "2022-05-11 10:13:41.036050"], ["scopes", "public_writes"], ["previous_refresh_token", "[FILTERED]"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 19ms (Views: 0.2ms | ActiveRecord: 2.9ms | Allocations: 10318)


Started GET "/accounts/current" for ::1 at 2022-05-11 12:13:41 +0200
Processing by AccountsController#current as */*
  [1m[36mDoorkeeper::AccessToken Load (0.2ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "[FILTERED]"], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `current_account'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:86:in `current_account'
Completed 200 OK in 4ms (Views: 0.4ms | ActiveRecord: 0.4ms | Allocations: 1316)


Started GET "/oauth/authorize?client_id=RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc&redirect_uri=http%3A%2F%2Flocalhost%3A3001%2Fauth%2Fkeepa%2Fcallback&response_type=code&scope=public_writes&state=a171423be11454793df9f1143f1c206819dfe24616fdd60a" for ::1 at 2022-05-11 12:15:25 +0200
Processing by Doorkeeper::AuthorizationsController#new as HTML
  Parameters: {"client_id"=>"RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc", "redirect_uri"=>"http://localhost:3001/auth/keepa/callback", "response_type"=>"code", "scope"=>"public_writes", "state"=>"a171423be11454793df9f1143f1c206819dfe24616fdd60a"}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ config/initializers/doorkeeper.rb:14:in `block (2 levels) in <main>'
  [1m[36mDoorkeeper::Application Load (0.2ms)[0m  [1m[34mSELECT "oauth_applications".* FROM "oauth_applications" WHERE "oauth_applications"."uid" = $1 LIMIT $2[0m  [["uid", "RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc"], ["LIMIT", 1]]
  [1m[36mDoorkeeper::AccessToken Load (0.2ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."resource_owner_id" = $1 AND "oauth_access_tokens"."application_id" = $2 AND "oauth_access_tokens"."revoked_at" IS NULL ORDER BY "oauth_access_tokens"."id" ASC LIMIT $3[0m  [["resource_owner_id", 1], ["application_id", 1], ["LIMIT", 10000]]
  [1m[36mCACHE Doorkeeper::Application Load (0.0ms)[0m  [1m[34mSELECT "oauth_applications".* FROM "oauth_applications" WHERE "oauth_applications"."uid" = $1 LIMIT $2[0m  [["uid", "RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDoorkeeper::AccessGrant Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "oauth_access_grants" WHERE "oauth_access_grants"."token" = $1 LIMIT $2[0m  [["token", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mDoorkeeper::AccessGrant Create (0.4ms)[0m  [1m[32mINSERT INTO "oauth_access_grants" ("resource_owner_id", "application_id", "token", "expires_in", "redirect_uri", "created_at", "revoked_at", "scopes") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["resource_owner_id", 1], ["application_id", 1], ["token", "[FILTERED]"], ["expires_in", 600], ["redirect_uri", "http://localhost:3001/auth/keepa/callback"], ["created_at", "2022-05-11 10:15:25.521827"], ["revoked_at", nil], ["scopes", "public_writes"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3001/auth/keepa/callback?code=v_hN4cwEBmHBKoSbkxaQfi7oDzzmK_ZLj71k0dxT18E&state=a171423be11454793df9f1143f1c206819dfe24616fdd60a
Completed 302 Found in 16ms (ActiveRecord: 2.0ms | Allocations: 9519)


Started POST "/oauth/token" for ::1 at 2022-05-11 12:15:25 +0200
Processing by Doorkeeper::TokensController#create as */*
  Parameters: {"client_id"=>"RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc", "client_secret"=>"[FILTERED]", "code"=>"[FILTERED]", "grant_type"=>"authorization_code", "redirect_uri"=>"http://localhost:3001/auth/keepa/callback?code=v_hN4cwEBmHBKoSbkxaQfi7oDzzmK_ZLj71k0dxT18E&state=a171423be11454793df9f1143f1c206819dfe24616fdd60a"}
  [1m[36mDoorkeeper::AccessGrant Load (0.2ms)[0m  [1m[34mSELECT "oauth_access_grants".* FROM "oauth_access_grants" WHERE "oauth_access_grants"."token" = $1 LIMIT $2[0m  [["token", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mDoorkeeper::Application Load (0.2ms)[0m  [1m[34mSELECT "oauth_applications".* FROM "oauth_applications" WHERE "oauth_applications"."uid" = $1 LIMIT $2[0m  [["uid", "RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDoorkeeper::AccessGrant Load (0.5ms)[0m  [1m[37mSELECT "oauth_access_grants".* FROM "oauth_access_grants" WHERE "oauth_access_grants"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mDoorkeeper::AccessGrant Update (0.3ms)[0m  [1m[33mUPDATE "oauth_access_grants" SET "revoked_at" = $1 WHERE "oauth_access_grants"."id" = $2[0m  [["revoked_at", "2022-05-11 10:15:25.563426"], ["id", 9]]
  [1m[36mDoorkeeper::Application Load (0.2ms)[0m  [1m[34mSELECT "oauth_applications".* FROM "oauth_applications" WHERE "oauth_applications"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Doorkeeper::Application Load (0.0ms)[0m  [1m[34mSELECT "oauth_applications".* FROM "oauth_applications" WHERE "oauth_applications"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDoorkeeper::AccessToken Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mDoorkeeper::AccessToken Create (0.4ms)[0m  [1m[32mINSERT INTO "oauth_access_tokens" ("resource_owner_id", "application_id", "token", "refresh_token", "expires_in", "revoked_at", "created_at", "scopes", "previous_refresh_token") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["resource_owner_id", 1], ["application_id", 1], ["token", "[FILTERED]"], ["refresh_token", "[FILTERED]"], ["expires_in", 7200], ["revoked_at", nil], ["created_at", "2022-05-11 10:15:25.567226"], ["scopes", "public_writes"], ["previous_refresh_token", "[FILTERED]"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 18ms (Views: 0.2ms | ActiveRecord: 2.6ms | Allocations: 10314)


Started GET "/accounts/current" for ::1 at 2022-05-11 12:15:25 +0200
Processing by AccountsController#current as */*
  [1m[36mDoorkeeper::AccessToken Load (0.2ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "[FILTERED]"], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `current_account'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:86:in `current_account'
Completed 200 OK in 4ms (Views: 0.5ms | ActiveRecord: 0.4ms | Allocations: 1315)


Started GET "/oauth/authorize?client_id=RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc&redirect_uri=http%3A%2F%2Flocalhost%3A3001%2Fauth%2Fkeepa%2Fcallback&response_type=code&scope=public_writes&state=c6db030a9897db30e0cf2ed588d9493ab5048a92753df4f5" for ::1 at 2022-05-11 12:16:13 +0200
Processing by Doorkeeper::AuthorizationsController#new as HTML
  Parameters: {"client_id"=>"RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc", "redirect_uri"=>"http://localhost:3001/auth/keepa/callback", "response_type"=>"code", "scope"=>"public_writes", "state"=>"c6db030a9897db30e0cf2ed588d9493ab5048a92753df4f5"}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ config/initializers/doorkeeper.rb:14:in `block (2 levels) in <main>'
  [1m[36mDoorkeeper::Application Load (0.2ms)[0m  [1m[34mSELECT "oauth_applications".* FROM "oauth_applications" WHERE "oauth_applications"."uid" = $1 LIMIT $2[0m  [["uid", "RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc"], ["LIMIT", 1]]
  [1m[36mDoorkeeper::AccessToken Load (0.2ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."resource_owner_id" = $1 AND "oauth_access_tokens"."application_id" = $2 AND "oauth_access_tokens"."revoked_at" IS NULL ORDER BY "oauth_access_tokens"."id" ASC LIMIT $3[0m  [["resource_owner_id", 1], ["application_id", 1], ["LIMIT", 10000]]
  [1m[36mCACHE Doorkeeper::Application Load (0.0ms)[0m  [1m[34mSELECT "oauth_applications".* FROM "oauth_applications" WHERE "oauth_applications"."uid" = $1 LIMIT $2[0m  [["uid", "RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDoorkeeper::AccessGrant Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "oauth_access_grants" WHERE "oauth_access_grants"."token" = $1 LIMIT $2[0m  [["token", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mDoorkeeper::AccessGrant Create (0.3ms)[0m  [1m[32mINSERT INTO "oauth_access_grants" ("resource_owner_id", "application_id", "token", "expires_in", "redirect_uri", "created_at", "revoked_at", "scopes") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["resource_owner_id", 1], ["application_id", 1], ["token", "[FILTERED]"], ["expires_in", 600], ["redirect_uri", "http://localhost:3001/auth/keepa/callback"], ["created_at", "2022-05-11 10:16:13.806386"], ["revoked_at", nil], ["scopes", "public_writes"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3001/auth/keepa/callback?code=OONCubOhkAiUOVZcaaqxh_qsOOAY9B-Nbzib8LUtA1k&state=c6db030a9897db30e0cf2ed588d9493ab5048a92753df4f5
Completed 302 Found in 16ms (ActiveRecord: 1.7ms | Allocations: 9567)


Started POST "/oauth/token" for ::1 at 2022-05-11 12:16:13 +0200
Processing by Doorkeeper::TokensController#create as */*
  Parameters: {"client_id"=>"RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc", "client_secret"=>"[FILTERED]", "code"=>"[FILTERED]", "grant_type"=>"authorization_code", "redirect_uri"=>"http://localhost:3001/auth/keepa/callback?code=OONCubOhkAiUOVZcaaqxh_qsOOAY9B-Nbzib8LUtA1k&state=c6db030a9897db30e0cf2ed588d9493ab5048a92753df4f5"}
  [1m[36mDoorkeeper::AccessGrant Load (0.2ms)[0m  [1m[34mSELECT "oauth_access_grants".* FROM "oauth_access_grants" WHERE "oauth_access_grants"."token" = $1 LIMIT $2[0m  [["token", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mDoorkeeper::Application Load (0.3ms)[0m  [1m[34mSELECT "oauth_applications".* FROM "oauth_applications" WHERE "oauth_applications"."uid" = $1 LIMIT $2[0m  [["uid", "RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDoorkeeper::AccessGrant Load (0.3ms)[0m  [1m[37mSELECT "oauth_access_grants".* FROM "oauth_access_grants" WHERE "oauth_access_grants"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mDoorkeeper::AccessGrant Update (0.3ms)[0m  [1m[33mUPDATE "oauth_access_grants" SET "revoked_at" = $1 WHERE "oauth_access_grants"."id" = $2[0m  [["revoked_at", "2022-05-11 10:16:13.847553"], ["id", 10]]
  [1m[36mDoorkeeper::Application Load (0.2ms)[0m  [1m[34mSELECT "oauth_applications".* FROM "oauth_applications" WHERE "oauth_applications"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Doorkeeper::Application Load (0.0ms)[0m  [1m[34mSELECT "oauth_applications".* FROM "oauth_applications" WHERE "oauth_applications"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDoorkeeper::AccessToken Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mDoorkeeper::AccessToken Create (0.4ms)[0m  [1m[32mINSERT INTO "oauth_access_tokens" ("resource_owner_id", "application_id", "token", "refresh_token", "expires_in", "revoked_at", "created_at", "scopes", "previous_refresh_token") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["resource_owner_id", 1], ["application_id", 1], ["token", "[FILTERED]"], ["refresh_token", "[FILTERED]"], ["expires_in", 7200], ["revoked_at", nil], ["created_at", "2022-05-11 10:16:13.851253"], ["scopes", "public_writes"], ["previous_refresh_token", "[FILTERED]"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 18ms (Views: 0.2ms | ActiveRecord: 2.3ms | Allocations: 10314)


Started GET "/accounts/current" for ::1 at 2022-05-11 12:16:13 +0200
Processing by AccountsController#current as */*
  [1m[36mDoorkeeper::AccessToken Load (0.1ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "[FILTERED]"], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `current_account'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:86:in `current_account'
Completed 200 OK in 4ms (Views: 0.8ms | ActiveRecord: 0.3ms | Allocations: 1315)


Started POST "/oauth/token" for ::1 at 2022-05-11 13:20:02 +0200
Processing by Doorkeeper::TokensController#create as */*
  Parameters: {"client_id"=>"RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc", "client_secret"=>"[FILTERED]", "code"=>"[FILTERED]", "grant_type"=>"authorization_code", "redirect_uri"=>"http://localhost:3001/auth/keepa/callback?code=OONCubOhkAiUOVZcaaqxh_qsOOAY9B-Nbzib8LUtA1k&state=c6db030a9897db30e0cf2ed588d9493ab5048a92753df4f5"}
  [1m[36mDoorkeeper::AccessGrant Load (0.7ms)[0m  [1m[34mSELECT "oauth_access_grants".* FROM "oauth_access_grants" WHERE "oauth_access_grants"."token" = $1 LIMIT $2[0m  [["token", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mDoorkeeper::Application Load (0.4ms)[0m  [1m[34mSELECT "oauth_applications".* FROM "oauth_applications" WHERE "oauth_applications"."uid" = $1 LIMIT $2[0m  [["uid", "RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc"], ["LIMIT", 1]]
Completed 400 Bad Request in 46ms (Views: 2.4ms | ActiveRecord: 8.9ms | Allocations: 4207)


Started GET "/oauth/authorize?client_id=RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc&redirect_uri=http%3A%2F%2Flocalhost%3A3001%2Fauth%2Fkeepa%2Fcallback&response_type=code&scope=public_writes&state=6d6672a202524287327b191224e5f514ce291d5790231a1e" for ::1 at 2022-05-11 13:20:05 +0200
Processing by Doorkeeper::AuthorizationsController#new as HTML
  Parameters: {"client_id"=>"RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc", "redirect_uri"=>"http://localhost:3001/auth/keepa/callback", "response_type"=>"code", "scope"=>"public_writes", "state"=>"6d6672a202524287327b191224e5f514ce291d5790231a1e"}
  [1m[36mAccount Load (0.7ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ config/initializers/doorkeeper.rb:14:in `block (2 levels) in <main>'
  [1m[36mDoorkeeper::Application Load (0.3ms)[0m  [1m[34mSELECT "oauth_applications".* FROM "oauth_applications" WHERE "oauth_applications"."uid" = $1 LIMIT $2[0m  [["uid", "RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc"], ["LIMIT", 1]]
  [1m[36mDoorkeeper::AccessToken Load (0.7ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."resource_owner_id" = $1 AND "oauth_access_tokens"."application_id" = $2 AND "oauth_access_tokens"."revoked_at" IS NULL ORDER BY "oauth_access_tokens"."id" ASC LIMIT $3[0m  [["resource_owner_id", 1], ["application_id", 1], ["LIMIT", 10000]]
  [1m[36mCACHE Doorkeeper::Application Load (0.0ms)[0m  [1m[34mSELECT "oauth_applications".* FROM "oauth_applications" WHERE "oauth_applications"."uid" = $1 LIMIT $2[0m  [["uid", "RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDoorkeeper::AccessGrant Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "oauth_access_grants" WHERE "oauth_access_grants"."token" = $1 LIMIT $2[0m  [["token", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mDoorkeeper::AccessGrant Create (0.9ms)[0m  [1m[32mINSERT INTO "oauth_access_grants" ("resource_owner_id", "application_id", "token", "expires_in", "redirect_uri", "created_at", "revoked_at", "scopes") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["resource_owner_id", 1], ["application_id", 1], ["token", "[FILTERED]"], ["expires_in", 600], ["redirect_uri", "http://localhost:3001/auth/keepa/callback"], ["created_at", "2022-05-11 11:20:05.289292"], ["revoked_at", nil], ["scopes", "public_writes"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3001/auth/keepa/callback?code=OcZg-ezYIjL5vLVuZ52qlpAKjNOVkrIThvQSB5NXLdY&state=6d6672a202524287327b191224e5f514ce291d5790231a1e
Completed 302 Found in 36ms (ActiveRecord: 3.6ms | Allocations: 9661)


Started POST "/oauth/token" for ::1 at 2022-05-11 13:20:05 +0200
Processing by Doorkeeper::TokensController#create as */*
  Parameters: {"client_id"=>"RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc", "client_secret"=>"[FILTERED]", "code"=>"[FILTERED]", "grant_type"=>"authorization_code", "redirect_uri"=>"http://localhost:3001/auth/keepa/callback?code=OcZg-ezYIjL5vLVuZ52qlpAKjNOVkrIThvQSB5NXLdY&state=6d6672a202524287327b191224e5f514ce291d5790231a1e"}
  [1m[36mDoorkeeper::AccessGrant Load (0.3ms)[0m  [1m[34mSELECT "oauth_access_grants".* FROM "oauth_access_grants" WHERE "oauth_access_grants"."token" = $1 LIMIT $2[0m  [["token", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mDoorkeeper::Application Load (0.2ms)[0m  [1m[34mSELECT "oauth_applications".* FROM "oauth_applications" WHERE "oauth_applications"."uid" = $1 LIMIT $2[0m  [["uid", "RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDoorkeeper::AccessGrant Load (0.5ms)[0m  [1m[37mSELECT "oauth_access_grants".* FROM "oauth_access_grants" WHERE "oauth_access_grants"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mDoorkeeper::AccessGrant Update (0.3ms)[0m  [1m[33mUPDATE "oauth_access_grants" SET "revoked_at" = $1 WHERE "oauth_access_grants"."id" = $2[0m  [["revoked_at", "2022-05-11 11:20:05.339885"], ["id", 11]]
  [1m[36mDoorkeeper::Application Load (0.2ms)[0m  [1m[34mSELECT "oauth_applications".* FROM "oauth_applications" WHERE "oauth_applications"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Doorkeeper::Application Load (0.0ms)[0m  [1m[34mSELECT "oauth_applications".* FROM "oauth_applications" WHERE "oauth_applications"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDoorkeeper::AccessToken Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mDoorkeeper::AccessToken Create (1.4ms)[0m  [1m[32mINSERT INTO "oauth_access_tokens" ("resource_owner_id", "application_id", "token", "refresh_token", "expires_in", "revoked_at", "created_at", "scopes", "previous_refresh_token") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["resource_owner_id", 1], ["application_id", 1], ["token", "[FILTERED]"], ["refresh_token", "[FILTERED]"], ["expires_in", 7200], ["revoked_at", nil], ["created_at", "2022-05-11 11:20:05.346457"], ["scopes", "public_writes"], ["previous_refresh_token", "[FILTERED]"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 28ms (Views: 0.2ms | ActiveRecord: 3.9ms | Allocations: 10318)


Started GET "/accounts/current" for ::1 at 2022-05-11 13:20:05 +0200
Processing by AccountsController#current as */*
  [1m[36mDoorkeeper::AccessToken Load (0.4ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "[FILTERED]"], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `current_account'
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:86:in `current_account'
Completed 200 OK in 7ms (Views: 2.3ms | ActiveRecord: 0.9ms | Allocations: 1319)


Started GET "/oauth/authorize?client_id=RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc&redirect_uri=http%3A%2F%2Flocalhost%3A3001%2Fauth%2Fkeepa%2Fcallback&response_type=code&scope=public_writes&state=af1ac91fc7d20f763be174409492f1f7582010420f30b927" for ::1 at 2022-05-11 13:45:48 +0200
Processing by Doorkeeper::AuthorizationsController#new as HTML
  Parameters: {"client_id"=>"RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc", "redirect_uri"=>"http://localhost:3001/auth/keepa/callback", "response_type"=>"code", "scope"=>"public_writes", "state"=>"af1ac91fc7d20f763be174409492f1f7582010420f30b927"}
  [1m[36mAccount Load (0.7ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ config/initializers/doorkeeper.rb:14:in `block (2 levels) in <main>'
  [1m[36mDoorkeeper::Application Load (0.5ms)[0m  [1m[34mSELECT "oauth_applications".* FROM "oauth_applications" WHERE "oauth_applications"."uid" = $1 LIMIT $2[0m  [["uid", "RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc"], ["LIMIT", 1]]
  [1m[36mDoorkeeper::AccessToken Load (0.7ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."resource_owner_id" = $1 AND "oauth_access_tokens"."application_id" = $2 AND "oauth_access_tokens"."revoked_at" IS NULL ORDER BY "oauth_access_tokens"."id" ASC LIMIT $3[0m  [["resource_owner_id", 1], ["application_id", 1], ["LIMIT", 10000]]
  [1m[36mCACHE Doorkeeper::Application Load (0.0ms)[0m  [1m[34mSELECT "oauth_applications".* FROM "oauth_applications" WHERE "oauth_applications"."uid" = $1 LIMIT $2[0m  [["uid", "RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDoorkeeper::AccessGrant Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "oauth_access_grants" WHERE "oauth_access_grants"."token" = $1 LIMIT $2[0m  [["token", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mDoorkeeper::AccessGrant Create (3.2ms)[0m  [1m[32mINSERT INTO "oauth_access_grants" ("resource_owner_id", "application_id", "token", "expires_in", "redirect_uri", "created_at", "revoked_at", "scopes") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["resource_owner_id", 1], ["application_id", 1], ["token", "[FILTERED]"], ["expires_in", 600], ["redirect_uri", "http://localhost:3001/auth/keepa/callback"], ["created_at", "2022-05-11 11:45:48.674337"], ["revoked_at", nil], ["scopes", "public_writes"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3001/auth/keepa/callback?code=2uNCQdGRAi1AUjBhZ_9nGHGmoeVizyPcVdnfaRwXbZc&state=af1ac91fc7d20f763be174409492f1f7582010420f30b927
Completed 302 Found in 96ms (ActiveRecord: 15.5ms | Allocations: 12032)


Started POST "/oauth/token" for ::1 at 2022-05-11 13:45:48 +0200
Processing by Doorkeeper::TokensController#create as */*
  Parameters: {"client_id"=>"RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc", "client_secret"=>"[FILTERED]", "code"=>"[FILTERED]", "grant_type"=>"authorization_code", "redirect_uri"=>"http://localhost:3001/auth/keepa/callback?code=2uNCQdGRAi1AUjBhZ_9nGHGmoeVizyPcVdnfaRwXbZc&state=af1ac91fc7d20f763be174409492f1f7582010420f30b927"}
  [1m[36mDoorkeeper::AccessGrant Load (0.4ms)[0m  [1m[34mSELECT "oauth_access_grants".* FROM "oauth_access_grants" WHERE "oauth_access_grants"."token" = $1 LIMIT $2[0m  [["token", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mDoorkeeper::Application Load (0.3ms)[0m  [1m[34mSELECT "oauth_applications".* FROM "oauth_applications" WHERE "oauth_applications"."uid" = $1 LIMIT $2[0m  [["uid", "RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDoorkeeper::AccessGrant Load (0.4ms)[0m  [1m[37mSELECT "oauth_access_grants".* FROM "oauth_access_grants" WHERE "oauth_access_grants"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 12], ["LIMIT", 1]]
  [1m[36mDoorkeeper::AccessGrant Update (0.6ms)[0m  [1m[33mUPDATE "oauth_access_grants" SET "revoked_at" = $1 WHERE "oauth_access_grants"."id" = $2[0m  [["revoked_at", "2022-05-11 11:45:48.742500"], ["id", 12]]
  [1m[36mDoorkeeper::Application Load (0.4ms)[0m  [1m[34mSELECT "oauth_applications".* FROM "oauth_applications" WHERE "oauth_applications"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Doorkeeper::Application Load (0.0ms)[0m  [1m[34mSELECT "oauth_applications".* FROM "oauth_applications" WHERE "oauth_applications"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDoorkeeper::AccessToken Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mDoorkeeper::AccessToken Create (1.3ms)[0m  [1m[32mINSERT INTO "oauth_access_tokens" ("resource_owner_id", "application_id", "token", "refresh_token", "expires_in", "revoked_at", "created_at", "scopes", "previous_refresh_token") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["resource_owner_id", 1], ["application_id", 1], ["token", "[FILTERED]"], ["refresh_token", "[FILTERED]"], ["expires_in", 7200], ["revoked_at", nil], ["created_at", "2022-05-11 11:45:48.751562"], ["scopes", "public_writes"], ["previous_refresh_token", "[FILTERED]"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 35ms (Views: 1.1ms | ActiveRecord: 4.4ms | Allocations: 10320)


Started GET "/accounts/current" for ::1 at 2022-05-11 13:45:48 +0200
Processing by AccountsController#current as */*
  [1m[36mDoorkeeper::AccessToken Load (0.4ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "[FILTERED]"], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `current_account'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:86:in `current_account'
Completed 200 OK in 8ms (Views: 1.4ms | ActiveRecord: 0.7ms | Allocations: 1320)


Started GET "/" for ::1 at 2022-05-11 14:31:22 +0200
Processing by AccountsController#index as HTML
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 ORDER BY "accounts"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering accounts/index.html.erb within layouts/application
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/views/accounts/index.html.erb:20
  Rendered accounts/index.html.erb within layouts/application (Duration: 18.4ms | Allocations: 1177)
  Rendered layout layouts/application.html.erb (Duration: 69.0ms | Allocations: 16357)
Completed 200 OK in 231ms (Views: 78.8ms | ActiveRecord: 10.7ms | Allocations: 27899)


Started GET "/accounts/sign_out" for ::1 at 2022-05-11 14:31:25 +0200
  
ActionController::RoutingError (No route matches [GET] "/accounts/sign_out"):
  
Started GET "/rails/info/routes?path=sign" for ::1 at 2022-05-11 14:33:40 +0200
Processing by Rails::InfoController#routes as */*
  Parameters: {"path"=>"sign"}
Completed 200 OK in 6ms (Views: 0.4ms | ActiveRecord: 0.0ms | Allocations: 1991)


Started GET "/rails/info/routes?path=sign" for ::1 at 2022-05-11 14:33:50 +0200
Processing by Rails::InfoController#routes as */*
  Parameters: {"path"=>"sign"}
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 937)


Started GET "/" for ::1 at 2022-05-11 14:34:29 +0200
Processing by AccountsController#index as HTML
  [1m[36mAccount Load (9.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 ORDER BY "accounts"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering accounts/index.html.erb within layouts/application
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/views/accounts/index.html.erb:20
  Rendered accounts/index.html.erb within layouts/application (Duration: 3.9ms | Allocations: 1131)
  Rendered layout layouts/application.html.erb (Duration: 11.3ms | Allocations: 3832)
Completed 200 OK in 33ms (Views: 13.4ms | ActiveRecord: 9.7ms | Allocations: 6447)


Started GET "/" for ::1 at 2022-05-11 14:34:43 +0200
Processing by AccountsController#index as HTML
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 ORDER BY "accounts"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering accounts/index.html.erb within layouts/application
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/views/accounts/index.html.erb:20
  Rendered accounts/index.html.erb within layouts/application (Duration: 3.4ms | Allocations: 1131)
  Rendered layout layouts/application.html.erb (Duration: 9.0ms | Allocations: 3832)
Completed 200 OK in 16ms (Views: 11.2ms | ActiveRecord: 0.7ms | Allocations: 6442)


Started GET "/accounts/sign_out" for ::1 at 2022-05-11 14:34:46 +0200
  
ActionController::RoutingError (No route matches [GET] "/accounts/sign_out"):
  
Started GET "/rails/info/routes?path=des" for ::1 at 2022-05-11 14:34:55 +0200
Processing by Rails::InfoController#routes as */*
  Parameters: {"path"=>"des"}
Completed 200 OK in 2ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 735)


Started GET "/rails/info/routes?path=desc" for ::1 at 2022-05-11 14:34:56 +0200
Processing by Rails::InfoController#routes as */*
  Parameters: {"path"=>"desc"}
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 733)


Started GET "/rails/info/routes?path=dest" for ::1 at 2022-05-11 14:34:57 +0200
Processing by Rails::InfoController#routes as */*
  Parameters: {"path"=>"dest"}
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 733)


Started GET "/rails/info/routes?path=destro" for ::1 at 2022-05-11 14:34:57 +0200
Processing by Rails::InfoController#routes as */*
  Parameters: {"path"=>"destro"}
Completed 200 OK in 2ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 734)


Started GET "/rails/info/routes?path=destro" for ::1 at 2022-05-11 14:34:58 +0200
Processing by Rails::InfoController#routes as */*
  Parameters: {"path"=>"destro"}
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 731)


Started GET "/rails/info/routes?path=session" for ::1 at 2022-05-11 14:35:02 +0200
Processing by Rails::InfoController#routes as */*
  Parameters: {"path"=>"session"}
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 733)


Started GET "/rails/info/routes?path=sessi" for ::1 at 2022-05-11 14:35:03 +0200
Processing by Rails::InfoController#routes as */*
  Parameters: {"path"=>"sessi"}
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 734)


Started GET "/rails/info/routes?path=sig" for ::1 at 2022-05-11 14:35:05 +0200
Processing by Rails::InfoController#routes as */*
  Parameters: {"path"=>"sig"}
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 939)


Started GET "/rails/info/routes?path=sing_" for ::1 at 2022-05-11 14:35:05 +0200
Processing by Rails::InfoController#routes as */*
  Parameters: {"path"=>"sing_"}
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 734)


Started GET "/rails/info/routes?path=sing_Out" for ::1 at 2022-05-11 14:35:06 +0200
Processing by Rails::InfoController#routes as */*
  Parameters: {"path"=>"sing_Out"}
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 734)


Started GET "/rails/info/routes?path=sing_out" for ::1 at 2022-05-11 14:35:08 +0200
Processing by Rails::InfoController#routes as */*
  Parameters: {"path"=>"sing_out"}
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 734)


Started GET "/rails/info/routes?path=sing_" for ::1 at 2022-05-11 14:35:10 +0200
Processing by Rails::InfoController#routes as */*
  Parameters: {"path"=>"sing_"}
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 733)


Started GET "/rails/info/routes?path=sing" for ::1 at 2022-05-11 14:35:12 +0200
Processing by Rails::InfoController#routes as */*
  Parameters: {"path"=>"sing"}
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 734)


Started GET "/rails/info/routes?path=si" for ::1 at 2022-05-11 14:35:13 +0200
Processing by Rails::InfoController#routes as */*
  Parameters: {"path"=>"si"}
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 939)


Started GET "/rails/info/routes?path=sign" for ::1 at 2022-05-11 14:35:14 +0200
Processing by Rails::InfoController#routes as */*
  Parameters: {"path"=>"sign"}
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 940)


Started GET "/rails/info/routes?path=sign" for ::1 at 2022-05-11 14:35:15 +0200
Processing by Rails::InfoController#routes as */*
  Parameters: {"path"=>"sign"}
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 937)


Started GET "/rails/info/routes?path=sign_out" for ::1 at 2022-05-11 14:35:16 +0200
Processing by Rails::InfoController#routes as */*
  Parameters: {"path"=>"sign_out"}
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 748)


Started GET "/rails/info/routes?path=sign_out" for ::1 at 2022-05-11 14:35:19 +0200
Processing by Rails::InfoController#routes as */*
  Parameters: {"path"=>"sign_out"}
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 746)


Started GET "/rails/info/routes?path=sign_out" for ::1 at 2022-05-11 14:35:23 +0200
Processing by Rails::InfoController#routes as */*
  Parameters: {"path"=>"sign_out"}
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 746)


Started GET "/" for ::1 at 2022-05-11 14:37:26 +0200
Processing by AccountsController#index as HTML
  [1m[36mAccount Load (5.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 ORDER BY "accounts"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering accounts/index.html.erb within layouts/application
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/views/accounts/index.html.erb:20
  Rendered accounts/index.html.erb within layouts/application (Duration: 4.2ms | Allocations: 1331)
  Rendered layout layouts/application.html.erb (Duration: 10.7ms | Allocations: 4034)
Completed 200 OK in 29ms (Views: 17.8ms | ActiveRecord: 5.7ms | Allocations: 6653)


Started GET "/" for ::1 at 2022-05-11 14:37:27 +0200
Processing by AccountsController#index as HTML
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 ORDER BY "accounts"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering accounts/index.html.erb within layouts/application
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/views/accounts/index.html.erb:20
  Rendered accounts/index.html.erb within layouts/application (Duration: 2.3ms | Allocations: 926)
  Rendered layout layouts/application.html.erb (Duration: 6.5ms | Allocations: 3328)
Completed 200 OK in 11ms (Views: 6.6ms | ActiveRecord: 0.7ms | Allocations: 5215)


Started GET "/" for ::1 at 2022-05-11 14:37:29 +0200
Processing by AccountsController#index as HTML
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 ORDER BY "accounts"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering accounts/index.html.erb within layouts/application
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/views/accounts/index.html.erb:20
  Rendered accounts/index.html.erb within layouts/application (Duration: 1.9ms | Allocations: 926)
  Rendered layout layouts/application.html.erb (Duration: 5.9ms | Allocations: 3328)
Completed 200 OK in 11ms (Views: 6.2ms | ActiveRecord: 0.6ms | Allocations: 5212)


Started DELETE "/accounts/sign_out" for ::1 at 2022-05-11 14:37:30 +0200
Processing by Devise::SessionsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]"}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 ORDER BY "accounts"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 12ms (ActiveRecord: 0.2ms | Allocations: 3031)


Started GET "/" for ::1 at 2022-05-11 14:37:30 +0200
Processing by AccountsController#index as TURBO_STREAM
Completed 401 Unauthorized in 3ms (ActiveRecord: 0.0ms | Allocations: 728)


Started DELETE "/accounts/sign_out" for ::1 at 2022-05-11 14:37:33 +0200
Processing by Devise::SessionsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]"}
Redirected to http://localhost:3000/
Filter chain halted as :verify_signed_out_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms | Allocations: 796)


Started GET "/" for ::1 at 2022-05-11 14:37:33 +0200
Processing by AccountsController#index as TURBO_STREAM
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms | Allocations: 667)


Started DELETE "/accounts/sign_out" for ::1 at 2022-05-11 14:37:34 +0200
Processing by Devise::SessionsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]"}
Redirected to http://localhost:3000/
Filter chain halted as :verify_signed_out_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms | Allocations: 792)


Started GET "/" for ::1 at 2022-05-11 14:37:34 +0200
Processing by AccountsController#index as TURBO_STREAM
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms | Allocations: 665)


Started DELETE "/accounts/sign_out" for ::1 at 2022-05-11 14:37:34 +0200
Processing by Devise::SessionsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]"}
Redirected to http://localhost:3000/
Filter chain halted as :verify_signed_out_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms | Allocations: 792)


Started GET "/" for ::1 at 2022-05-11 14:37:34 +0200
Processing by AccountsController#index as TURBO_STREAM
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms | Allocations: 665)


Started GET "/" for ::1 at 2022-05-11 14:37:35 +0200
Processing by AccountsController#index as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms | Allocations: 663)


Started GET "/accounts/sign_in" for ::1 at 2022-05-11 14:37:35 +0200
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/devise-4.8.1/app/views/devise/shared/_links.html.erb (Duration: 1.7ms | Allocations: 853)
  Rendered /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application (Duration: 12.3ms | Allocations: 2931)
  Rendered layout layouts/application.html.erb (Duration: 15.6ms | Allocations: 5389)
Completed 200 OK in 22ms (Views: 18.0ms | ActiveRecord: 0.0ms | Allocations: 7562)


Started GET "/oauth/authorize?client_id=RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc&redirect_uri=http%3A%2F%2Flocalhost%3A3001%2Fauth%2Fkeepa%2Fcallback&response_type=code&scope=public_writes&state=bc309d118da38e7d4dd179ca7528618e09af7b8283d1ec1f" for ::1 at 2022-05-11 14:37:58 +0200
Processing by Doorkeeper::AuthorizationsController#new as HTML
  Parameters: {"client_id"=>"RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc", "redirect_uri"=>"http://localhost:3001/auth/keepa/callback", "response_type"=>"code", "scope"=>"public_writes", "state"=>"bc309d118da38e7d4dd179ca7528618e09af7b8283d1ec1f"}
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms | Allocations: 1512)


  
NoMethodError (undefined method `first' for nil:NilClass):
  
config/initializers/doorkeeper.rb:14:in `block (2 levels) in <main>'
Started GET "/oauth/authorize?client_id=RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc&redirect_uri=http%3A%2F%2Flocalhost%3A3001%2Fauth%2Fkeepa%2Fcallback&response_type=code&scope=public_writes&state=1ac5b62f477671a56c18973c6044ad785aac7065001e12dc" for ::1 at 2022-05-11 14:38:51 +0200
Processing by Doorkeeper::AuthorizationsController#new as HTML
  Parameters: {"client_id"=>"RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc", "redirect_uri"=>"http://localhost:3001/auth/keepa/callback", "response_type"=>"code", "scope"=>"public_writes", "state"=>"1ac5b62f477671a56c18973c6044ad785aac7065001e12dc"}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 1469)


  
NoMethodError (undefined method `first' for nil:NilClass):
  
config/initializers/doorkeeper.rb:14:in `block (2 levels) in <main>'
Started PUT "/__web_console/repl_sessions/54bc0c32cf3a6b298421dc783ac1be63" for ::1 at 2022-05-11 14:39:12 +0200
Started PUT "/__web_console/repl_sessions/54bc0c32cf3a6b298421dc783ac1be63" for ::1 at 2022-05-11 14:39:12 +0200
Started PUT "/__web_console/repl_sessions/54bc0c32cf3a6b298421dc783ac1be63" for ::1 at 2022-05-11 14:39:34 +0200
Started PUT "/__web_console/repl_sessions/54bc0c32cf3a6b298421dc783ac1be63" for ::1 at 2022-05-11 14:39:35 +0200
Started GET "/oauth/authorize?client_id=RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc&redirect_uri=http%3A%2F%2Flocalhost%3A3001%2Fauth%2Fkeepa%2Fcallback&response_type=code&scope=public_writes&state=1ac5b62f477671a56c18973c6044ad785aac7065001e12dc" for ::1 at 2022-05-11 14:40:55 +0200
  [1m[36mActiveRecord::SchemaMigration Pluck (11.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Doorkeeper::AuthorizationsController#new as HTML
  Parameters: {"client_id"=>"RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc", "redirect_uri"=>"http://localhost:3001/auth/keepa/callback", "response_type"=>"code", "scope"=>"public_writes", "state"=>"1ac5b62f477671a56c18973c6044ad785aac7065001e12dc"}
Redirected to http://localhost:3000/accounts/sign_in
Filter chain halted as :authenticate_resource_owner! rendered or redirected
Completed 302 Found in 5ms (ActiveRecord: 0.0ms | Allocations: 1110)


Started GET "/accounts/sign_in" for ::1 at 2022-05-11 14:40:55 +0200
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/devise-4.8.1/app/views/devise/shared/_links.html.erb (Duration: 1.5ms | Allocations: 858)
  Rendered /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application (Duration: 20.8ms | Allocations: 8991)
  Rendered layout layouts/application.html.erb (Duration: 73.9ms | Allocations: 45598)
Completed 200 OK in 103ms (Views: 81.7ms | ActiveRecord: 10.0ms | Allocations: 57935)


Started GET "/accounts/sign_up" for ::1 at 2022-05-11 14:40:59 +0200
Processing by Devise::RegistrationsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/devise-4.8.1/app/views/devise/registrations/new.html.erb within layouts/application
  Rendered /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/devise-4.8.1/app/views/devise/shared/_error_messages.html.erb (Duration: 1.5ms | Allocations: 240)
  Rendered /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/devise-4.8.1/app/views/devise/shared/_links.html.erb (Duration: 0.5ms | Allocations: 225)
  Rendered /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/devise-4.8.1/app/views/devise/registrations/new.html.erb within layouts/application (Duration: 6.0ms | Allocations: 2326)
  Rendered layout layouts/application.html.erb (Duration: 9.9ms | Allocations: 4793)
Completed 200 OK in 15ms (Views: 12.8ms | ActiveRecord: 0.0ms | Allocations: 6537)


Started POST "/accounts" for ::1 at 2022-05-11 14:41:20 +0200
Processing by Devise::RegistrationsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "account"=>{"email"=>"popug1@popug.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "accounts" WHERE "accounts"."email" = $1 LIMIT $2[0m  [["email", "popug1@popug.com"], ["LIMIT", 1]]
  [1m[36mAccount Create (1.7ms)[0m  [1m[32mINSERT INTO "accounts" ("email", "encrypted_password", "full_name", "position", "active", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "role") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["email", "popug1@popug.com"], ["encrypted_password", "[FILTERED]"], ["full_name", nil], ["position", nil], ["active", true], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2022-05-11 12:41:20.813319"], ["updated_at", "2022-05-11 12:41:20.813319"], ["role", "employee"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/accounts/2
Completed 302 Found in 227ms (ActiveRecord: 3.4ms | Allocations: 10751)


Started GET "/accounts/2" for ::1 at 2022-05-11 14:41:20 +0200
  
ActionController::RoutingError (No route matches [GET] "/accounts/2"):
  
Started GET "/accounts/sign_up" for ::1 at 2022-05-11 14:41:20 +0200
Processing by Devise::RegistrationsController#new as HTML
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 ORDER BY "accounts"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Filter chain halted as :require_no_authentication rendered or redirected
Completed 302 Found in 4ms (ActiveRecord: 0.4ms | Allocations: 2348)


Started GET "/" for ::1 at 2022-05-11 14:41:20 +0200
Processing by AccountsController#index as HTML
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 ORDER BY "accounts"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering accounts/index.html.erb within layouts/application
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/views/accounts/index.html.erb:20
  Rendered accounts/index.html.erb within layouts/application (Duration: 3.2ms | Allocations: 1488)
  Rendered layout layouts/application.html.erb (Duration: 7.5ms | Allocations: 3982)
Completed 200 OK in 13ms (Views: 9.0ms | ActiveRecord: 0.5ms | Allocations: 6526)


Started GET "/oauth/authorize?client_id=RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc&redirect_uri=http%3A%2F%2Flocalhost%3A3001%2Fauth%2Fkeepa%2Fcallback&response_type=code&scope=public_writes&state=809e7e08ac1b7d4d41afb428dc997e55ceb6214f70d515a9" for ::1 at 2022-05-11 14:41:27 +0200
Processing by Doorkeeper::AuthorizationsController#new as HTML
  Parameters: {"client_id"=>"RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc", "redirect_uri"=>"http://localhost:3001/auth/keepa/callback", "response_type"=>"code", "scope"=>"public_writes", "state"=>"809e7e08ac1b7d4d41afb428dc997e55ceb6214f70d515a9"}
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ config/initializers/doorkeeper.rb:15:in `block (2 levels) in <main>'
  [1m[36mDoorkeeper::Application Load (0.5ms)[0m  [1m[34mSELECT "oauth_applications".* FROM "oauth_applications" WHERE "oauth_applications"."uid" = $1 LIMIT $2[0m  [["uid", "RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc"], ["LIMIT", 1]]
  [1m[36mDoorkeeper::AccessToken Load (0.6ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."resource_owner_id" = $1 AND "oauth_access_tokens"."application_id" = $2 AND "oauth_access_tokens"."revoked_at" IS NULL ORDER BY "oauth_access_tokens"."id" ASC LIMIT $3[0m  [["resource_owner_id", 2], ["application_id", 1], ["LIMIT", 10000]]
  Rendering layout /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/doorkeeper-5.5.4/app/views/layouts/doorkeeper/application.html.erb
  Rendering /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/doorkeeper-5.5.4/app/views/doorkeeper/authorizations/new.html.erb within layouts/doorkeeper/application
  Rendered /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/doorkeeper-5.5.4/app/views/doorkeeper/authorizations/new.html.erb within layouts/doorkeeper/application (Duration: 3.3ms | Allocations: 2555)
  Rendered layout /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/doorkeeper-5.5.4/app/views/layouts/doorkeeper/application.html.erb (Duration: 7.4ms | Allocations: 4278)
Completed 200 OK in 58ms (Views: 9.7ms | ActiveRecord: 9.2ms | Allocations: 20307)


Started POST "/oauth/authorize" for ::1 at 2022-05-11 14:41:30 +0200
Processing by Doorkeeper::AuthorizationsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "client_id"=>"RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc", "redirect_uri"=>"http://localhost:3001/auth/keepa/callback", "state"=>"809e7e08ac1b7d4d41afb428dc997e55ceb6214f70d515a9", "response_type"=>"code", "response_mode"=>"query", "scope"=>"public_writes", "code_challenge"=>"", "code_challenge_method"=>"", "commit"=>"Authorize"}
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ config/initializers/doorkeeper.rb:15:in `block (2 levels) in <main>'
  [1m[36mDoorkeeper::Application Load (0.5ms)[0m  [1m[34mSELECT "oauth_applications".* FROM "oauth_applications" WHERE "oauth_applications"."uid" = $1 LIMIT $2[0m  [["uid", "RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDoorkeeper::AccessGrant Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "oauth_access_grants" WHERE "oauth_access_grants"."token" = $1 LIMIT $2[0m  [["token", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mDoorkeeper::AccessGrant Create (0.9ms)[0m  [1m[32mINSERT INTO "oauth_access_grants" ("resource_owner_id", "application_id", "token", "expires_in", "redirect_uri", "created_at", "revoked_at", "scopes") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["resource_owner_id", 2], ["application_id", 1], ["token", "[FILTERED]"], ["expires_in", 600], ["redirect_uri", "http://localhost:3001/auth/keepa/callback"], ["created_at", "2022-05-11 12:41:30.280281"], ["revoked_at", nil], ["scopes", "public_writes"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3001/auth/keepa/callback?code=cd_tESlGU3W7iHCfTeLZgU7els2bB3HsMoEFxykdQZ8&state=809e7e08ac1b7d4d41afb428dc997e55ceb6214f70d515a9
Completed 302 Found in 30ms (ActiveRecord: 4.3ms | Allocations: 12127)


Started POST "/oauth/token" for ::1 at 2022-05-11 14:41:30 +0200
Processing by Doorkeeper::TokensController#create as */*
  Parameters: {"client_id"=>"RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc", "client_secret"=>"[FILTERED]", "code"=>"[FILTERED]", "grant_type"=>"authorization_code", "redirect_uri"=>"http://localhost:3001/auth/keepa/callback?code=cd_tESlGU3W7iHCfTeLZgU7els2bB3HsMoEFxykdQZ8&state=809e7e08ac1b7d4d41afb428dc997e55ceb6214f70d515a9"}
  [1m[36mDoorkeeper::AccessGrant Load (0.2ms)[0m  [1m[34mSELECT "oauth_access_grants".* FROM "oauth_access_grants" WHERE "oauth_access_grants"."token" = $1 LIMIT $2[0m  [["token", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mDoorkeeper::Application Load (0.2ms)[0m  [1m[34mSELECT "oauth_applications".* FROM "oauth_applications" WHERE "oauth_applications"."uid" = $1 LIMIT $2[0m  [["uid", "RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDoorkeeper::AccessGrant Load (0.4ms)[0m  [1m[37mSELECT "oauth_access_grants".* FROM "oauth_access_grants" WHERE "oauth_access_grants"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 13], ["LIMIT", 1]]
  [1m[36mDoorkeeper::AccessGrant Update (0.3ms)[0m  [1m[33mUPDATE "oauth_access_grants" SET "revoked_at" = $1 WHERE "oauth_access_grants"."id" = $2[0m  [["revoked_at", "2022-05-11 12:41:30.347243"], ["id", 13]]
  [1m[36mDoorkeeper::Application Load (0.2ms)[0m  [1m[34mSELECT "oauth_applications".* FROM "oauth_applications" WHERE "oauth_applications"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Doorkeeper::Application Load (0.0ms)[0m  [1m[34mSELECT "oauth_applications".* FROM "oauth_applications" WHERE "oauth_applications"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDoorkeeper::AccessToken Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mDoorkeeper::AccessToken Create (0.5ms)[0m  [1m[32mINSERT INTO "oauth_access_tokens" ("resource_owner_id", "application_id", "token", "refresh_token", "expires_in", "revoked_at", "created_at", "scopes", "previous_refresh_token") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["resource_owner_id", 2], ["application_id", 1], ["token", "[FILTERED]"], ["refresh_token", "[FILTERED]"], ["expires_in", 7200], ["revoked_at", nil], ["created_at", "2022-05-11 12:41:30.369195"], ["scopes", "public_writes"], ["previous_refresh_token", "[FILTERED]"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 45ms (Views: 0.2ms | ActiveRecord: 2.5ms | Allocations: 25252)


Started GET "/accounts/current" for ::1 at 2022-05-11 14:41:30 +0200
Processing by AccountsController#current as */*
  [1m[36mDoorkeeper::AccessToken Load (0.2ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "[FILTERED]"], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `current_account'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:86:in `current_account'
Completed 200 OK in 6ms (Views: 0.4ms | ActiveRecord: 0.5ms | Allocations: 2241)


Started GET "/accounts/sign_in" for ::1 at 2022-05-11 14:41:39 +0200
Processing by Devise::SessionsController#new as HTML
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 ORDER BY "accounts"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Filter chain halted as :require_no_authentication rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.2ms | Allocations: 1811)


Started GET "/" for ::1 at 2022-05-11 14:41:39 +0200
Processing by AccountsController#index as HTML
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 ORDER BY "accounts"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering accounts/index.html.erb within layouts/application
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/views/accounts/index.html.erb:20
  Rendered accounts/index.html.erb within layouts/application (Duration: 1.9ms | Allocations: 1046)
  Rendered layout layouts/application.html.erb (Duration: 5.3ms | Allocations: 3468)
Completed 200 OK in 9ms (Views: 5.5ms | ActiveRecord: 0.6ms | Allocations: 5368)


Started GET "/accounts/2/edit" for ::1 at 2022-05-11 14:41:43 +0200
Processing by AccountsController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mAccount Load (17.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:93:in `set_account'
  Rendering layout layouts/application.html.erb
  Rendering accounts/edit.html.erb within layouts/application
  Rendered accounts/_form.html.erb (Duration: 4.3ms | Allocations: 1881)
  Rendered accounts/edit.html.erb within layouts/application (Duration: 6.2ms | Allocations: 2243)
  Rendered layout layouts/application.html.erb (Duration: 9.4ms | Allocations: 4638)
Completed 200 OK in 30ms (Views: 10.0ms | ActiveRecord: 17.4ms | Allocations: 5513)


Started GET "/oauth/authorize?client_id=RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc&redirect_uri=http%3A%2F%2Flocalhost%3A3001%2Fauth%2Fkeepa%2Fcallback&response_type=code&scope=public_writes&state=4ba10273a0fc49819468e56c0a6a5f5e5cb434257ec366db" for ::1 at 2022-05-11 14:41:56 +0200
Processing by Doorkeeper::AuthorizationsController#new as HTML
  Parameters: {"client_id"=>"RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc", "redirect_uri"=>"http://localhost:3001/auth/keepa/callback", "response_type"=>"code", "scope"=>"public_writes", "state"=>"4ba10273a0fc49819468e56c0a6a5f5e5cb434257ec366db"}
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ config/initializers/doorkeeper.rb:15:in `block (2 levels) in <main>'
  [1m[36mDoorkeeper::Application Load (0.3ms)[0m  [1m[34mSELECT "oauth_applications".* FROM "oauth_applications" WHERE "oauth_applications"."uid" = $1 LIMIT $2[0m  [["uid", "RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc"], ["LIMIT", 1]]
  [1m[36mDoorkeeper::AccessToken Load (0.3ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."resource_owner_id" = $1 AND "oauth_access_tokens"."application_id" = $2 AND "oauth_access_tokens"."revoked_at" IS NULL ORDER BY "oauth_access_tokens"."id" ASC LIMIT $3[0m  [["resource_owner_id", 2], ["application_id", 1], ["LIMIT", 10000]]
  [1m[36mCACHE Doorkeeper::Application Load (0.0ms)[0m  [1m[34mSELECT "oauth_applications".* FROM "oauth_applications" WHERE "oauth_applications"."uid" = $1 LIMIT $2[0m  [["uid", "RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDoorkeeper::AccessGrant Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "oauth_access_grants" WHERE "oauth_access_grants"."token" = $1 LIMIT $2[0m  [["token", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mDoorkeeper::AccessGrant Create (0.4ms)[0m  [1m[32mINSERT INTO "oauth_access_grants" ("resource_owner_id", "application_id", "token", "expires_in", "redirect_uri", "created_at", "revoked_at", "scopes") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["resource_owner_id", 2], ["application_id", 1], ["token", "[FILTERED]"], ["expires_in", 600], ["redirect_uri", "http://localhost:3001/auth/keepa/callback"], ["created_at", "2022-05-11 12:41:56.122023"], ["revoked_at", nil], ["scopes", "public_writes"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3001/auth/keepa/callback?code=mp-DjhwowBUedJ9rySVlEydWiiNRkk-eomJF-GW5dgw&state=4ba10273a0fc49819468e56c0a6a5f5e5cb434257ec366db
Completed 302 Found in 16ms (ActiveRecord: 2.2ms | Allocations: 9172)


Started POST "/oauth/token" for ::1 at 2022-05-11 14:41:56 +0200
Processing by Doorkeeper::TokensController#create as */*
  Parameters: {"client_id"=>"RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc", "client_secret"=>"[FILTERED]", "code"=>"[FILTERED]", "grant_type"=>"authorization_code", "redirect_uri"=>"http://localhost:3001/auth/keepa/callback?code=mp-DjhwowBUedJ9rySVlEydWiiNRkk-eomJF-GW5dgw&state=4ba10273a0fc49819468e56c0a6a5f5e5cb434257ec366db"}
  [1m[36mDoorkeeper::AccessGrant Load (0.2ms)[0m  [1m[34mSELECT "oauth_access_grants".* FROM "oauth_access_grants" WHERE "oauth_access_grants"."token" = $1 LIMIT $2[0m  [["token", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mDoorkeeper::Application Load (0.3ms)[0m  [1m[34mSELECT "oauth_applications".* FROM "oauth_applications" WHERE "oauth_applications"."uid" = $1 LIMIT $2[0m  [["uid", "RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDoorkeeper::AccessGrant Load (0.3ms)[0m  [1m[37mSELECT "oauth_access_grants".* FROM "oauth_access_grants" WHERE "oauth_access_grants"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 14], ["LIMIT", 1]]
  [1m[36mDoorkeeper::AccessGrant Update (0.4ms)[0m  [1m[33mUPDATE "oauth_access_grants" SET "revoked_at" = $1 WHERE "oauth_access_grants"."id" = $2[0m  [["revoked_at", "2022-05-11 12:41:56.165236"], ["id", 14]]
  [1m[36mDoorkeeper::Application Load (0.3ms)[0m  [1m[34mSELECT "oauth_applications".* FROM "oauth_applications" WHERE "oauth_applications"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Doorkeeper::Application Load (0.0ms)[0m  [1m[34mSELECT "oauth_applications".* FROM "oauth_applications" WHERE "oauth_applications"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDoorkeeper::AccessToken Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mDoorkeeper::AccessToken Create (0.6ms)[0m  [1m[32mINSERT INTO "oauth_access_tokens" ("resource_owner_id", "application_id", "token", "refresh_token", "expires_in", "revoked_at", "created_at", "scopes", "previous_refresh_token") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["resource_owner_id", 2], ["application_id", 1], ["token", "[FILTERED]"], ["refresh_token", "[FILTERED]"], ["expires_in", 7200], ["revoked_at", nil], ["created_at", "2022-05-11 12:41:56.169685"], ["scopes", "public_writes"], ["previous_refresh_token", "[FILTERED]"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 19ms (Views: 0.2ms | ActiveRecord: 2.9ms | Allocations: 10321)


Started GET "/accounts/current" for ::1 at 2022-05-11 14:41:56 +0200
Processing by AccountsController#current as */*
  [1m[36mDoorkeeper::AccessToken Load (0.2ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "[FILTERED]"], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `current_account'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:86:in `current_account'
Completed 200 OK in 3ms (Views: 0.4ms | ActiveRecord: 0.4ms | Allocations: 1311)


Started GET "/" for ::1 at 2022-05-11 14:42:01 +0200
Processing by AccountsController#index as HTML
  [1m[36mAccount Load (10.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 ORDER BY "accounts"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering accounts/index.html.erb within layouts/application
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/views/accounts/index.html.erb:20
  Rendered accounts/index.html.erb within layouts/application (Duration: 3.4ms | Allocations: 1046)
  Rendered layout layouts/application.html.erb (Duration: 6.8ms | Allocations: 3448)
Completed 200 OK in 29ms (Views: 7.0ms | ActiveRecord: 10.6ms | Allocations: 5320)


Started DELETE "/accounts/sign_out" for ::1 at 2022-05-11 14:42:02 +0200
Processing by Devise::SessionsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]"}
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 ORDER BY "accounts"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 31ms (ActiveRecord: 0.3ms | Allocations: 6418)


Started GET "/" for ::1 at 2022-05-11 14:42:02 +0200
Processing by AccountsController#index as TURBO_STREAM
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms | Allocations: 680)


Started GET "/" for ::1 at 2022-05-11 14:42:05 +0200
Processing by AccountsController#index as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms | Allocations: 651)


Started GET "/accounts/sign_in" for ::1 at 2022-05-11 14:42:05 +0200
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/devise-4.8.1/app/views/devise/shared/_links.html.erb (Duration: 0.2ms | Allocations: 142)
  Rendered /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application (Duration: 2.2ms | Allocations: 1284)
  Rendered layout layouts/application.html.erb (Duration: 6.9ms | Allocations: 3690)
Completed 200 OK in 10ms (Views: 7.6ms | ActiveRecord: 0.0ms | Allocations: 4773)


Started GET "/oauth/authorize?client_id=RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc&redirect_uri=http%3A%2F%2Flocalhost%3A3001%2Fauth%2Fkeepa%2Fcallback&response_type=code&scope=public_writes&state=0d17d172d0dd7d64734daaf36282c19d1ca929fceb888404" for ::1 at 2022-05-11 14:42:10 +0200
Processing by Doorkeeper::AuthorizationsController#new as HTML
  Parameters: {"client_id"=>"RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc", "redirect_uri"=>"http://localhost:3001/auth/keepa/callback", "response_type"=>"code", "scope"=>"public_writes", "state"=>"0d17d172d0dd7d64734daaf36282c19d1ca929fceb888404"}
Redirected to http://localhost:3000/accounts/sign_in
Filter chain halted as :authenticate_resource_owner! rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.0ms | Allocations: 785)


Started GET "/accounts/sign_in" for ::1 at 2022-05-11 14:42:10 +0200
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/devise-4.8.1/app/views/devise/shared/_links.html.erb (Duration: 0.8ms | Allocations: 142)
  Rendered /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application (Duration: 2.5ms | Allocations: 1277)
  Rendered layout layouts/application.html.erb (Duration: 6.0ms | Allocations: 3663)
Completed 200 OK in 8ms (Views: 6.5ms | ActiveRecord: 0.0ms | Allocations: 4759)


Started POST "/accounts/sign_in" for ::1 at 2022-05-11 14:42:16 +0200
Processing by Devise::SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "account"=>{"email"=>"admin@email.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."email" = $1 ORDER BY "accounts"."id" ASC LIMIT $2[0m  [["email", "admin@email.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 5ms (ActiveRecord: 0.3ms | Allocations: 1993)


Started POST "/accounts/sign_in" for ::1 at 2022-05-11 14:42:18 +0200
Processing by Devise::SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "account"=>{"email"=>"admin@email.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mAccount Load (1.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."email" = $1 ORDER BY "accounts"."id" ASC LIMIT $2[0m  [["email", "admin@email.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 5ms (ActiveRecord: 1.4ms | Allocations: 1760)


Started POST "/accounts/sign_in" for ::1 at 2022-05-11 14:42:18 +0200
Processing by Devise::SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "account"=>{"email"=>"admin@email.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."email" = $1 ORDER BY "accounts"."id" ASC LIMIT $2[0m  [["email", "admin@email.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 4ms (ActiveRecord: 0.4ms | Allocations: 1774)


Started POST "/accounts/sign_in" for ::1 at 2022-05-11 14:42:19 +0200
Processing by Devise::SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "account"=>{"email"=>"admin@email.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."email" = $1 ORDER BY "accounts"."id" ASC LIMIT $2[0m  [["email", "admin@email.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 4ms (ActiveRecord: 0.2ms | Allocations: 1760)


Started POST "/accounts/sign_in" for ::1 at 2022-05-11 14:42:19 +0200
Processing by Devise::SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "account"=>{"email"=>"admin@email.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."email" = $1 ORDER BY "accounts"."id" ASC LIMIT $2[0m  [["email", "admin@email.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 3ms (ActiveRecord: 0.3ms | Allocations: 1762)


Started POST "/accounts/sign_in" for ::1 at 2022-05-11 14:42:19 +0200
Processing by Devise::SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "account"=>{"email"=>"admin@email.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."email" = $1 ORDER BY "accounts"."id" ASC LIMIT $2[0m  [["email", "admin@email.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 3ms (ActiveRecord: 0.3ms | Allocations: 1766)


Started GET "/accounts/" for ::1 at 2022-05-11 14:43:36 +0200
  
ActionController::RoutingError (No route matches [GET] "/accounts"):
  
Started GET "/rails/info/routes?path=account" for ::1 at 2022-05-11 14:43:44 +0200
Processing by Rails::InfoController#routes as */*
  Parameters: {"path"=>"account"}
Completed 200 OK in 2ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 2068)


Started GET "/rails/info/routes?path=accounts" for ::1 at 2022-05-11 14:43:45 +0200
Processing by Rails::InfoController#routes as */*
  Parameters: {"path"=>"accounts"}
Completed 200 OK in 2ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 1091)


Started GET "/accounts/sign_in" for ::1 at 2022-05-11 14:44:18 +0200
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/devise-4.8.1/app/views/devise/shared/_links.html.erb (Duration: 1.2ms | Allocations: 580)
  Rendered /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application (Duration: 4.7ms | Allocations: 2213)
  Rendered layout layouts/application.html.erb (Duration: 8.7ms | Allocations: 4900)
Completed 200 OK in 13ms (Views: 11.2ms | ActiveRecord: 0.0ms | Allocations: 6879)


Started POST "/accounts/sign_in" for ::1 at 2022-05-11 14:44:20 +0200
Processing by Devise::SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "account"=>{"email"=>"admin@email.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."email" = $1 ORDER BY "accounts"."id" ASC LIMIT $2[0m  [["email", "admin@email.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 3ms (ActiveRecord: 0.2ms | Allocations: 1768)


Started POST "/accounts/sign_in" for ::1 at 2022-05-11 14:49:17 +0200
Processing by Devise::SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "account"=>{"email"=>"admin@email.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."email" = $1 ORDER BY "accounts"."id" ASC LIMIT $2[0m  [["email", "admin@email.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 3ms (ActiveRecord: 0.2ms | Allocations: 1766)


Started POST "/accounts/sign_in" for ::1 at 2022-05-11 14:49:18 +0200
Processing by Devise::SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "account"=>{"email"=>"admin@email.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."email" = $1 ORDER BY "accounts"."id" ASC LIMIT $2[0m  [["email", "admin@email.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 3ms (ActiveRecord: 0.2ms | Allocations: 1766)


Started POST "/accounts/sign_in" for ::1 at 2022-05-11 14:49:18 +0200
Processing by Devise::SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "account"=>{"email"=>"admin@email.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."email" = $1 ORDER BY "accounts"."id" ASC LIMIT $2[0m  [["email", "admin@email.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 3ms (ActiveRecord: 0.2ms | Allocations: 1762)


Started POST "/accounts/sign_in" for ::1 at 2022-05-11 14:49:23 +0200
Processing by Devise::SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "account"=>{"email"=>"admin@email.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."email" = $1 ORDER BY "accounts"."id" ASC LIMIT $2[0m  [["email", "admin@email.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 3ms (ActiveRecord: 0.2ms | Allocations: 1780)


Started POST "/accounts/sign_in" for ::1 at 2022-05-11 14:49:24 +0200
Processing by Devise::SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "account"=>{"email"=>"admin@email.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."email" = $1 ORDER BY "accounts"."id" ASC LIMIT $2[0m  [["email", "admin@email.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 2ms (ActiveRecord: 0.1ms | Allocations: 1762)


Started POST "/accounts/sign_in" for ::1 at 2022-05-11 14:49:24 +0200
Processing by Devise::SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "account"=>{"email"=>"admin@email.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."email" = $1 ORDER BY "accounts"."id" ASC LIMIT $2[0m  [["email", "admin@email.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 3ms (ActiveRecord: 0.1ms | Allocations: 1766)


Started POST "/accounts/sign_in" for ::1 at 2022-05-11 14:49:24 +0200
Processing by Devise::SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "account"=>{"email"=>"admin@email.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."email" = $1 ORDER BY "accounts"."id" ASC LIMIT $2[0m  [["email", "admin@email.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 3ms (ActiveRecord: 0.1ms | Allocations: 1764)


Started POST "/accounts/sign_in" for ::1 at 2022-05-11 14:49:24 +0200
Processing by Devise::SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "account"=>{"email"=>"admin@email.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."email" = $1 ORDER BY "accounts"."id" ASC LIMIT $2[0m  [["email", "admin@email.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 3ms (ActiveRecord: 0.3ms | Allocations: 1776)


Started POST "/accounts/sign_in" for ::1 at 2022-05-11 14:49:40 +0200
Processing by Devise::SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "account"=>{"email"=>"popug1@popug.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."email" = $1 ORDER BY "accounts"."id" ASC LIMIT $2[0m  [["email", "popug1@popug.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 212ms (ActiveRecord: 0.2ms | Allocations: 2802)


Started GET "/" for ::1 at 2022-05-11 14:49:40 +0200
Processing by AccountsController#index as TURBO_STREAM
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 ORDER BY "accounts"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering accounts/index.html.erb within layouts/application
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/views/accounts/index.html.erb:20
  Rendered accounts/index.html.erb within layouts/application (Duration: 2.6ms | Allocations: 1451)
  Rendered layout layouts/application.html.erb (Duration: 5.3ms | Allocations: 3945)
Completed 200 OK in 13ms (Views: 6.4ms | ActiveRecord: 0.5ms | Allocations: 6474)


Started DELETE "/accounts/sign_out" for ::1 at 2022-05-11 14:49:53 +0200
Processing by Devise::SessionsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]"}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 ORDER BY "accounts"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 5ms (ActiveRecord: 0.2ms | Allocations: 2122)


Started GET "/" for ::1 at 2022-05-11 14:49:53 +0200
Processing by AccountsController#index as TURBO_STREAM
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms | Allocations: 681)


Started GET "/" for ::1 at 2022-05-11 14:49:55 +0200
Processing by AccountsController#index as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms | Allocations: 681)


Started GET "/accounts/sign_in" for ::1 at 2022-05-11 14:49:55 +0200
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/devise-4.8.1/app/views/devise/shared/_links.html.erb (Duration: 0.3ms | Allocations: 142)
  Rendered /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application (Duration: 2.0ms | Allocations: 1282)
  Rendered layout layouts/application.html.erb (Duration: 5.0ms | Allocations: 3688)
Completed 200 OK in 7ms (Views: 5.6ms | ActiveRecord: 0.0ms | Allocations: 4796)


Started POST "/accounts/sign_in" for ::1 at 2022-05-11 14:50:04 +0200
Processing by Devise::SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "account"=>{"email"=>"kunash123@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."email" = $1 ORDER BY "accounts"."id" ASC LIMIT $2[0m  [["email", "kunash123@gmail.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 208ms (ActiveRecord: 0.2ms | Allocations: 1836)


Started POST "/accounts/sign_in" for ::1 at 2022-05-11 14:50:09 +0200
Processing by Devise::SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "account"=>{"email"=>"kunash123@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."email" = $1 ORDER BY "accounts"."id" ASC LIMIT $2[0m  [["email", "kunash123@gmail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 210ms (ActiveRecord: 0.2ms | Allocations: 2587)


Started GET "/" for ::1 at 2022-05-11 14:50:09 +0200
Processing by AccountsController#index as TURBO_STREAM
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 ORDER BY "accounts"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering accounts/index.html.erb within layouts/application
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/views/accounts/index.html.erb:20
  Rendered accounts/index.html.erb within layouts/application (Duration: 1.7ms | Allocations: 1051)
  Rendered layout layouts/application.html.erb (Duration: 5.0ms | Allocations: 3453)
Completed 200 OK in 8ms (Views: 5.2ms | ActiveRecord: 0.3ms | Allocations: 5367)


Started DELETE "/accounts/sign_out" for ::1 at 2022-05-11 14:50:18 +0200
Processing by Devise::SessionsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]"}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 ORDER BY "accounts"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 4ms (ActiveRecord: 0.2ms | Allocations: 2116)


Started GET "/" for ::1 at 2022-05-11 14:50:19 +0200
Processing by AccountsController#index as TURBO_STREAM
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms | Allocations: 673)


Started GET "/" for ::1 at 2022-05-11 14:50:22 +0200
Processing by AccountsController#index as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms | Allocations: 677)


Started GET "/accounts/sign_in" for ::1 at 2022-05-11 14:50:22 +0200
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/devise-4.8.1/app/views/devise/shared/_links.html.erb (Duration: 0.5ms | Allocations: 142)
  Rendered /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application (Duration: 2.1ms | Allocations: 1282)
  Rendered layout layouts/application.html.erb (Duration: 5.1ms | Allocations: 3668)
Completed 200 OK in 7ms (Views: 5.6ms | ActiveRecord: 0.0ms | Allocations: 4768)


Started GET "/oauth/authorize?client_id=RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc&redirect_uri=http%3A%2F%2Flocalhost%3A3001%2Fauth%2Fkeepa%2Fcallback&response_type=code&scope=public_writes&state=14a035fd09bd838af45f3f96f1da776630250b307f8d0a0f" for ::1 at 2022-05-11 14:50:27 +0200
Processing by Doorkeeper::AuthorizationsController#new as HTML
  Parameters: {"client_id"=>"RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc", "redirect_uri"=>"http://localhost:3001/auth/keepa/callback", "response_type"=>"code", "scope"=>"public_writes", "state"=>"14a035fd09bd838af45f3f96f1da776630250b307f8d0a0f"}
Redirected to http://localhost:3000/accounts/sign_in
Filter chain halted as :authenticate_resource_owner! rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms | Allocations: 807)


Started GET "/accounts/sign_in" for ::1 at 2022-05-11 14:50:27 +0200
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/devise-4.8.1/app/views/devise/shared/_links.html.erb (Duration: 0.3ms | Allocations: 142)
  Rendered /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application (Duration: 2.6ms | Allocations: 1277)
  Rendered layout layouts/application.html.erb (Duration: 6.8ms | Allocations: 3663)
Completed 200 OK in 9ms (Views: 7.6ms | ActiveRecord: 0.0ms | Allocations: 4779)


Started GET "/accounts/sign_up" for ::1 at 2022-05-11 14:50:33 +0200
Processing by Devise::RegistrationsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/devise-4.8.1/app/views/devise/registrations/new.html.erb within layouts/application
  Rendered /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/devise-4.8.1/app/views/devise/shared/_error_messages.html.erb (Duration: 1.9ms | Allocations: 232)
  Rendered /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/devise-4.8.1/app/views/devise/shared/_links.html.erb (Duration: 0.5ms | Allocations: 95)
  Rendered /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/devise-4.8.1/app/views/devise/registrations/new.html.erb within layouts/application (Duration: 6.5ms | Allocations: 2025)
  Rendered layout layouts/application.html.erb (Duration: 11.0ms | Allocations: 4491)
Completed 200 OK in 19ms (Views: 17.3ms | ActiveRecord: 0.0ms | Allocations: 6115)


Started POST "/accounts" for ::1 at 2022-05-11 14:50:48 +0200
Processing by Devise::RegistrationsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "account"=>{"email"=>"popug2@popug.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "accounts" WHERE "accounts"."email" = $1 LIMIT $2[0m  [["email", "popug2@popug.com"], ["LIMIT", 1]]
  [1m[36mAccount Create (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("email", "encrypted_password", "full_name", "position", "active", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "role") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["email", "popug2@popug.com"], ["encrypted_password", "[FILTERED]"], ["full_name", nil], ["position", nil], ["active", true], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2022-05-11 12:50:48.618439"], ["updated_at", "2022-05-11 12:50:48.618439"], ["role", "employee"]]
  [1m[36mTRANSACTION (9.4ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/accounts/3
Completed 302 Found in 220ms (ActiveRecord: 10.5ms | Allocations: 5516)


Started GET "/accounts/3" for ::1 at 2022-05-11 14:50:48 +0200
  
ActionController::RoutingError (No route matches [GET] "/accounts/3"):
  
Started GET "/accounts/sign_up" for ::1 at 2022-05-11 14:50:48 +0200
Processing by Devise::RegistrationsController#new as HTML
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 ORDER BY "accounts"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Filter chain halted as :require_no_authentication rendered or redirected
Completed 302 Found in 4ms (ActiveRecord: 0.2ms | Allocations: 1817)


Started GET "/" for ::1 at 2022-05-11 14:50:48 +0200
Processing by AccountsController#index as HTML
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 ORDER BY "accounts"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering accounts/index.html.erb within layouts/application
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/views/accounts/index.html.erb:20
  Rendered accounts/index.html.erb within layouts/application (Duration: 1.9ms | Allocations: 1166)
  Rendered layout layouts/application.html.erb (Duration: 5.9ms | Allocations: 3588)
Completed 200 OK in 11ms (Views: 6.5ms | ActiveRecord: 0.6ms | Allocations: 5504)


Started GET "/" for ::1 at 2022-05-11 14:50:56 +0200
Processing by AccountsController#index as HTML
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 ORDER BY "accounts"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering accounts/index.html.erb within layouts/application
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/views/accounts/index.html.erb:20
  Rendered accounts/index.html.erb within layouts/application (Duration: 2.1ms | Allocations: 1166)
  Rendered layout layouts/application.html.erb (Duration: 5.9ms | Allocations: 3568)
Completed 200 OK in 10ms (Views: 6.1ms | ActiveRecord: 0.5ms | Allocations: 5473)


Started DELETE "/accounts/sign_out" for ::1 at 2022-05-11 14:51:47 +0200
Processing by Devise::SessionsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]"}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 ORDER BY "accounts"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 4ms (ActiveRecord: 0.2ms | Allocations: 2109)


Started GET "/" for ::1 at 2022-05-11 14:51:47 +0200
Processing by AccountsController#index as TURBO_STREAM
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms | Allocations: 675)


Started GET "/oauth/authorize?client_id=RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc&redirect_uri=http%3A%2F%2Flocalhost%3A3001%2Fauth%2Fkeepa%2Fcallback&response_type=code&scope=public_writes&state=703a56ef6e5f95cf41602f5d217d23360e2173ddbab1fdda" for ::1 at 2022-05-11 14:51:54 +0200
Processing by Doorkeeper::AuthorizationsController#new as HTML
  Parameters: {"client_id"=>"RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc", "redirect_uri"=>"http://localhost:3001/auth/keepa/callback", "response_type"=>"code", "scope"=>"public_writes", "state"=>"703a56ef6e5f95cf41602f5d217d23360e2173ddbab1fdda"}
Redirected to http://localhost:3000/accounts/sign_in
Filter chain halted as :authenticate_resource_owner! rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms | Allocations: 771)


Started GET "/accounts/sign_in" for ::1 at 2022-05-11 14:51:54 +0200
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/devise-4.8.1/app/views/devise/shared/_links.html.erb (Duration: 0.3ms | Allocations: 142)
  Rendered /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application (Duration: 1.9ms | Allocations: 1282)
  Rendered layout layouts/application.html.erb (Duration: 5.4ms | Allocations: 3688)
Completed 200 OK in 8ms (Views: 6.2ms | ActiveRecord: 0.0ms | Allocations: 4781)


Started POST "/accounts/sign_in" for ::1 at 2022-05-11 14:52:04 +0200
Processing by Devise::SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "account"=>{"email"=>"popug2@popug.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."email" = $1 ORDER BY "accounts"."id" ASC LIMIT $2[0m  [["email", "popug2@popug.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 209ms (ActiveRecord: 0.2ms | Allocations: 2585)


Started GET "/" for ::1 at 2022-05-11 14:52:04 +0200
Processing by AccountsController#index as TURBO_STREAM
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 ORDER BY "accounts"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering accounts/index.html.erb within layouts/application
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/views/accounts/index.html.erb:20
  Rendered accounts/index.html.erb within layouts/application (Duration: 2.0ms | Allocations: 1171)
  Rendered layout layouts/application.html.erb (Duration: 4.6ms | Allocations: 3579)
Completed 200 OK in 8ms (Views: 4.7ms | ActiveRecord: 0.6ms | Allocations: 5467)


Started GET "/accounts/sign_in" for ::1 at 2022-05-11 14:56:03 +0200
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Devise::SessionsController#new as HTML
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 ORDER BY "accounts"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Filter chain halted as :require_no_authentication rendered or redirected
Completed 302 Found in 24ms (ActiveRecord: 4.2ms | Allocations: 14615)


Started GET "/" for ::1 at 2022-05-11 14:56:03 +0200
Processing by AccountsController#index as HTML
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 ORDER BY "accounts"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering accounts/index.html.erb within layouts/application
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/views/accounts/index.html.erb:20
  Rendered accounts/index.html.erb within layouts/application (Duration: 3.5ms | Allocations: 1954)
  Rendered layout layouts/application.html.erb (Duration: 69.9ms | Allocations: 38098)
Completed 200 OK in 80ms (Views: 73.4ms | ActiveRecord: 0.5ms | Allocations: 42647)


Started DELETE "/accounts/sign_out" for ::1 at 2022-05-11 14:56:06 +0200
Processing by Devise::SessionsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]"}
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 ORDER BY "accounts"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 5ms (ActiveRecord: 0.3ms | Allocations: 3059)


Started GET "/" for ::1 at 2022-05-11 14:56:06 +0200
Processing by AccountsController#index as TURBO_STREAM
Completed 401 Unauthorized in 2ms (ActiveRecord: 0.0ms | Allocations: 747)


Started GET "/" for ::1 at 2022-05-11 14:56:08 +0200
Processing by AccountsController#index as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms | Allocations: 682)


Started GET "/accounts/sign_in" for ::1 at 2022-05-11 14:56:08 +0200
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/devise-4.8.1/app/views/devise/shared/_links.html.erb (Duration: 1.9ms | Allocations: 851)
  Rendered /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application (Duration: 14.9ms | Allocations: 5514)
  Rendered layout layouts/application.html.erb (Duration: 18.2ms | Allocations: 7973)
Completed 200 OK in 23ms (Views: 20.7ms | ActiveRecord: 0.0ms | Allocations: 10217)


Started GET "/oauth/authorize?client_id=RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc&redirect_uri=http%3A%2F%2Flocalhost%3A3001%2Fauth%2Fkeepa%2Fcallback&response_type=code&scope=public_writes&state=55d3f55478a3529482e73e41ad38a677f89b84fc21d422ee" for ::1 at 2022-05-11 14:56:15 +0200
Processing by Doorkeeper::AuthorizationsController#new as HTML
  Parameters: {"client_id"=>"RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc", "redirect_uri"=>"http://localhost:3001/auth/keepa/callback", "response_type"=>"code", "scope"=>"public_writes", "state"=>"55d3f55478a3529482e73e41ad38a677f89b84fc21d422ee"}
Redirected to http://localhost:3000/accounts/sign_in
Filter chain halted as :authenticate_resource_owner! rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.0ms | Allocations: 835)


Started GET "/accounts/sign_in" for ::1 at 2022-05-11 14:56:15 +0200
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/devise-4.8.1/app/views/devise/shared/_links.html.erb (Duration: 0.3ms | Allocations: 142)
  Rendered /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application (Duration: 21.0ms | Allocations: 1277)
  Rendered layout layouts/application.html.erb (Duration: 24.9ms | Allocations: 3664)
Completed 200 OK in 27ms (Views: 25.6ms | ActiveRecord: 0.0ms | Allocations: 4774)


Started POST "/accounts/sign_in" for ::1 at 2022-05-11 14:56:24 +0200
Processing by Devise::SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "account"=>{"email"=>"popug1@popug.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."email" = $1 ORDER BY "accounts"."id" ASC LIMIT $2[0m  [["email", "popug1@popug.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 225ms (ActiveRecord: 0.3ms | Allocations: 4684)


Started GET "/" for ::1 at 2022-05-11 14:56:24 +0200
Processing by AccountsController#index as TURBO_STREAM
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 ORDER BY "accounts"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering accounts/index.html.erb within layouts/application
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/views/accounts/index.html.erb:20
  Rendered accounts/index.html.erb within layouts/application (Duration: 1.9ms | Allocations: 1171)
  Rendered layout layouts/application.html.erb (Duration: 4.5ms | Allocations: 3594)
Completed 200 OK in 8ms (Views: 4.7ms | ActiveRecord: 0.6ms | Allocations: 5551)


Started POST "/accounts/sign_in" for ::1 at 2022-05-11 14:59:05 +0200
Processing by Devise::SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "account"=>{"email"=>"popug1@popug.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
Can't verify CSRF token authenticity.
Completed 422 Unprocessable Entity in 2ms (ActiveRecord: 0.0ms | Allocations: 1220)


  
ActionController::InvalidAuthenticityToken (Can't verify CSRF token authenticity.):
  
actionpack (7.0.2.4) lib/action_controller/metal/request_forgery_protection.rb:251:in `handle_unverified_request'
actionpack (7.0.2.4) lib/action_controller/metal/request_forgery_protection.rb:284:in `handle_unverified_request'
devise (4.8.1) lib/devise/controllers/helpers.rb:255:in `handle_unverified_request'
actionpack (7.0.2.4) lib/action_controller/metal/request_forgery_protection.rb:273:in `verify_authenticity_token'
activesupport (7.0.2.4) lib/active_support/callbacks.rb:400:in `block in make_lambda'
activesupport (7.0.2.4) lib/active_support/callbacks.rb:199:in `block (2 levels) in halting'
actionpack (7.0.2.4) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (7.0.2.4) lib/active_support/callbacks.rb:200:in `block in halting'
activesupport (7.0.2.4) lib/active_support/callbacks.rb:595:in `block in invoke_before'
activesupport (7.0.2.4) lib/active_support/callbacks.rb:595:in `each'
activesupport (7.0.2.4) lib/active_support/callbacks.rb:595:in `invoke_before'
activesupport (7.0.2.4) lib/active_support/callbacks.rb:106:in `run_callbacks'
actionpack (7.0.2.4) lib/abstract_controller/callbacks.rb:233:in `process_action'
actionpack (7.0.2.4) lib/action_controller/metal/rescue.rb:22:in `process_action'
actionpack (7.0.2.4) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'
activesupport (7.0.2.4) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.0.2.4) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (7.0.2.4) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.0.2.4) lib/action_controller/metal/instrumentation.rb:66:in `process_action'
actionpack (7.0.2.4) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.2.4) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.2.4) lib/abstract_controller/base.rb:151:in `process'
actionview (7.0.2.4) lib/action_view/rendering.rb:39:in `process'
actionpack (7.0.2.4) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.2.4) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.2.4) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.2.4) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.2.4) lib/action_dispatch/routing/mapper.rb:18:in `block in <class:Constraints>'
actionpack (7.0.2.4) lib/action_dispatch/routing/mapper.rb:48:in `serve'
actionpack (7.0.2.4) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.2.4) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.2.4) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.2.4) lib/action_dispatch/routing/route_set.rb:850:in `call'
warden (1.2.9) lib/warden/manager.rb:36:in `block in call'
warden (1.2.9) lib/warden/manager.rb:34:in `catch'
warden (1.2.9) lib/warden/manager.rb:34:in `call'
rack (2.2.3) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.2.3) lib/rack/etag.rb:27:in `call'
rack (2.2.3) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.3) lib/rack/head.rb:12:in `call'
actionpack (7.0.2.4) lib/action_dispatch/http/permissions_policy.rb:22:in `call'
actionpack (7.0.2.4) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.2.3) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.3) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.2.4) lib/action_dispatch/middleware/cookies.rb:693:in `call'
activerecord (7.0.2.4) lib/active_record/migration.rb:603:in `call'
actionpack (7.0.2.4) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.2.4) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.2.4) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.2.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.2.4) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.2.4) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
web-console (4.2.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `call'
actionpack (7.0.2.4) lib/action_dispatch/middleware/show_exceptions.rb:26:in `call'
railties (7.0.2.4) lib/rails/rack/logger.rb:36:in `call_app'
railties (7.0.2.4) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.2.4) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.2.4) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.2.4) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.2.4) lib/rails/rack/logger.rb:25:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (7.0.2.4) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.2.4) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.2.4) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.2.4) lib/action_dispatch/middleware/server_timing.rb:20:in `call'
actionpack (7.0.2.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.2.4) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.2.4) lib/action_dispatch/middleware/host_authorization.rb:137:in `call'
railties (7.0.2.4) lib/rails/engine.rb:530:in `call'
puma (5.6.4) lib/puma/configuration.rb:252:in `call'
puma (5.6.4) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.4) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.4) lib/puma/request.rb:76:in `handle_request'
puma (5.6.4) lib/puma/server.rb:441:in `process_client'
puma (5.6.4) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started GET "/accounts/sign_in" for ::1 at 2022-05-11 14:59:05 +0200
Processing by Devise::SessionsController#new as HTML
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 ORDER BY "accounts"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Filter chain halted as :require_no_authentication rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.2ms | Allocations: 1785)


Started GET "/" for ::1 at 2022-05-11 14:59:05 +0200
Processing by AccountsController#index as HTML
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 ORDER BY "accounts"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering accounts/index.html.erb within layouts/application
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/views/accounts/index.html.erb:20
  Rendered accounts/index.html.erb within layouts/application (Duration: 1.9ms | Allocations: 1166)
  Rendered layout layouts/application.html.erb (Duration: 5.1ms | Allocations: 3588)
Completed 200 OK in 8ms (Views: 5.4ms | ActiveRecord: 0.5ms | Allocations: 5479)


Started GET "/oauth/authorize?client_id=RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc&redirect_uri=http%3A%2F%2Flocalhost%3A3001%2Fauth%2Fkeepa%2Fcallback&response_type=code&scope=public_writes&state=e285e87649c55466194a7ead3246eb9b20c2c3125d3ae5fa" for ::1 at 2022-05-11 14:59:11 +0200
Processing by Doorkeeper::AuthorizationsController#new as HTML
  Parameters: {"client_id"=>"RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc", "redirect_uri"=>"http://localhost:3001/auth/keepa/callback", "response_type"=>"code", "scope"=>"public_writes", "state"=>"e285e87649c55466194a7ead3246eb9b20c2c3125d3ae5fa"}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ config/initializers/doorkeeper.rb:15:in `block (2 levels) in <main>'
  [1m[36mDoorkeeper::Application Load (0.4ms)[0m  [1m[34mSELECT "oauth_applications".* FROM "oauth_applications" WHERE "oauth_applications"."uid" = $1 LIMIT $2[0m  [["uid", "RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc"], ["LIMIT", 1]]
  [1m[36mCACHE Doorkeeper::Application Load (0.0ms)[0m  [1m[34mSELECT "oauth_applications".* FROM "oauth_applications" WHERE "oauth_applications"."uid" = $1 LIMIT $2[0m  [["uid", "RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDoorkeeper::AccessGrant Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "oauth_access_grants" WHERE "oauth_access_grants"."token" = $1 LIMIT $2[0m  [["token", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mDoorkeeper::AccessGrant Create (4.8ms)[0m  [1m[32mINSERT INTO "oauth_access_grants" ("resource_owner_id", "application_id", "token", "expires_in", "redirect_uri", "created_at", "revoked_at", "scopes") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["resource_owner_id", 2], ["application_id", 1], ["token", "[FILTERED]"], ["expires_in", 600], ["redirect_uri", "http://localhost:3001/auth/keepa/callback"], ["created_at", "2022-05-11 12:59:11.438835"], ["revoked_at", nil], ["scopes", "public_writes"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3001/auth/keepa/callback?code=3mYxXjTVFAMlzOoh_4UTHM33cQUbUxQlSonY_f7SPmg&state=e285e87649c55466194a7ead3246eb9b20c2c3125d3ae5fa
Completed 302 Found in 49ms (ActiveRecord: 11.2ms | Allocations: 24864)


Started POST "/oauth/token" for ::1 at 2022-05-11 14:59:11 +0200
Processing by Doorkeeper::TokensController#create as */*
  Parameters: {"client_id"=>"RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc", "client_secret"=>"[FILTERED]", "code"=>"[FILTERED]", "grant_type"=>"authorization_code", "redirect_uri"=>"http://localhost:3001/auth/keepa/callback?code=3mYxXjTVFAMlzOoh_4UTHM33cQUbUxQlSonY_f7SPmg&state=e285e87649c55466194a7ead3246eb9b20c2c3125d3ae5fa"}
  [1m[36mDoorkeeper::AccessGrant Load (0.2ms)[0m  [1m[34mSELECT "oauth_access_grants".* FROM "oauth_access_grants" WHERE "oauth_access_grants"."token" = $1 LIMIT $2[0m  [["token", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mDoorkeeper::Application Load (0.3ms)[0m  [1m[34mSELECT "oauth_applications".* FROM "oauth_applications" WHERE "oauth_applications"."uid" = $1 LIMIT $2[0m  [["uid", "RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDoorkeeper::AccessGrant Load (0.2ms)[0m  [1m[37mSELECT "oauth_access_grants".* FROM "oauth_access_grants" WHERE "oauth_access_grants"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 15], ["LIMIT", 1]]
  [1m[36mDoorkeeper::AccessGrant Update (0.3ms)[0m  [1m[33mUPDATE "oauth_access_grants" SET "revoked_at" = $1 WHERE "oauth_access_grants"."id" = $2[0m  [["revoked_at", "2022-05-11 12:59:11.497447"], ["id", 15]]
  [1m[36mDoorkeeper::Application Load (0.2ms)[0m  [1m[34mSELECT "oauth_applications".* FROM "oauth_applications" WHERE "oauth_applications"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Doorkeeper::Application Load (0.0ms)[0m  [1m[34mSELECT "oauth_applications".* FROM "oauth_applications" WHERE "oauth_applications"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDoorkeeper::AccessToken Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mDoorkeeper::AccessToken Create (1.2ms)[0m  [1m[32mINSERT INTO "oauth_access_tokens" ("resource_owner_id", "application_id", "token", "refresh_token", "expires_in", "revoked_at", "created_at", "scopes", "previous_refresh_token") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["resource_owner_id", 2], ["application_id", 1], ["token", "[FILTERED]"], ["refresh_token", "[FILTERED]"], ["expires_in", 7200], ["revoked_at", nil], ["created_at", "2022-05-11 12:59:11.518693"], ["scopes", "public_writes"], ["previous_refresh_token", "[FILTERED]"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 43ms (Views: 0.2ms | ActiveRecord: 5.9ms | Allocations: 25930)


Started GET "/accounts/current" for ::1 at 2022-05-11 14:59:11 +0200
Processing by AccountsController#current as */*
  [1m[36mDoorkeeper::AccessToken Load (0.3ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "[FILTERED]"], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `current_account'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:86:in `current_account'
Completed 200 OK in 5ms (Views: 0.7ms | ActiveRecord: 0.5ms | Allocations: 2259)


Started GET "/accounts/2/edit" for ::1 at 2022-05-12 08:41:55 +0200
  [1m[36mActiveRecord::SchemaMigration Pluck (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by AccountsController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:93:in `set_account'
  Rendering layout layouts/application.html.erb
  Rendering accounts/edit.html.erb within layouts/application
  Rendered accounts/_form.html.erb (Duration: 24.3ms | Allocations: 8761)
  Rendered accounts/edit.html.erb within layouts/application (Duration: 27.1ms | Allocations: 9518)
  Rendered layout layouts/application.html.erb (Duration: 231.9ms | Allocations: 109943)
Completed 200 OK in 272ms (Views: 238.2ms | ActiveRecord: 14.7ms | Allocations: 124572)


Started PATCH "/accounts/2" for ::1 at 2022-05-12 08:41:57 +0200
Processing by AccountsController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "account"=>{"full_name"=>"Popug1", "role"=>"employee"}, "commit"=>"Update Account", "id"=>"2"}
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:93:in `set_account'
Completed 500 Internal Server Error in 30025ms (ActiveRecord: 0.4ms | Allocations: 8574)


  
Kafka::DeliveryFailed (Could not connect to any of the seed brokers:
- kafka://192.168.1.67:9092: Operation timed out):
  
app/controllers/accounts_controller.rb:40:in `block in update'
app/controllers/accounts_controller.rb:26:in `update'
Started GET "/accounts/2/edit" for ::1 at 2022-05-12 08:52:44 +0200
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by AccountsController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:93:in `set_account'
  Rendering layout layouts/application.html.erb
  Rendering accounts/edit.html.erb within layouts/application
  Rendered accounts/_form.html.erb (Duration: 15.7ms | Allocations: 6528)
  Rendered accounts/edit.html.erb within layouts/application (Duration: 17.7ms | Allocations: 7178)
  Rendered layout layouts/application.html.erb (Duration: 66.0ms | Allocations: 43630)
Completed 200 OK in 90ms (Views: 70.1ms | ActiveRecord: 4.2ms | Allocations: 57058)


Started PATCH "/accounts/2" for ::1 at 2022-05-12 08:52:46 +0200
Processing by AccountsController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "account"=>{"full_name"=>"Popug1", "role"=>"employee"}, "commit"=>"Update Account", "id"=>"2"}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:93:in `set_account'
Redirected to http://localhost:3000/
Completed 302 Found in 1451ms (ActiveRecord: 0.2ms | Allocations: 6935)


Started GET "/" for ::1 at 2022-05-12 08:52:47 +0200
Processing by AccountsController#index as TURBO_STREAM
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 ORDER BY "accounts"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering accounts/index.html.erb within layouts/application
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/views/accounts/index.html.erb:20
  Rendered accounts/index.html.erb within layouts/application (Duration: 3.0ms | Allocations: 1569)
  Rendered layout layouts/application.html.erb (Duration: 6.3ms | Allocations: 3976)
Completed 200 OK in 15ms (Views: 6.6ms | ActiveRecord: 0.5ms | Allocations: 9361)


Started GET "/accounts/1/edit" for ::1 at 2022-05-12 08:56:16 +0200
Processing by AccountsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mAccount Load (0.9ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:93:in `set_account'
  Rendering layout layouts/application.html.erb
  Rendering accounts/edit.html.erb within layouts/application
  Rendered accounts/_form.html.erb (Duration: 2.0ms | Allocations: 1258)
  Rendered accounts/edit.html.erb within layouts/application (Duration: 2.4ms | Allocations: 1393)
  Rendered layout layouts/application.html.erb (Duration: 33.1ms | Allocations: 3806)
Completed 200 OK in 42ms (Views: 33.8ms | ActiveRecord: 0.9ms | Allocations: 4634)


Started PATCH "/accounts/1" for ::1 at 2022-05-12 08:56:21 +0200
Processing by AccountsController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "account"=>{"full_name"=>"Aleksandr", "role"=>"admin"}, "commit"=>"Update Account", "id"=>"1"}
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:93:in `set_account'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:29:in `block in update'
  [1m[36mAccount Update (0.5ms)[0m  [1m[33mUPDATE "accounts" SET "full_name" = $1, "updated_at" = $2 WHERE "accounts"."id" = $3[0m  [["full_name", "Aleksandr"], ["updated_at", "2022-05-12 06:56:21.788186"], ["id", 1]]
  ↳ app/controllers/accounts_controller.rb:29:in `block in update'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:29:in `block in update'
Redirected to http://localhost:3000/
Completed 302 Found in 20ms (ActiveRecord: 1.3ms | Allocations: 6151)


Started GET "/" for ::1 at 2022-05-12 08:56:21 +0200
Processing by AccountsController#index as TURBO_STREAM
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 ORDER BY "accounts"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering accounts/index.html.erb within layouts/application
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/views/accounts/index.html.erb:20
  Rendered accounts/index.html.erb within layouts/application (Duration: 2.1ms | Allocations: 1171)
  Rendered layout layouts/application.html.erb (Duration: 5.0ms | Allocations: 3578)
Completed 200 OK in 8ms (Views: 5.2ms | ActiveRecord: 0.5ms | Allocations: 5468)


Started GET "/accounts/3/edit" for ::1 at 2022-05-12 08:58:23 +0200
Processing by AccountsController#edit as HTML
  Parameters: {"id"=>"3"}
  [1m[36mAccount Load (1.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:93:in `set_account'
  Rendering layout layouts/application.html.erb
  Rendering accounts/edit.html.erb within layouts/application
  Rendered accounts/_form.html.erb (Duration: 2.3ms | Allocations: 1259)
  Rendered accounts/edit.html.erb within layouts/application (Duration: 2.7ms | Allocations: 1394)
  Rendered layout layouts/application.html.erb (Duration: 7.2ms | Allocations: 3793)
Completed 200 OK in 12ms (Views: 7.9ms | ActiveRecord: 1.5ms | Allocations: 4618)


Started GET "/accounts/3/edit" for ::1 at 2022-05-12 08:58:33 +0200
Processing by AccountsController#edit as HTML
  Parameters: {"id"=>"3"}
  [1m[36mAccount Load (1.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:93:in `set_account'
  Rendering layout layouts/application.html.erb
  Rendering accounts/edit.html.erb within layouts/application
  Rendered accounts/_form.html.erb (Duration: 2.1ms | Allocations: 1237)
  Rendered accounts/edit.html.erb within layouts/application (Duration: 2.5ms | Allocations: 1372)
  Rendered layout layouts/application.html.erb (Duration: 6.1ms | Allocations: 3770)
Completed 200 OK in 38ms (Views: 6.8ms | ActiveRecord: 1.3ms | Allocations: 4579)


Started PATCH "/accounts/3" for ::1 at 2022-05-12 08:58:41 +0200
Processing by AccountsController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "account"=>{"full_name"=>"Popug2", "role"=>"admin"}, "commit"=>"Update Account", "id"=>"3"}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:93:in `set_account'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:29:in `block in update'
  [1m[36mAccount Update (0.7ms)[0m  [1m[33mUPDATE "accounts" SET "full_name" = $1, "updated_at" = $2, "role" = $3 WHERE "accounts"."id" = $4[0m  [["full_name", "Popug2"], ["updated_at", "2022-05-12 06:58:41.610767"], ["role", "admin"], ["id", 3]]
  ↳ app/controllers/accounts_controller.rb:29:in `block in update'
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:29:in `block in update'
Redirected to http://localhost:3000/
Completed 302 Found in 34ms (ActiveRecord: 4.0ms | Allocations: 6347)


Started GET "/" for ::1 at 2022-05-12 08:58:41 +0200
Processing by AccountsController#index as TURBO_STREAM
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 ORDER BY "accounts"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering accounts/index.html.erb within layouts/application
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/views/accounts/index.html.erb:20
  Rendered accounts/index.html.erb within layouts/application (Duration: 2.2ms | Allocations: 1174)
  Rendered layout layouts/application.html.erb (Duration: 5.9ms | Allocations: 3580)
Completed 200 OK in 10ms (Views: 6.1ms | ActiveRecord: 0.5ms | Allocations: 5475)


Started GET "/accounts/1/edit" for ::1 at 2022-05-12 09:06:11 +0200
Processing by AccountsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:93:in `set_account'
  Rendering layout layouts/application.html.erb
  Rendering accounts/edit.html.erb within layouts/application
  Rendered accounts/_form.html.erb (Duration: 1.5ms | Allocations: 1262)
  Rendered accounts/edit.html.erb within layouts/application (Duration: 1.8ms | Allocations: 1397)
  Rendered layout layouts/application.html.erb (Duration: 7.1ms | Allocations: 3795)
Completed 200 OK in 55ms (Views: 7.7ms | ActiveRecord: 12.1ms | Allocations: 6967)


Started PATCH "/accounts/1" for ::1 at 2022-05-12 09:06:16 +0200
Processing by AccountsController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "account"=>{"full_name"=>"Aleksandr Korolev", "role"=>"admin"}, "commit"=>"Update Account", "id"=>"1"}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:93:in `set_account'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:29:in `block in update'
  [1m[36mAccount Update (1.0ms)[0m  [1m[33mUPDATE "accounts" SET "full_name" = $1, "updated_at" = $2 WHERE "accounts"."id" = $3[0m  [["full_name", "Aleksandr Korolev"], ["updated_at", "2022-05-12 07:06:16.111413"], ["id", 1]]
  ↳ app/controllers/accounts_controller.rb:29:in `block in update'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:29:in `block in update'
Redirected to http://localhost:3000/
Completed 302 Found in 20ms (ActiveRecord: 1.8ms | Allocations: 4873)


Started GET "/" for ::1 at 2022-05-12 09:06:16 +0200
Processing by AccountsController#index as TURBO_STREAM
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 ORDER BY "accounts"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering accounts/index.html.erb within layouts/application
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/views/accounts/index.html.erb:20
  Rendered accounts/index.html.erb within layouts/application (Duration: 2.5ms | Allocations: 1174)
  Rendered layout layouts/application.html.erb (Duration: 6.2ms | Allocations: 3580)
Completed 200 OK in 10ms (Views: 6.5ms | ActiveRecord: 0.4ms | Allocations: 5460)


Started GET "/accounts/2/edit" for ::1 at 2022-05-12 09:07:12 +0200
Processing by AccountsController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:95:in `set_account'
  Rendering layout layouts/application.html.erb
  Rendering accounts/edit.html.erb within layouts/application
  Rendered accounts/_form.html.erb (Duration: 1.9ms | Allocations: 1331)
  Rendered accounts/edit.html.erb within layouts/application (Duration: 2.2ms | Allocations: 1481)
  Rendered layout layouts/application.html.erb (Duration: 23.1ms | Allocations: 16267)
Completed 200 OK in 38ms (Views: 24.2ms | ActiveRecord: 6.0ms | Allocations: 21467)


Started PATCH "/accounts/2" for ::1 at 2022-05-12 09:07:16 +0200
Processing by AccountsController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "account"=>{"full_name"=>"Popug1", "role"=>"admin"}, "commit"=>"Update Account", "id"=>"2"}
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:95:in `set_account'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:29:in `block in update'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "updated_at" = $1, "role" = $2 WHERE "accounts"."id" = $3[0m  [["updated_at", "2022-05-12 07:07:16.471760"], ["role", "admin"], ["id", 2]]
  ↳ app/controllers/accounts_controller.rb:29:in `block in update'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:29:in `block in update'
Redirected to http://localhost:3000/
Completed 302 Found in 35ms (ActiveRecord: 1.2ms | Allocations: 7361)


Started GET "/" for ::1 at 2022-05-12 09:07:16 +0200
Processing by AccountsController#index as TURBO_STREAM
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 ORDER BY "accounts"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering accounts/index.html.erb within layouts/application
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/views/accounts/index.html.erb:20
  Rendered accounts/index.html.erb within layouts/application (Duration: 2.1ms | Allocations: 1194)
  Rendered layout layouts/application.html.erb (Duration: 6.2ms | Allocations: 3614)
Completed 200 OK in 16ms (Views: 6.8ms | ActiveRecord: 0.6ms | Allocations: 8643)


Started GET "/accounts/1/edit" for ::1 at 2022-05-12 09:07:24 +0200
Processing by AccountsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:95:in `set_account'
  Rendering layout layouts/application.html.erb
  Rendering accounts/edit.html.erb within layouts/application
  Rendered accounts/_form.html.erb (Duration: 2.6ms | Allocations: 1252)
  Rendered accounts/edit.html.erb within layouts/application (Duration: 3.1ms | Allocations: 1387)
  Rendered layout layouts/application.html.erb (Duration: 9.1ms | Allocations: 3785)
Completed 200 OK in 42ms (Views: 9.9ms | ActiveRecord: 0.4ms | Allocations: 4595)


Started PATCH "/accounts/1" for ::1 at 2022-05-12 09:07:28 +0200
Processing by AccountsController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "account"=>{"full_name"=>"Aleksandr Korolev", "role"=>"accounting_clerk"}, "commit"=>"Update Account", "id"=>"1"}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:95:in `set_account'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:29:in `block in update'
  [1m[36mAccount Update (0.8ms)[0m  [1m[33mUPDATE "accounts" SET "updated_at" = $1, "role" = $2 WHERE "accounts"."id" = $3[0m  [["updated_at", "2022-05-12 07:07:28.035873"], ["role", "accounting_clerk"], ["id", 1]]
  ↳ app/controllers/accounts_controller.rb:29:in `block in update'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:29:in `block in update'
Redirected to http://localhost:3000/
Completed 302 Found in 40ms (ActiveRecord: 1.4ms | Allocations: 7006)


Started GET "/" for ::1 at 2022-05-12 09:07:28 +0200
Processing by AccountsController#index as TURBO_STREAM
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 ORDER BY "accounts"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering accounts/index.html.erb within layouts/application
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/views/accounts/index.html.erb:20
  Rendered accounts/index.html.erb within layouts/application (Duration: 2.0ms | Allocations: 1174)
  Rendered layout layouts/application.html.erb (Duration: 5.6ms | Allocations: 3580)
Completed 200 OK in 9ms (Views: 5.8ms | ActiveRecord: 0.5ms | Allocations: 5479)


Started GET "/accounts/1/edit" for ::1 at 2022-05-12 09:07:35 +0200
Processing by AccountsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:95:in `set_account'
  Rendering layout layouts/application.html.erb
  Rendering accounts/edit.html.erb within layouts/application
  Rendered accounts/_form.html.erb (Duration: 1.6ms | Allocations: 1258)
  Rendered accounts/edit.html.erb within layouts/application (Duration: 2.0ms | Allocations: 1393)
  Rendered layout layouts/application.html.erb (Duration: 6.3ms | Allocations: 3791)
Completed 200 OK in 39ms (Views: 7.1ms | ActiveRecord: 0.5ms | Allocations: 4601)


Started PATCH "/accounts/1" for ::1 at 2022-05-12 09:07:38 +0200
Processing by AccountsController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "account"=>{"full_name"=>"Aleksandr Korolev", "role"=>"admin"}, "commit"=>"Update Account", "id"=>"1"}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:95:in `set_account'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:29:in `block in update'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "updated_at" = $1, "role" = $2 WHERE "accounts"."id" = $3[0m  [["updated_at", "2022-05-12 07:07:38.889071"], ["role", "admin"], ["id", 1]]
  ↳ app/controllers/accounts_controller.rb:29:in `block in update'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:29:in `block in update'
Redirected to http://localhost:3000/
Completed 302 Found in 48ms (ActiveRecord: 1.2ms | Allocations: 7008)


Started GET "/" for ::1 at 2022-05-12 09:07:38 +0200
Processing by AccountsController#index as TURBO_STREAM
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 ORDER BY "accounts"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering accounts/index.html.erb within layouts/application
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/views/accounts/index.html.erb:20
  Rendered accounts/index.html.erb within layouts/application (Duration: 2.4ms | Allocations: 1174)
  Rendered layout layouts/application.html.erb (Duration: 5.9ms | Allocations: 3600)
Completed 200 OK in 9ms (Views: 6.1ms | ActiveRecord: 0.4ms | Allocations: 5494)


Started GET "/accounts/3" for ::1 at 2022-05-12 09:09:35 +0200
  
ActionController::RoutingError (No route matches [GET] "/accounts/3"):
  
Started GET "/oauth/authorize?client_id=RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc&redirect_uri=http%3A%2F%2Flocalhost%3A3001%2Fauth%2Fkeepa%2Fcallback&response_type=code&scope=public_writes&state=44605f46b8ed1576d90741bb20068552e389b525b329f432" for ::1 at 2022-05-12 09:22:06 +0200
Processing by Doorkeeper::AuthorizationsController#new as HTML
  Parameters: {"client_id"=>"RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc", "redirect_uri"=>"http://localhost:3001/auth/keepa/callback", "response_type"=>"code", "scope"=>"public_writes", "state"=>"44605f46b8ed1576d90741bb20068552e389b525b329f432"}
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ config/initializers/doorkeeper.rb:15:in `block (2 levels) in <main>'
  [1m[36mDoorkeeper::Application Load (2.6ms)[0m  [1m[34mSELECT "oauth_applications".* FROM "oauth_applications" WHERE "oauth_applications"."uid" = $1 LIMIT $2[0m  [["uid", "RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc"], ["LIMIT", 1]]
  [1m[36mCACHE Doorkeeper::Application Load (0.0ms)[0m  [1m[34mSELECT "oauth_applications".* FROM "oauth_applications" WHERE "oauth_applications"."uid" = $1 LIMIT $2[0m  [["uid", "RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDoorkeeper::AccessGrant Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "oauth_access_grants" WHERE "oauth_access_grants"."token" = $1 LIMIT $2[0m  [["token", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mDoorkeeper::AccessGrant Create (1.6ms)[0m  [1m[32mINSERT INTO "oauth_access_grants" ("resource_owner_id", "application_id", "token", "expires_in", "redirect_uri", "created_at", "revoked_at", "scopes") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["resource_owner_id", 2], ["application_id", 1], ["token", "[FILTERED]"], ["expires_in", 600], ["redirect_uri", "http://localhost:3001/auth/keepa/callback"], ["created_at", "2022-05-12 07:22:06.238166"], ["revoked_at", nil], ["scopes", "public_writes"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3001/auth/keepa/callback?code=qFl8ZjoHKqrrl4hDmi1mN4zH_XRMrHxdIbfEiKYJGpY&state=44605f46b8ed1576d90741bb20068552e389b525b329f432
Completed 302 Found in 93ms (ActiveRecord: 20.4ms | Allocations: 26766)


Started POST "/oauth/token" for ::1 at 2022-05-12 09:22:06 +0200
Processing by Doorkeeper::TokensController#create as */*
  Parameters: {"client_id"=>"RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc", "client_secret"=>"[FILTERED]", "code"=>"[FILTERED]", "grant_type"=>"authorization_code", "redirect_uri"=>"http://localhost:3001/auth/keepa/callback?code=qFl8ZjoHKqrrl4hDmi1mN4zH_XRMrHxdIbfEiKYJGpY&state=44605f46b8ed1576d90741bb20068552e389b525b329f432"}
  [1m[36mDoorkeeper::AccessGrant Load (0.2ms)[0m  [1m[34mSELECT "oauth_access_grants".* FROM "oauth_access_grants" WHERE "oauth_access_grants"."token" = $1 LIMIT $2[0m  [["token", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mDoorkeeper::Application Load (0.3ms)[0m  [1m[34mSELECT "oauth_applications".* FROM "oauth_applications" WHERE "oauth_applications"."uid" = $1 LIMIT $2[0m  [["uid", "RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDoorkeeper::AccessGrant Load (0.2ms)[0m  [1m[37mSELECT "oauth_access_grants".* FROM "oauth_access_grants" WHERE "oauth_access_grants"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 16], ["LIMIT", 1]]
  [1m[36mDoorkeeper::AccessGrant Update (0.3ms)[0m  [1m[33mUPDATE "oauth_access_grants" SET "revoked_at" = $1 WHERE "oauth_access_grants"."id" = $2[0m  [["revoked_at", "2022-05-12 07:22:06.297041"], ["id", 16]]
  [1m[36mDoorkeeper::Application Load (0.2ms)[0m  [1m[34mSELECT "oauth_applications".* FROM "oauth_applications" WHERE "oauth_applications"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Doorkeeper::Application Load (0.0ms)[0m  [1m[34mSELECT "oauth_applications".* FROM "oauth_applications" WHERE "oauth_applications"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDoorkeeper::AccessToken Exists? (2.2ms)[0m  [1m[34mSELECT 1 AS one FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mDoorkeeper::AccessToken Create (0.6ms)[0m  [1m[32mINSERT INTO "oauth_access_tokens" ("resource_owner_id", "application_id", "token", "refresh_token", "expires_in", "revoked_at", "created_at", "scopes", "previous_refresh_token") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["resource_owner_id", 2], ["application_id", 1], ["token", "[FILTERED]"], ["refresh_token", "[FILTERED]"], ["expires_in", 7200], ["revoked_at", nil], ["created_at", "2022-05-12 07:22:06.337346"], ["scopes", "public_writes"], ["previous_refresh_token", "[FILTERED]"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 68ms (Views: 0.2ms | ActiveRecord: 11.8ms | Allocations: 28282)


Started GET "/accounts/current" for ::1 at 2022-05-12 09:22:06 +0200
Processing by AccountsController#current as */*
  [1m[36mDoorkeeper::AccessToken Load (0.2ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "[FILTERED]"], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:87:in `current_account'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:88:in `current_account'
Completed 200 OK in 6ms (Views: 0.5ms | ActiveRecord: 0.4ms | Allocations: 1715)


Started GET "/" for ::1 at 2022-05-12 09:22:45 +0200
Processing by AccountsController#index as HTML
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 ORDER BY "accounts"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering accounts/index.html.erb within layouts/application
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/views/accounts/index.html.erb:20
  Rendered accounts/index.html.erb within layouts/application (Duration: 3.2ms | Allocations: 1172)
  Rendered layout layouts/application.html.erb (Duration: 8.7ms | Allocations: 3586)
Completed 200 OK in 41ms (Views: 8.9ms | ActiveRecord: 0.8ms | Allocations: 5471)


Started GET "/" for ::1 at 2022-05-12 09:22:47 +0200
Processing by AccountsController#index as HTML
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 ORDER BY "accounts"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering accounts/index.html.erb within layouts/application
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/views/accounts/index.html.erb:20
  Rendered accounts/index.html.erb within layouts/application (Duration: 2.3ms | Allocations: 1172)
  Rendered layout layouts/application.html.erb (Duration: 5.7ms | Allocations: 3590)
Completed 200 OK in 10ms (Views: 6.0ms | ActiveRecord: 0.5ms | Allocations: 5445)


Started GET "/oauth/authorize?client_id=RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc&redirect_uri=http%3A%2F%2Flocalhost%3A3002%2Fauth%2Fkeepa%2Fcallback&response_type=code&scope=public_writes&state=2e35d7dfd5e2ead8abb82859f0bbd7fc5eee09078f424803" for ::1 at 2022-05-19 10:26:23 +0200
  [1m[36mActiveRecord::SchemaMigration Pluck (2.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Doorkeeper::AuthorizationsController#new as HTML
  Parameters: {"client_id"=>"RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc", "redirect_uri"=>"http://localhost:3002/auth/keepa/callback", "response_type"=>"code", "scope"=>"public_writes", "state"=>"2e35d7dfd5e2ead8abb82859f0bbd7fc5eee09078f424803"}
  [1m[36mAccount Load (4.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ config/initializers/doorkeeper.rb:15:in `block (2 levels) in <main>'
  [1m[36mDoorkeeper::Application Load (1.9ms)[0m  [1m[34mSELECT "oauth_applications".* FROM "oauth_applications" WHERE "oauth_applications"."uid" = $1 LIMIT $2[0m  [["uid", "RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc"], ["LIMIT", 1]]
  Rendering layout /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/doorkeeper-5.5.4/app/views/layouts/doorkeeper/application.html.erb
  Rendering /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/doorkeeper-5.5.4/app/views/doorkeeper/authorizations/error.html.erb within layouts/doorkeeper/application
  Rendered /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/doorkeeper-5.5.4/app/views/doorkeeper/authorizations/error.html.erb within layouts/doorkeeper/application (Duration: 15.8ms | Allocations: 5167)
  Rendered layout /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/doorkeeper-5.5.4/app/views/layouts/doorkeeper/application.html.erb (Duration: 88.6ms | Allocations: 30279)
Completed 200 OK in 173ms (Views: 96.3ms | ActiveRecord: 51.1ms | Allocations: 52098)


Started GET "/" for ::1 at 2022-05-19 10:26:32 +0200
Processing by AccountsController#index as HTML
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 ORDER BY "accounts"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering accounts/index.html.erb within layouts/application
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/views/accounts/index.html.erb:20
  Rendered accounts/index.html.erb within layouts/application (Duration: 4.1ms | Allocations: 1695)
  Rendered layout layouts/application.html.erb (Duration: 32.5ms | Allocations: 16886)
Completed 200 OK in 43ms (Views: 33.5ms | ActiveRecord: 0.8ms | Allocations: 22990)


Started GET "/doorkeeper/applications" for ::1 at 2022-05-19 10:26:48 +0200
  
ActionController::RoutingError (No route matches [GET] "/doorkeeper/applications"):
  
Started GET "/rails/info/routes?path=applica" for ::1 at 2022-05-19 10:26:53 +0200
Processing by Rails::InfoController#routes as */*
  Parameters: {"path"=>"applica"}
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 2159)


Started GET "//oauth/applications" for ::1 at 2022-05-19 10:26:59 +0200
Processing by Doorkeeper::ApplicationsController#index as HTML
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 ORDER BY "accounts"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ config/initializers/doorkeeper.rb:30:in `block (2 levels) in <main>'
  Rendering layout /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/doorkeeper-5.5.4/app/views/layouts/doorkeeper/admin.html.erb
  Rendering /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/doorkeeper-5.5.4/app/views/doorkeeper/applications/index.html.erb within layouts/doorkeeper/admin
  [1m[36mDoorkeeper::Application Load (4.5ms)[0m  [1m[34mSELECT "oauth_applications".* FROM "oauth_applications" ORDER BY "oauth_applications"."created_at" ASC[0m
  Rendered /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/doorkeeper-5.5.4/app/views/doorkeeper/applications/_delete_form.html.erb (Duration: 1.1ms | Allocations: 556)
  Rendered /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/doorkeeper-5.5.4/app/views/doorkeeper/applications/index.html.erb within layouts/doorkeeper/admin (Duration: 9.7ms | Allocations: 2659)
  Rendered layout /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/doorkeeper-5.5.4/app/views/layouts/doorkeeper/admin.html.erb (Duration: 12.5ms | Allocations: 4675)
Completed 200 OK in 18ms (Views: 9.8ms | ActiveRecord: 4.8ms | Allocations: 7239)


Started GET "/oauth/applications/new" for ::1 at 2022-05-19 10:27:00 +0200
Processing by Doorkeeper::ApplicationsController#new as HTML
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 ORDER BY "accounts"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ config/initializers/doorkeeper.rb:30:in `block (2 levels) in <main>'
  Rendering layout /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/doorkeeper-5.5.4/app/views/layouts/doorkeeper/admin.html.erb
  Rendering /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/doorkeeper-5.5.4/app/views/doorkeeper/applications/new.html.erb within layouts/doorkeeper/admin
  Rendered /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/doorkeeper-5.5.4/app/views/doorkeeper/applications/_form.html.erb (Duration: 14.0ms | Allocations: 4381)
  Rendered /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/doorkeeper-5.5.4/app/views/doorkeeper/applications/new.html.erb within layouts/doorkeeper/admin (Duration: 15.4ms | Allocations: 4710)
  Rendered layout /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/doorkeeper-5.5.4/app/views/layouts/doorkeeper/admin.html.erb (Duration: 17.7ms | Allocations: 6211)
Completed 200 OK in 21ms (Views: 18.2ms | ActiveRecord: 0.3ms | Allocations: 7998)


Started GET "/oauth/applications/new" for ::1 at 2022-05-19 10:27:12 +0200
Processing by Doorkeeper::ApplicationsController#new as HTML
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 ORDER BY "accounts"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ config/initializers/doorkeeper.rb:30:in `block (2 levels) in <main>'
  Rendering layout /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/doorkeeper-5.5.4/app/views/layouts/doorkeeper/admin.html.erb
  Rendering /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/doorkeeper-5.5.4/app/views/doorkeeper/applications/new.html.erb within layouts/doorkeeper/admin
  Rendered /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/doorkeeper-5.5.4/app/views/doorkeeper/applications/_form.html.erb (Duration: 1.9ms | Allocations: 1515)
  Rendered /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/doorkeeper-5.5.4/app/views/doorkeeper/applications/new.html.erb within layouts/doorkeeper/admin (Duration: 2.1ms | Allocations: 1610)
  Rendered layout /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/doorkeeper-5.5.4/app/views/layouts/doorkeeper/admin.html.erb (Duration: 4.5ms | Allocations: 3109)
Completed 200 OK in 8ms (Views: 5.0ms | ActiveRecord: 0.3ms | Allocations: 4780)


Started POST "/oauth/applications" for ::1 at 2022-05-19 10:27:19 +0200
Processing by Doorkeeper::ApplicationsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "doorkeeper_application"=>{"name"=>"ACC", "redirect_uri"=>"http://localhost:3002/auth/keepa/callback", "confidential"=>"1", "scopes"=>""}, "commit"=>"Submit"}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 ORDER BY "accounts"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ config/initializers/doorkeeper.rb:30:in `block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDoorkeeper::Application Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "oauth_applications" WHERE "oauth_applications"."uid" = $1 LIMIT $2[0m  [["uid", "c7N5hF3EI1-ML-dZd7ML9RCzICD7yqsP2dfZWgw1jCk"], ["LIMIT", 1]]
  [1m[36mDoorkeeper::Application Create (8.5ms)[0m  [1m[32mINSERT INTO "oauth_applications" ("name", "uid", "secret", "redirect_uri", "scopes", "confidential", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "ACC"], ["uid", "c7N5hF3EI1-ML-dZd7ML9RCzICD7yqsP2dfZWgw1jCk"], ["secret", "[FILTERED]"], ["redirect_uri", "http://localhost:3002/auth/keepa/callback"], ["scopes", ""], ["confidential", true], ["created_at", "2022-05-19 08:27:19.872764"], ["updated_at", "2022-05-19 08:27:19.872764"]]
  [1m[36mTRANSACTION (3.2ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/oauth/applications/2
Completed 302 Found in 23ms (ActiveRecord: 12.2ms | Allocations: 7125)


Started GET "/oauth/applications/2" for ::1 at 2022-05-19 10:27:19 +0200
Processing by Doorkeeper::ApplicationsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 ORDER BY "accounts"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ config/initializers/doorkeeper.rb:30:in `block (2 levels) in <main>'
  [1m[36mDoorkeeper::Application Load (0.3ms)[0m  [1m[34mSELECT "oauth_applications".* FROM "oauth_applications" WHERE "oauth_applications"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/doorkeeper-5.5.4/app/views/layouts/doorkeeper/admin.html.erb
  Rendering /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/doorkeeper-5.5.4/app/views/doorkeeper/applications/show.html.erb within layouts/doorkeeper/admin
  Rendered /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/doorkeeper-5.5.4/app/views/doorkeeper/applications/_delete_form.html.erb (Duration: 1.8ms | Allocations: 499)
  Rendered /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/doorkeeper-5.5.4/app/views/doorkeeper/applications/show.html.erb within layouts/doorkeeper/admin (Duration: 4.2ms | Allocations: 1793)
  Rendered layout /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/doorkeeper-5.5.4/app/views/layouts/doorkeeper/admin.html.erb (Duration: 6.7ms | Allocations: 3277)
Completed 200 OK in 13ms (Views: 7.5ms | ActiveRecord: 0.5ms | Allocations: 6372)


Started GET "/oauth/applications/2/edit" for ::1 at 2022-05-19 10:28:16 +0200
Processing by Doorkeeper::ApplicationsController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 ORDER BY "accounts"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ config/initializers/doorkeeper.rb:30:in `block (2 levels) in <main>'
  [1m[36mDoorkeeper::Application Load (0.2ms)[0m  [1m[34mSELECT "oauth_applications".* FROM "oauth_applications" WHERE "oauth_applications"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/doorkeeper-5.5.4/app/views/layouts/doorkeeper/admin.html.erb
  Rendering /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/doorkeeper-5.5.4/app/views/doorkeeper/applications/edit.html.erb within layouts/doorkeeper/admin
  Rendered /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/doorkeeper-5.5.4/app/views/doorkeeper/applications/_form.html.erb (Duration: 2.1ms | Allocations: 1582)
  Rendered /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/doorkeeper-5.5.4/app/views/doorkeeper/applications/edit.html.erb within layouts/doorkeeper/admin (Duration: 3.6ms | Allocations: 1829)
  Rendered layout /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/doorkeeper-5.5.4/app/views/layouts/doorkeeper/admin.html.erb (Duration: 6.2ms | Allocations: 3339)
Completed 200 OK in 12ms (Views: 6.9ms | ActiveRecord: 0.5ms | Allocations: 5842)


Started PATCH "/oauth/applications/2" for ::1 at 2022-05-19 10:28:18 +0200
Processing by Doorkeeper::ApplicationsController#update as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "doorkeeper_application"=>{"name"=>"ACC", "redirect_uri"=>"http://localhost:3002/auth/keepa/callback", "confidential"=>"1", "scopes"=>"public_writes"}, "commit"=>"Submit", "id"=>"2"}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 ORDER BY "accounts"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ config/initializers/doorkeeper.rb:30:in `block (2 levels) in <main>'
  [1m[36mDoorkeeper::Application Load (0.2ms)[0m  [1m[34mSELECT "oauth_applications".* FROM "oauth_applications" WHERE "oauth_applications"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDoorkeeper::Application Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "oauth_applications" WHERE "oauth_applications"."uid" = $1 AND "oauth_applications"."id" != $2 LIMIT $3[0m  [["uid", "c7N5hF3EI1-ML-dZd7ML9RCzICD7yqsP2dfZWgw1jCk"], ["id", 2], ["LIMIT", 1]]
  [1m[36mDoorkeeper::Application Update (6.8ms)[0m  [1m[33mUPDATE "oauth_applications" SET "scopes" = $1, "updated_at" = $2 WHERE "oauth_applications"."id" = $3[0m  [["scopes", "public_writes"], ["updated_at", "2022-05-19 08:28:18.570039"], ["id", 2]]
  [1m[36mTRANSACTION (4.7ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/oauth/applications/2
Completed 302 Found in 23ms (ActiveRecord: 12.2ms | Allocations: 6456)


Started GET "/oauth/applications/2" for ::1 at 2022-05-19 10:28:18 +0200
Processing by Doorkeeper::ApplicationsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 ORDER BY "accounts"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ config/initializers/doorkeeper.rb:30:in `block (2 levels) in <main>'
  [1m[36mDoorkeeper::Application Load (0.2ms)[0m  [1m[34mSELECT "oauth_applications".* FROM "oauth_applications" WHERE "oauth_applications"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/doorkeeper-5.5.4/app/views/layouts/doorkeeper/admin.html.erb
  Rendering /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/doorkeeper-5.5.4/app/views/doorkeeper/applications/show.html.erb within layouts/doorkeeper/admin
  Rendered /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/doorkeeper-5.5.4/app/views/doorkeeper/applications/_delete_form.html.erb (Duration: 0.6ms | Allocations: 329)
  Rendered /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/doorkeeper-5.5.4/app/views/doorkeeper/applications/show.html.erb within layouts/doorkeeper/admin (Duration: 1.5ms | Allocations: 770)
  Rendered layout /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/doorkeeper-5.5.4/app/views/layouts/doorkeeper/admin.html.erb (Duration: 3.2ms | Allocations: 2261)
Completed 200 OK in 8ms (Views: 3.6ms | ActiveRecord: 0.4ms | Allocations: 4742)


Started GET "/oauth/authorize?client_id=c7N5hF3EI1-ML-dZd7ML9RCzICD7yqsP2dfZWgw1jCk&redirect_uri=http%3A%2F%2Flocalhost%3A3002%2Fauth%2Fkeepa%2Fcallback&response_type=code&scope=public_writes&state=acb21fbf59f8f81d5215a889373a750e39b2bfb24ebfe759" for ::1 at 2022-05-19 10:28:37 +0200
Processing by Doorkeeper::AuthorizationsController#new as HTML
  Parameters: {"client_id"=>"c7N5hF3EI1-ML-dZd7ML9RCzICD7yqsP2dfZWgw1jCk", "redirect_uri"=>"http://localhost:3002/auth/keepa/callback", "response_type"=>"code", "scope"=>"public_writes", "state"=>"acb21fbf59f8f81d5215a889373a750e39b2bfb24ebfe759"}
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ config/initializers/doorkeeper.rb:15:in `block (2 levels) in <main>'
  [1m[36mDoorkeeper::Application Load (0.2ms)[0m  [1m[34mSELECT "oauth_applications".* FROM "oauth_applications" WHERE "oauth_applications"."uid" = $1 LIMIT $2[0m  [["uid", "c7N5hF3EI1-ML-dZd7ML9RCzICD7yqsP2dfZWgw1jCk"], ["LIMIT", 1]]
  [1m[36mCACHE Doorkeeper::Application Load (0.0ms)[0m  [1m[34mSELECT "oauth_applications".* FROM "oauth_applications" WHERE "oauth_applications"."uid" = $1 LIMIT $2[0m  [["uid", "c7N5hF3EI1-ML-dZd7ML9RCzICD7yqsP2dfZWgw1jCk"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDoorkeeper::AccessGrant Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "oauth_access_grants" WHERE "oauth_access_grants"."token" = $1 LIMIT $2[0m  [["token", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mDoorkeeper::AccessGrant Create (6.3ms)[0m  [1m[32mINSERT INTO "oauth_access_grants" ("resource_owner_id", "application_id", "token", "expires_in", "redirect_uri", "created_at", "revoked_at", "scopes") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["resource_owner_id", 2], ["application_id", 2], ["token", "[FILTERED]"], ["expires_in", 600], ["redirect_uri", "http://localhost:3002/auth/keepa/callback"], ["created_at", "2022-05-19 08:28:37.749077"], ["revoked_at", nil], ["scopes", "public_writes"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3002/auth/keepa/callback?code=i0O06j41PXqoLhmeaB4TjH5tXX1s_91t1r7pCE-o8IY&state=acb21fbf59f8f81d5215a889373a750e39b2bfb24ebfe759
Completed 302 Found in 58ms (ActiveRecord: 10.5ms | Allocations: 20898)


Started POST "/oauth/token" for ::1 at 2022-05-19 10:28:37 +0200
Processing by Doorkeeper::TokensController#create as */*
  Parameters: {"client_id"=>"c7N5hF3EI1-ML-dZd7ML9RCzICD7yqsP2dfZWgw1jCk", "client_secret"=>"[FILTERED]", "code"=>"[FILTERED]", "grant_type"=>"authorization_code", "redirect_uri"=>"http://localhost:3002/auth/keepa/callback?code=i0O06j41PXqoLhmeaB4TjH5tXX1s_91t1r7pCE-o8IY&state=acb21fbf59f8f81d5215a889373a750e39b2bfb24ebfe759"}
  [1m[36mDoorkeeper::AccessGrant Load (0.2ms)[0m  [1m[34mSELECT "oauth_access_grants".* FROM "oauth_access_grants" WHERE "oauth_access_grants"."token" = $1 LIMIT $2[0m  [["token", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mDoorkeeper::Application Load (0.2ms)[0m  [1m[34mSELECT "oauth_applications".* FROM "oauth_applications" WHERE "oauth_applications"."uid" = $1 LIMIT $2[0m  [["uid", "c7N5hF3EI1-ML-dZd7ML9RCzICD7yqsP2dfZWgw1jCk"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDoorkeeper::AccessGrant Load (0.2ms)[0m  [1m[37mSELECT "oauth_access_grants".* FROM "oauth_access_grants" WHERE "oauth_access_grants"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 17], ["LIMIT", 1]]
  [1m[36mDoorkeeper::AccessGrant Update (0.3ms)[0m  [1m[33mUPDATE "oauth_access_grants" SET "revoked_at" = $1 WHERE "oauth_access_grants"."id" = $2[0m  [["revoked_at", "2022-05-19 08:28:37.859112"], ["id", 17]]
  [1m[36mDoorkeeper::Application Load (0.2ms)[0m  [1m[34mSELECT "oauth_applications".* FROM "oauth_applications" WHERE "oauth_applications"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE Doorkeeper::Application Load (0.0ms)[0m  [1m[34mSELECT "oauth_applications".* FROM "oauth_applications" WHERE "oauth_applications"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mDoorkeeper::AccessToken Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mDoorkeeper::AccessToken Create (1.9ms)[0m  [1m[32mINSERT INTO "oauth_access_tokens" ("resource_owner_id", "application_id", "token", "refresh_token", "expires_in", "revoked_at", "created_at", "scopes", "previous_refresh_token") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["resource_owner_id", 2], ["application_id", 2], ["token", "[FILTERED]"], ["refresh_token", "[FILTERED]"], ["expires_in", 7200], ["revoked_at", nil], ["created_at", "2022-05-19 08:28:37.888669"], ["scopes", "public_writes"], ["previous_refresh_token", "[FILTERED]"]]
  [1m[36mTRANSACTION (7.3ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 60ms (Views: 0.2ms | ActiveRecord: 19.3ms | Allocations: 25378)


Started GET "/accounts/current" for ::1 at 2022-05-19 10:28:37 +0200
Processing by AccountsController#current as */*
  [1m[36mDoorkeeper::AccessToken Load (0.2ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "[FILTERED]"], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:87:in `current_account'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:88:in `current_account'
Completed 200 OK in 5ms (Views: 0.5ms | ActiveRecord: 0.5ms | Allocations: 2251)


Started GET "/oauth/authorize?client_id=c7N5hF3EI1-ML-dZd7ML9RCzICD7yqsP2dfZWgw1jCk&redirect_uri=http%3A%2F%2Flocalhost%3A3002%2Fauth%2Fkeepa%2Fcallback&response_type=code&scope=public_writes&state=cd46f7a0e9abb121c1a2733f4893e9f59bf10f088ee6edaa" for ::1 at 2022-05-19 10:44:38 +0200
  [1m[36mActiveRecord::SchemaMigration Pluck (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Doorkeeper::AuthorizationsController#new as HTML
  Parameters: {"client_id"=>"c7N5hF3EI1-ML-dZd7ML9RCzICD7yqsP2dfZWgw1jCk", "redirect_uri"=>"http://localhost:3002/auth/keepa/callback", "response_type"=>"code", "scope"=>"public_writes", "state"=>"cd46f7a0e9abb121c1a2733f4893e9f59bf10f088ee6edaa"}
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ config/initializers/doorkeeper.rb:15:in `block (2 levels) in <main>'
  [1m[36mDoorkeeper::Application Load (0.4ms)[0m  [1m[34mSELECT "oauth_applications".* FROM "oauth_applications" WHERE "oauth_applications"."uid" = $1 LIMIT $2[0m  [["uid", "c7N5hF3EI1-ML-dZd7ML9RCzICD7yqsP2dfZWgw1jCk"], ["LIMIT", 1]]
  [1m[36mCACHE Doorkeeper::Application Load (0.0ms)[0m  [1m[34mSELECT "oauth_applications".* FROM "oauth_applications" WHERE "oauth_applications"."uid" = $1 LIMIT $2[0m  [["uid", "c7N5hF3EI1-ML-dZd7ML9RCzICD7yqsP2dfZWgw1jCk"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDoorkeeper::AccessGrant Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "oauth_access_grants" WHERE "oauth_access_grants"."token" = $1 LIMIT $2[0m  [["token", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mDoorkeeper::AccessGrant Create (1.2ms)[0m  [1m[32mINSERT INTO "oauth_access_grants" ("resource_owner_id", "application_id", "token", "expires_in", "redirect_uri", "created_at", "revoked_at", "scopes") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["resource_owner_id", 2], ["application_id", 2], ["token", "[FILTERED]"], ["expires_in", 600], ["redirect_uri", "http://localhost:3002/auth/keepa/callback"], ["created_at", "2022-05-19 08:44:38.176825"], ["revoked_at", nil], ["scopes", "public_writes"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3002/auth/keepa/callback?code=thcMa_NDpqS3o2o8D6o8sYpMxi8ezYpQn83CntLgegw&state=cd46f7a0e9abb121c1a2733f4893e9f59bf10f088ee6edaa
Completed 302 Found in 69ms (ActiveRecord: 11.7ms | Allocations: 34785)


Started POST "/oauth/token" for ::1 at 2022-05-19 10:44:38 +0200
Processing by Doorkeeper::TokensController#create as */*
  Parameters: {"client_id"=>"c7N5hF3EI1-ML-dZd7ML9RCzICD7yqsP2dfZWgw1jCk", "client_secret"=>"[FILTERED]", "code"=>"[FILTERED]", "grant_type"=>"authorization_code", "redirect_uri"=>"http://localhost:3002/auth/keepa/callback?code=thcMa_NDpqS3o2o8D6o8sYpMxi8ezYpQn83CntLgegw&state=cd46f7a0e9abb121c1a2733f4893e9f59bf10f088ee6edaa"}
  [1m[36mDoorkeeper::AccessGrant Load (0.4ms)[0m  [1m[34mSELECT "oauth_access_grants".* FROM "oauth_access_grants" WHERE "oauth_access_grants"."token" = $1 LIMIT $2[0m  [["token", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mDoorkeeper::Application Load (0.2ms)[0m  [1m[34mSELECT "oauth_applications".* FROM "oauth_applications" WHERE "oauth_applications"."uid" = $1 LIMIT $2[0m  [["uid", "c7N5hF3EI1-ML-dZd7ML9RCzICD7yqsP2dfZWgw1jCk"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDoorkeeper::AccessGrant Load (0.2ms)[0m  [1m[37mSELECT "oauth_access_grants".* FROM "oauth_access_grants" WHERE "oauth_access_grants"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 18], ["LIMIT", 1]]
  [1m[36mDoorkeeper::AccessGrant Update (0.3ms)[0m  [1m[33mUPDATE "oauth_access_grants" SET "revoked_at" = $1 WHERE "oauth_access_grants"."id" = $2[0m  [["revoked_at", "2022-05-19 08:44:38.238517"], ["id", 18]]
  [1m[36mDoorkeeper::Application Load (0.2ms)[0m  [1m[34mSELECT "oauth_applications".* FROM "oauth_applications" WHERE "oauth_applications"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE Doorkeeper::Application Load (0.0ms)[0m  [1m[34mSELECT "oauth_applications".* FROM "oauth_applications" WHERE "oauth_applications"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mDoorkeeper::AccessToken Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mDoorkeeper::AccessToken Create (1.0ms)[0m  [1m[32mINSERT INTO "oauth_access_tokens" ("resource_owner_id", "application_id", "token", "refresh_token", "expires_in", "revoked_at", "created_at", "scopes", "previous_refresh_token") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["resource_owner_id", 2], ["application_id", 2], ["token", "[FILTERED]"], ["refresh_token", "[FILTERED]"], ["expires_in", 7200], ["revoked_at", nil], ["created_at", "2022-05-19 08:44:38.264366"], ["scopes", "public_writes"], ["previous_refresh_token", "[FILTERED]"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 50ms (Views: 0.2ms | ActiveRecord: 6.2ms | Allocations: 25992)


Started GET "/accounts/current" for ::1 at 2022-05-19 10:44:38 +0200
Processing by AccountsController#current as */*
  [1m[36mDoorkeeper::AccessToken Load (0.2ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "[FILTERED]"], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:87:in `current_account'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:88:in `current_account'
Completed 200 OK in 5ms (Views: 0.6ms | ActiveRecord: 0.4ms | Allocations: 2429)


Started GET "/oauth/authorize?client_id=RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc&redirect_uri=http%3A%2F%2Flocalhost%3A3001%2Fauth%2Fkeepa%2Fcallback&response_type=code&scope=public_writes&state=eb81cdb9b91192aa34bc170973a7fccdbad7e3070bf12714" for ::1 at 2022-05-19 11:45:49 +0200
Processing by Doorkeeper::AuthorizationsController#new as HTML
  Parameters: {"client_id"=>"RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc", "redirect_uri"=>"http://localhost:3001/auth/keepa/callback", "response_type"=>"code", "scope"=>"public_writes", "state"=>"eb81cdb9b91192aa34bc170973a7fccdbad7e3070bf12714"}
  [1m[36mAccount Load (0.8ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ config/initializers/doorkeeper.rb:15:in `block (2 levels) in <main>'
  [1m[36mDoorkeeper::Application Load (0.6ms)[0m  [1m[34mSELECT "oauth_applications".* FROM "oauth_applications" WHERE "oauth_applications"."uid" = $1 LIMIT $2[0m  [["uid", "RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc"], ["LIMIT", 1]]
  [1m[36mCACHE Doorkeeper::Application Load (0.0ms)[0m  [1m[34mSELECT "oauth_applications".* FROM "oauth_applications" WHERE "oauth_applications"."uid" = $1 LIMIT $2[0m  [["uid", "RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDoorkeeper::AccessGrant Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "oauth_access_grants" WHERE "oauth_access_grants"."token" = $1 LIMIT $2[0m  [["token", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mDoorkeeper::AccessGrant Create (1.3ms)[0m  [1m[32mINSERT INTO "oauth_access_grants" ("resource_owner_id", "application_id", "token", "expires_in", "redirect_uri", "created_at", "revoked_at", "scopes") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["resource_owner_id", 2], ["application_id", 1], ["token", "[FILTERED]"], ["expires_in", 600], ["redirect_uri", "http://localhost:3001/auth/keepa/callback"], ["created_at", "2022-05-19 09:45:49.978717"], ["revoked_at", nil], ["scopes", "public_writes"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3001/auth/keepa/callback?code=hOBgdm0xoirD0OXzoGRpezSyscH8ibVta7r1y06EJEI&state=eb81cdb9b91192aa34bc170973a7fccdbad7e3070bf12714
Completed 302 Found in 45ms (ActiveRecord: 14.2ms | Allocations: 10515)


Started POST "/oauth/token" for ::1 at 2022-05-19 11:45:50 +0200
Processing by Doorkeeper::TokensController#create as */*
  Parameters: {"client_id"=>"RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc", "client_secret"=>"[FILTERED]", "code"=>"[FILTERED]", "grant_type"=>"authorization_code", "redirect_uri"=>"http://localhost:3001/auth/keepa/callback?code=hOBgdm0xoirD0OXzoGRpezSyscH8ibVta7r1y06EJEI&state=eb81cdb9b91192aa34bc170973a7fccdbad7e3070bf12714"}
  [1m[36mDoorkeeper::AccessGrant Load (32.3ms)[0m  [1m[34mSELECT "oauth_access_grants".* FROM "oauth_access_grants" WHERE "oauth_access_grants"."token" = $1 LIMIT $2[0m  [["token", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mDoorkeeper::Application Load (52.5ms)[0m  [1m[34mSELECT "oauth_applications".* FROM "oauth_applications" WHERE "oauth_applications"."uid" = $1 LIMIT $2[0m  [["uid", "RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDoorkeeper::AccessGrant Load (65.4ms)[0m  [1m[37mSELECT "oauth_access_grants".* FROM "oauth_access_grants" WHERE "oauth_access_grants"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 19], ["LIMIT", 1]]
  [1m[36mDoorkeeper::AccessGrant Update (10.9ms)[0m  [1m[33mUPDATE "oauth_access_grants" SET "revoked_at" = $1 WHERE "oauth_access_grants"."id" = $2[0m  [["revoked_at", "2022-05-19 09:45:50.216275"], ["id", 19]]
  [1m[36mDoorkeeper::Application Load (0.2ms)[0m  [1m[34mSELECT "oauth_applications".* FROM "oauth_applications" WHERE "oauth_applications"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Doorkeeper::Application Load (0.0ms)[0m  [1m[34mSELECT "oauth_applications".* FROM "oauth_applications" WHERE "oauth_applications"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDoorkeeper::AccessToken Exists? (6.6ms)[0m  [1m[34mSELECT 1 AS one FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mDoorkeeper::AccessToken Create (0.6ms)[0m  [1m[32mINSERT INTO "oauth_access_tokens" ("resource_owner_id", "application_id", "token", "refresh_token", "expires_in", "revoked_at", "created_at", "scopes", "previous_refresh_token") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["resource_owner_id", 2], ["application_id", 1], ["token", "[FILTERED]"], ["refresh_token", "[FILTERED]"], ["expires_in", 7200], ["revoked_at", nil], ["created_at", "2022-05-19 09:45:50.234208"], ["scopes", "public_writes"], ["previous_refresh_token", "[FILTERED]"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 197ms (Views: 0.2ms | ActiveRecord: 168.9ms | Allocations: 10345)


Started GET "/accounts/current" for ::1 at 2022-05-19 11:45:50 +0200
Processing by AccountsController#current as */*
  [1m[36mDoorkeeper::AccessToken Load (0.3ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "[FILTERED]"], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:87:in `current_account'
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:88:in `current_account'
Completed 200 OK in 5ms (Views: 0.8ms | ActiveRecord: 0.7ms | Allocations: 1326)


Started GET "/oauth/applications" for ::1 at 2022-05-19 11:59:36 +0200
Processing by Doorkeeper::ApplicationsController#index as HTML
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 ORDER BY "accounts"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ config/initializers/doorkeeper.rb:30:in `block (2 levels) in <main>'
  Rendering layout /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/doorkeeper-5.5.4/app/views/layouts/doorkeeper/admin.html.erb
  Rendering /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/doorkeeper-5.5.4/app/views/doorkeeper/applications/index.html.erb within layouts/doorkeeper/admin
  [1m[36mDoorkeeper::Application Load (4.6ms)[0m  [1m[34mSELECT "oauth_applications".* FROM "oauth_applications" ORDER BY "oauth_applications"."created_at" ASC[0m
  Rendered /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/doorkeeper-5.5.4/app/views/doorkeeper/applications/_delete_form.html.erb (Duration: 2.9ms | Allocations: 616)
  Rendered /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/doorkeeper-5.5.4/app/views/doorkeeper/applications/_delete_form.html.erb (Duration: 0.6ms | Allocations: 315)
  Rendered /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/doorkeeper-5.5.4/app/views/doorkeeper/applications/index.html.erb within layouts/doorkeeper/admin (Duration: 29.8ms | Allocations: 6186)
  Rendered layout /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/doorkeeper-5.5.4/app/views/layouts/doorkeeper/admin.html.erb (Duration: 92.9ms | Allocations: 29208)
Completed 200 OK in 135ms (Views: 96.1ms | ActiveRecord: 13.1ms | Allocations: 36016)


Started GET "/" for ::1 at 2022-05-19 11:59:44 +0200
Processing by AccountsController#index as HTML
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 ORDER BY "accounts"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering accounts/index.html.erb within layouts/application
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/views/accounts/index.html.erb:20
  Rendered accounts/index.html.erb within layouts/application (Duration: 5.2ms | Allocations: 1617)
  Rendered layout layouts/application.html.erb (Duration: 30.6ms | Allocations: 16755)
Completed 200 OK in 42ms (Views: 32.2ms | ActiveRecord: 0.5ms | Allocations: 22437)


Started GET "/accounts/2/edit" for ::1 at 2022-05-19 11:59:47 +0200
Processing by AccountsController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:95:in `set_account'
  Rendering layout layouts/application.html.erb
  Rendering accounts/edit.html.erb within layouts/application
  Rendered accounts/_form.html.erb (Duration: 12.9ms | Allocations: 3794)
  Rendered accounts/edit.html.erb within layouts/application (Duration: 14.1ms | Allocations: 4155)
  Rendered layout layouts/application.html.erb (Duration: 19.1ms | Allocations: 6554)
Completed 200 OK in 23ms (Views: 19.7ms | ActiveRecord: 0.4ms | Allocations: 7431)


Started PATCH "/accounts/2" for ::1 at 2022-05-19 11:59:51 +0200
Processing by AccountsController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "account"=>{"full_name"=>"Popug1", "role"=>"employee"}, "commit"=>"Update Account", "id"=>"2"}
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:95:in `set_account'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:29:in `block in update'
  [1m[36mAccount Update (1.1ms)[0m  [1m[33mUPDATE "accounts" SET "updated_at" = $1, "role" = $2 WHERE "accounts"."id" = $3[0m  [["updated_at", "2022-05-19 09:59:51.553123"], ["role", "employee"], ["id", 2]]
  ↳ app/controllers/accounts_controller.rb:29:in `block in update'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:29:in `block in update'
Redirected to http://localhost:3000/
Completed 302 Found in 47ms (ActiveRecord: 2.0ms | Allocations: 8214)


Started GET "/" for ::1 at 2022-05-19 11:59:51 +0200
Processing by AccountsController#index as TURBO_STREAM
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 ORDER BY "accounts"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering accounts/index.html.erb within layouts/application
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/views/accounts/index.html.erb:20
  Rendered accounts/index.html.erb within layouts/application (Duration: 3.4ms | Allocations: 1175)
  Rendered layout layouts/application.html.erb (Duration: 7.8ms | Allocations: 3582)
Completed 200 OK in 12ms (Views: 8.0ms | ActiveRecord: 0.7ms | Allocations: 5576)


Started GET "/accounts/2/edit" for ::1 at 2022-05-19 12:01:22 +0200
Processing by AccountsController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mAccount Load (0.9ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:95:in `set_account'
  Rendering layout layouts/application.html.erb
  Rendering accounts/edit.html.erb within layouts/application
  Rendered accounts/_form.html.erb (Duration: 1.7ms | Allocations: 1305)
  Rendered accounts/edit.html.erb within layouts/application (Duration: 2.0ms | Allocations: 1440)
  Rendered layout layouts/application.html.erb (Duration: 6.2ms | Allocations: 3838)
Completed 200 OK in 10ms (Views: 6.8ms | ActiveRecord: 0.9ms | Allocations: 4649)


Started PATCH "/accounts/2" for ::1 at 2022-05-19 12:01:26 +0200
Processing by AccountsController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "account"=>{"full_name"=>"Popug1", "role"=>"admin"}, "commit"=>"Update Account", "id"=>"2"}
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:95:in `set_account'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:29:in `block in update'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "updated_at" = $1, "role" = $2 WHERE "accounts"."id" = $3[0m  [["updated_at", "2022-05-19 10:01:26.808946"], ["role", "admin"], ["id", 2]]
  ↳ app/controllers/accounts_controller.rb:29:in `block in update'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:29:in `block in update'
Redirected to http://localhost:3000/
Completed 302 Found in 29ms (ActiveRecord: 1.3ms | Allocations: 7056)


Started GET "/" for ::1 at 2022-05-19 12:01:26 +0200
Processing by AccountsController#index as TURBO_STREAM
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 ORDER BY "accounts"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering accounts/index.html.erb within layouts/application
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/views/accounts/index.html.erb:20
  Rendered accounts/index.html.erb within layouts/application (Duration: 2.4ms | Allocations: 1174)
  Rendered layout layouts/application.html.erb (Duration: 6.8ms | Allocations: 3580)
Completed 200 OK in 12ms (Views: 7.1ms | ActiveRecord: 0.5ms | Allocations: 5534)


Started GET "/oauth/authorize?client_id=RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc&redirect_uri=http%3A%2F%2Flocalhost%3A3001%2Fauth%2Fkeepa%2Fcallback&response_type=code&scope=public_writes&state=988a687ce058804d7b83b0902a8dfba6d6a5313e9a5545cd" for ::1 at 2022-05-19 12:02:56 +0200
Processing by Doorkeeper::AuthorizationsController#new as HTML
  Parameters: {"client_id"=>"RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc", "redirect_uri"=>"http://localhost:3001/auth/keepa/callback", "response_type"=>"code", "scope"=>"public_writes", "state"=>"988a687ce058804d7b83b0902a8dfba6d6a5313e9a5545cd"}
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ config/initializers/doorkeeper.rb:15:in `block (2 levels) in <main>'
  [1m[36mDoorkeeper::Application Load (0.2ms)[0m  [1m[34mSELECT "oauth_applications".* FROM "oauth_applications" WHERE "oauth_applications"."uid" = $1 LIMIT $2[0m  [["uid", "RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc"], ["LIMIT", 1]]
  [1m[36mCACHE Doorkeeper::Application Load (0.0ms)[0m  [1m[34mSELECT "oauth_applications".* FROM "oauth_applications" WHERE "oauth_applications"."uid" = $1 LIMIT $2[0m  [["uid", "RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDoorkeeper::AccessGrant Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "oauth_access_grants" WHERE "oauth_access_grants"."token" = $1 LIMIT $2[0m  [["token", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mDoorkeeper::AccessGrant Create (0.6ms)[0m  [1m[32mINSERT INTO "oauth_access_grants" ("resource_owner_id", "application_id", "token", "expires_in", "redirect_uri", "created_at", "revoked_at", "scopes") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["resource_owner_id", 2], ["application_id", 1], ["token", "[FILTERED]"], ["expires_in", 600], ["redirect_uri", "http://localhost:3001/auth/keepa/callback"], ["created_at", "2022-05-19 10:02:56.617885"], ["revoked_at", nil], ["scopes", "public_writes"]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3001/auth/keepa/callback?code=CmOc8vZoti47NaTIkMW5IAtL_yKWL9QxHQ_wOYEJCCA&state=988a687ce058804d7b83b0902a8dfba6d6a5313e9a5545cd
Completed 302 Found in 24ms (ActiveRecord: 3.5ms | Allocations: 8125)


Started POST "/oauth/token" for ::1 at 2022-05-19 12:02:56 +0200
Processing by Doorkeeper::TokensController#create as */*
  Parameters: {"client_id"=>"RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc", "client_secret"=>"[FILTERED]", "code"=>"[FILTERED]", "grant_type"=>"authorization_code", "redirect_uri"=>"http://localhost:3001/auth/keepa/callback?code=CmOc8vZoti47NaTIkMW5IAtL_yKWL9QxHQ_wOYEJCCA&state=988a687ce058804d7b83b0902a8dfba6d6a5313e9a5545cd"}
  [1m[36mDoorkeeper::AccessGrant Load (0.3ms)[0m  [1m[34mSELECT "oauth_access_grants".* FROM "oauth_access_grants" WHERE "oauth_access_grants"."token" = $1 LIMIT $2[0m  [["token", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mDoorkeeper::Application Load (0.4ms)[0m  [1m[34mSELECT "oauth_applications".* FROM "oauth_applications" WHERE "oauth_applications"."uid" = $1 LIMIT $2[0m  [["uid", "RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDoorkeeper::AccessGrant Load (0.3ms)[0m  [1m[37mSELECT "oauth_access_grants".* FROM "oauth_access_grants" WHERE "oauth_access_grants"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 20], ["LIMIT", 1]]
  [1m[36mDoorkeeper::AccessGrant Update (0.3ms)[0m  [1m[33mUPDATE "oauth_access_grants" SET "revoked_at" = $1 WHERE "oauth_access_grants"."id" = $2[0m  [["revoked_at", "2022-05-19 10:02:56.667045"], ["id", 20]]
  [1m[36mDoorkeeper::Application Load (0.2ms)[0m  [1m[34mSELECT "oauth_applications".* FROM "oauth_applications" WHERE "oauth_applications"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Doorkeeper::Application Load (0.0ms)[0m  [1m[34mSELECT "oauth_applications".* FROM "oauth_applications" WHERE "oauth_applications"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDoorkeeper::AccessToken Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mDoorkeeper::AccessToken Create (0.5ms)[0m  [1m[32mINSERT INTO "oauth_access_tokens" ("resource_owner_id", "application_id", "token", "refresh_token", "expires_in", "revoked_at", "created_at", "scopes", "previous_refresh_token") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["resource_owner_id", 2], ["application_id", 1], ["token", "[FILTERED]"], ["refresh_token", "[FILTERED]"], ["expires_in", 7200], ["revoked_at", nil], ["created_at", "2022-05-19 10:02:56.673060"], ["scopes", "public_writes"], ["previous_refresh_token", "[FILTERED]"]]
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 43ms (Views: 0.3ms | ActiveRecord: 4.5ms | Allocations: 10318)


Started GET "/accounts/current" for ::1 at 2022-05-19 12:02:56 +0200
Processing by AccountsController#current as */*
  [1m[36mDoorkeeper::AccessToken Load (0.3ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "[FILTERED]"], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:87:in `current_account'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:88:in `current_account'
Completed 200 OK in 9ms (Views: 0.4ms | ActiveRecord: 0.5ms | Allocations: 1310)


Started DELETE "/accounts/sign_out" for ::1 at 2022-05-19 12:03:01 +0200
Processing by Devise::SessionsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]"}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 ORDER BY "accounts"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 13ms (ActiveRecord: 0.2ms | Allocations: 2801)


Started GET "/" for ::1 at 2022-05-19 12:03:01 +0200
Processing by AccountsController#index as TURBO_STREAM
Completed 401 Unauthorized in 3ms (ActiveRecord: 0.0ms | Allocations: 774)


Started DELETE "/accounts/sign_out" for ::1 at 2022-05-19 12:03:08 +0200
Processing by Devise::SessionsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]"}
Redirected to http://localhost:3000/
Filter chain halted as :verify_signed_out_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms | Allocations: 836)


Started GET "/" for ::1 at 2022-05-19 12:03:08 +0200
Processing by AccountsController#index as TURBO_STREAM
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms | Allocations: 712)


Started GET "/" for ::1 at 2022-05-19 12:03:09 +0200
Processing by AccountsController#index as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms | Allocations: 706)


Started GET "/accounts/sign_in" for ::1 at 2022-05-19 12:03:09 +0200
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/devise-4.8.1/app/views/devise/shared/_links.html.erb (Duration: 2.3ms | Allocations: 853)
  Rendered /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application (Duration: 12.6ms | Allocations: 3776)
  Rendered layout layouts/application.html.erb (Duration: 16.8ms | Allocations: 6258)
Completed 200 OK in 25ms (Views: 19.2ms | ActiveRecord: 0.0ms | Allocations: 8491)


Started GET "/oauth/authorize?client_id=RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc&redirect_uri=http%3A%2F%2Flocalhost%3A3001%2Fauth%2Fkeepa%2Fcallback&response_type=code&scope=public_writes&state=25c8b33c1574a624cff2f1a02720798f1631771ec9aced02" for ::1 at 2022-05-19 12:03:19 +0200
Processing by Doorkeeper::AuthorizationsController#new as HTML
  Parameters: {"client_id"=>"RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc", "redirect_uri"=>"http://localhost:3001/auth/keepa/callback", "response_type"=>"code", "scope"=>"public_writes", "state"=>"25c8b33c1574a624cff2f1a02720798f1631771ec9aced02"}
Redirected to http://localhost:3000/accounts/sign_in
Filter chain halted as :authenticate_resource_owner! rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms | Allocations: 845)


Started GET "/accounts/sign_in" for ::1 at 2022-05-19 12:03:19 +0200
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/devise-4.8.1/app/views/devise/shared/_links.html.erb (Duration: 0.2ms | Allocations: 142)
  Rendered /Users/aleksandrkorolev/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/devise-4.8.1/app/views/devise/sessions/new.html.erb within layouts/application (Duration: 2.4ms | Allocations: 1277)
  Rendered layout layouts/application.html.erb (Duration: 5.3ms | Allocations: 3667)
Completed 200 OK in 7ms (Views: 5.8ms | ActiveRecord: 0.0ms | Allocations: 4822)


Started POST "/accounts/sign_in" for ::1 at 2022-05-19 12:03:24 +0200
Processing by Devise::SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "account"=>{"email"=>"kunash123@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mAccount Load (3.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."email" = $1 ORDER BY "accounts"."id" ASC LIMIT $2[0m  [["email", "kunash123@gmail.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 233ms (ActiveRecord: 3.5ms | Allocations: 3016)


Started POST "/accounts/sign_in" for ::1 at 2022-05-19 12:03:29 +0200
Processing by Devise::SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "account"=>{"email"=>"kunash123@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."email" = $1 ORDER BY "accounts"."id" ASC LIMIT $2[0m  [["email", "kunash123@gmail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 217ms (ActiveRecord: 0.3ms | Allocations: 3575)


Started GET "/" for ::1 at 2022-05-19 12:03:29 +0200
Processing by AccountsController#index as TURBO_STREAM
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 ORDER BY "accounts"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering accounts/index.html.erb within layouts/application
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/views/accounts/index.html.erb:20
  Rendered accounts/index.html.erb within layouts/application (Duration: 2.1ms | Allocations: 1177)
  Rendered layout layouts/application.html.erb (Duration: 4.5ms | Allocations: 3600)
Completed 200 OK in 8ms (Views: 4.7ms | ActiveRecord: 0.7ms | Allocations: 5540)


Started GET "/oauth/authorize?client_id=RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc&redirect_uri=http%3A%2F%2Flocalhost%3A3001%2Fauth%2Fkeepa%2Fcallback&response_type=code&scope=public_writes&state=f82b07f664a2d96f2c8e4843ae3c6d0af4d2dcf733589c27" for ::1 at 2022-05-19 12:03:40 +0200
Processing by Doorkeeper::AuthorizationsController#new as HTML
  Parameters: {"client_id"=>"RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc", "redirect_uri"=>"http://localhost:3001/auth/keepa/callback", "response_type"=>"code", "scope"=>"public_writes", "state"=>"f82b07f664a2d96f2c8e4843ae3c6d0af4d2dcf733589c27"}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ config/initializers/doorkeeper.rb:15:in `block (2 levels) in <main>'
  [1m[36mDoorkeeper::Application Load (0.3ms)[0m  [1m[34mSELECT "oauth_applications".* FROM "oauth_applications" WHERE "oauth_applications"."uid" = $1 LIMIT $2[0m  [["uid", "RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc"], ["LIMIT", 1]]
  [1m[36mCACHE Doorkeeper::Application Load (0.0ms)[0m  [1m[34mSELECT "oauth_applications".* FROM "oauth_applications" WHERE "oauth_applications"."uid" = $1 LIMIT $2[0m  [["uid", "RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDoorkeeper::AccessGrant Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "oauth_access_grants" WHERE "oauth_access_grants"."token" = $1 LIMIT $2[0m  [["token", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mDoorkeeper::AccessGrant Create (0.5ms)[0m  [1m[32mINSERT INTO "oauth_access_grants" ("resource_owner_id", "application_id", "token", "expires_in", "redirect_uri", "created_at", "revoked_at", "scopes") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["resource_owner_id", 1], ["application_id", 1], ["token", "[FILTERED]"], ["expires_in", 600], ["redirect_uri", "http://localhost:3001/auth/keepa/callback"], ["created_at", "2022-05-19 10:03:40.181031"], ["revoked_at", nil], ["scopes", "public_writes"]]
  [1m[36mTRANSACTION (5.5ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3001/auth/keepa/callback?code=xcKeKSmYlaApKSSg7WheLLdQLLhnWDQNws0CYDoXdmU&state=f82b07f664a2d96f2c8e4843ae3c6d0af4d2dcf733589c27
Completed 302 Found in 18ms (ActiveRecord: 7.1ms | Allocations: 8118)


Started POST "/oauth/token" for ::1 at 2022-05-19 12:03:40 +0200
Processing by Doorkeeper::TokensController#create as */*
  Parameters: {"client_id"=>"RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc", "client_secret"=>"[FILTERED]", "code"=>"[FILTERED]", "grant_type"=>"authorization_code", "redirect_uri"=>"http://localhost:3001/auth/keepa/callback?code=xcKeKSmYlaApKSSg7WheLLdQLLhnWDQNws0CYDoXdmU&state=f82b07f664a2d96f2c8e4843ae3c6d0af4d2dcf733589c27"}
  [1m[36mDoorkeeper::AccessGrant Load (0.5ms)[0m  [1m[34mSELECT "oauth_access_grants".* FROM "oauth_access_grants" WHERE "oauth_access_grants"."token" = $1 LIMIT $2[0m  [["token", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mDoorkeeper::Application Load (0.2ms)[0m  [1m[34mSELECT "oauth_applications".* FROM "oauth_applications" WHERE "oauth_applications"."uid" = $1 LIMIT $2[0m  [["uid", "RvQNo-uyWePnkLWJd0-vX2quVIQfnBBMyAoNOBZX2uc"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDoorkeeper::AccessGrant Load (0.3ms)[0m  [1m[37mSELECT "oauth_access_grants".* FROM "oauth_access_grants" WHERE "oauth_access_grants"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 21], ["LIMIT", 1]]
  [1m[36mDoorkeeper::AccessGrant Update (0.5ms)[0m  [1m[33mUPDATE "oauth_access_grants" SET "revoked_at" = $1 WHERE "oauth_access_grants"."id" = $2[0m  [["revoked_at", "2022-05-19 10:03:40.225408"], ["id", 21]]
  [1m[36mDoorkeeper::Application Load (0.3ms)[0m  [1m[34mSELECT "oauth_applications".* FROM "oauth_applications" WHERE "oauth_applications"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Doorkeeper::Application Load (0.0ms)[0m  [1m[34mSELECT "oauth_applications".* FROM "oauth_applications" WHERE "oauth_applications"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDoorkeeper::AccessToken Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mDoorkeeper::AccessToken Create (4.3ms)[0m  [1m[32mINSERT INTO "oauth_access_tokens" ("resource_owner_id", "application_id", "token", "refresh_token", "expires_in", "revoked_at", "created_at", "scopes", "previous_refresh_token") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["resource_owner_id", 1], ["application_id", 1], ["token", "[FILTERED]"], ["refresh_token", "[FILTERED]"], ["expires_in", 7200], ["revoked_at", nil], ["created_at", "2022-05-19 10:03:40.229612"], ["scopes", "public_writes"], ["previous_refresh_token", "[FILTERED]"]]
  [1m[36mTRANSACTION (4.2ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 46ms (Views: 0.2ms | ActiveRecord: 10.7ms | Allocations: 10324)


Started GET "/accounts/current" for ::1 at 2022-05-19 12:03:40 +0200
Processing by AccountsController#current as */*
  [1m[36mDoorkeeper::AccessToken Load (0.3ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "[FILTERED]"], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:87:in `current_account'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:88:in `current_account'
Completed 200 OK in 3ms (Views: 0.4ms | ActiveRecord: 0.5ms | Allocations: 1306)


Started GET "/oauth/authorize?client_id=c7N5hF3EI1-ML-dZd7ML9RCzICD7yqsP2dfZWgw1jCk&redirect_uri=http%3A%2F%2Flocalhost%3A3002%2Fauth%2Fkeepa%2Fcallback&response_type=code&scope=public_writes&state=4fe878fe88aa8bae769229cbe4739a23aa36219344218cb9" for ::1 at 2022-05-19 12:05:17 +0200
Processing by Doorkeeper::AuthorizationsController#new as HTML
  Parameters: {"client_id"=>"c7N5hF3EI1-ML-dZd7ML9RCzICD7yqsP2dfZWgw1jCk", "redirect_uri"=>"http://localhost:3002/auth/keepa/callback", "response_type"=>"code", "scope"=>"public_writes", "state"=>"4fe878fe88aa8bae769229cbe4739a23aa36219344218cb9"}
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ config/initializers/doorkeeper.rb:15:in `block (2 levels) in <main>'
  [1m[36mDoorkeeper::Application Load (5.8ms)[0m  [1m[34mSELECT "oauth_applications".* FROM "oauth_applications" WHERE "oauth_applications"."uid" = $1 LIMIT $2[0m  [["uid", "c7N5hF3EI1-ML-dZd7ML9RCzICD7yqsP2dfZWgw1jCk"], ["LIMIT", 1]]
  [1m[36mCACHE Doorkeeper::Application Load (0.0ms)[0m  [1m[34mSELECT "oauth_applications".* FROM "oauth_applications" WHERE "oauth_applications"."uid" = $1 LIMIT $2[0m  [["uid", "c7N5hF3EI1-ML-dZd7ML9RCzICD7yqsP2dfZWgw1jCk"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDoorkeeper::AccessGrant Exists? (1.8ms)[0m  [1m[34mSELECT 1 AS one FROM "oauth_access_grants" WHERE "oauth_access_grants"."token" = $1 LIMIT $2[0m  [["token", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mDoorkeeper::AccessGrant Create (52.5ms)[0m  [1m[32mINSERT INTO "oauth_access_grants" ("resource_owner_id", "application_id", "token", "expires_in", "redirect_uri", "created_at", "revoked_at", "scopes") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["resource_owner_id", 1], ["application_id", 2], ["token", "[FILTERED]"], ["expires_in", 600], ["redirect_uri", "http://localhost:3002/auth/keepa/callback"], ["created_at", "2022-05-19 10:05:17.549330"], ["revoked_at", nil], ["scopes", "public_writes"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3002/auth/keepa/callback?code=qp5EGfcxec7HxZkE-zlyvUMsQqEFQb6Ao81FCmYOlB4&state=4fe878fe88aa8bae769229cbe4739a23aa36219344218cb9
Completed 302 Found in 77ms (ActiveRecord: 61.1ms | Allocations: 8115)


Started POST "/oauth/token" for ::1 at 2022-05-19 12:05:17 +0200
Processing by Doorkeeper::TokensController#create as */*
  Parameters: {"client_id"=>"c7N5hF3EI1-ML-dZd7ML9RCzICD7yqsP2dfZWgw1jCk", "client_secret"=>"[FILTERED]", "code"=>"[FILTERED]", "grant_type"=>"authorization_code", "redirect_uri"=>"http://localhost:3002/auth/keepa/callback?code=qp5EGfcxec7HxZkE-zlyvUMsQqEFQb6Ao81FCmYOlB4&state=4fe878fe88aa8bae769229cbe4739a23aa36219344218cb9"}
  [1m[36mDoorkeeper::AccessGrant Load (0.2ms)[0m  [1m[34mSELECT "oauth_access_grants".* FROM "oauth_access_grants" WHERE "oauth_access_grants"."token" = $1 LIMIT $2[0m  [["token", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mDoorkeeper::Application Load (0.8ms)[0m  [1m[34mSELECT "oauth_applications".* FROM "oauth_applications" WHERE "oauth_applications"."uid" = $1 LIMIT $2[0m  [["uid", "c7N5hF3EI1-ML-dZd7ML9RCzICD7yqsP2dfZWgw1jCk"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDoorkeeper::AccessGrant Load (0.4ms)[0m  [1m[37mSELECT "oauth_access_grants".* FROM "oauth_access_grants" WHERE "oauth_access_grants"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 22], ["LIMIT", 1]]
  [1m[36mDoorkeeper::AccessGrant Update (0.4ms)[0m  [1m[33mUPDATE "oauth_access_grants" SET "revoked_at" = $1 WHERE "oauth_access_grants"."id" = $2[0m  [["revoked_at", "2022-05-19 10:05:17.650069"], ["id", 22]]
  [1m[36mDoorkeeper::Application Load (0.3ms)[0m  [1m[34mSELECT "oauth_applications".* FROM "oauth_applications" WHERE "oauth_applications"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE Doorkeeper::Application Load (0.0ms)[0m  [1m[34mSELECT "oauth_applications".* FROM "oauth_applications" WHERE "oauth_applications"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mDoorkeeper::AccessToken Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mDoorkeeper::AccessToken Create (0.3ms)[0m  [1m[32mINSERT INTO "oauth_access_tokens" ("resource_owner_id", "application_id", "token", "refresh_token", "expires_in", "revoked_at", "created_at", "scopes", "previous_refresh_token") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["resource_owner_id", 1], ["application_id", 2], ["token", "[FILTERED]"], ["refresh_token", "[FILTERED]"], ["expires_in", 7200], ["revoked_at", nil], ["created_at", "2022-05-19 10:05:17.654846"], ["scopes", "public_writes"], ["previous_refresh_token", "[FILTERED]"]]
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 46ms (Views: 0.2ms | ActiveRecord: 5.0ms | Allocations: 10310)


Started GET "/accounts/current" for ::1 at 2022-05-19 12:05:17 +0200
Processing by AccountsController#current as */*
  [1m[36mDoorkeeper::AccessToken Load (0.3ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "[FILTERED]"], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:87:in `current_account'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:88:in `current_account'
Completed 200 OK in 3ms (Views: 0.3ms | ActiveRecord: 0.5ms | Allocations: 1306)


